var Y_=t=>{throw TypeError(t)};var pm=(t,e,n)=>e.has(t)||Y_("Cannot "+n);var z=(t,e,n)=>(pm(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?Y_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(pm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Mt=(t,e,n)=>(pm(t,e,"access private method"),n);var md=(t,e,n,r)=>({set _(i){ge(t,e,i,n)},get _(){return z(t,e,r)}});function GD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var QD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PT={exports:{}},Vf={},RT={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=Symbol.for("react.element"),YD=Symbol.for("react.portal"),XD=Symbol.for("react.fragment"),JD=Symbol.for("react.strict_mode"),ZD=Symbol.for("react.profiler"),eM=Symbol.for("react.provider"),tM=Symbol.for("react.context"),nM=Symbol.for("react.forward_ref"),rM=Symbol.for("react.suspense"),iM=Symbol.for("react.memo"),sM=Symbol.for("react.lazy"),X_=Symbol.iterator;function oM(t){return t===null||typeof t!="object"?null:(t=X_&&t[X_]||t["@@iterator"],typeof t=="function"?t:null)}var kT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NT=Object.assign,DT={};function tl(t,e,n){this.props=t,this.context=e,this.refs=DT,this.updater=n||kT}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MT(){}MT.prototype=tl.prototype;function yv(t,e,n){this.props=t,this.context=e,this.refs=DT,this.updater=n||kT}var vv=yv.prototype=new MT;vv.constructor=yv;NT(vv,tl.prototype);vv.isPureReactComponent=!0;var J_=Array.isArray,OT=Object.prototype.hasOwnProperty,wv={current:null},FT={key:!0,ref:!0,__self:!0,__source:!0};function VT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)OT.call(e,r)&&!FT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Cu,type:t,key:s,ref:o,props:i,_owner:wv.current}}function aM(t,e){return{$$typeof:Cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _v(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cu}function lM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Z_=/\/+/g;function mm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lM(""+t.key):e.toString(36)}function Yd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cu:case YD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+mm(o,0):r,J_(i)?(n="",t!=null&&(n=t.replace(Z_,"$&/")+"/"),Yd(i,e,n,"",function(c){return c})):i!=null&&(_v(i)&&(i=aM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Z_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",J_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+mm(s,a);o+=Yd(s,e,n,l,i)}else if(l=oM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+mm(s,a++),o+=Yd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gd(t,e,n){if(t==null)return t;var r=[],i=0;return Yd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function cM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},Xd={transition:null},uM={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Xd,ReactCurrentOwner:wv};function LT(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:gd,forEach:function(t,e,n){gd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gd(t,function(){e++}),e},toArray:function(t){return gd(t,function(e){return e})||[]},only:function(t){if(!_v(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=tl;_e.Fragment=XD;_e.Profiler=ZD;_e.PureComponent=yv;_e.StrictMode=JD;_e.Suspense=rM;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uM;_e.act=LT;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)OT.call(e,l)&&!FT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Cu,type:t.type,key:i,ref:s,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:tM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eM,_context:t},t.Consumer=t};_e.createElement=VT;_e.createFactory=function(t){var e=VT.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:nM,render:t}};_e.isValidElement=_v;_e.lazy=function(t){return{$$typeof:sM,_payload:{_status:-1,_result:t},_init:cM}};_e.memo=function(t,e){return{$$typeof:iM,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Xd.transition;Xd.transition={};try{t()}finally{Xd.transition=e}};_e.unstable_act=LT;_e.useCallback=function(t,e){return en.current.useCallback(t,e)};_e.useContext=function(t){return en.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return en.current.useDeferredValue(t)};_e.useEffect=function(t,e){return en.current.useEffect(t,e)};_e.useId=function(){return en.current.useId()};_e.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return en.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};_e.useRef=function(t){return en.current.useRef(t)};_e.useState=function(t){return en.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return en.current.useTransition()};_e.version="18.3.1";RT.exports=_e;var y=RT.exports;const H=gv(y),jT=GD({__proto__:null,default:H},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dM=y,hM=Symbol.for("react.element"),fM=Symbol.for("react.fragment"),pM=Object.prototype.hasOwnProperty,mM=dM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gM={key:!0,ref:!0,__self:!0,__source:!0};function BT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)pM.call(e,r)&&!gM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hM,type:t,key:s,ref:o,props:i,_owner:mM.current}}Vf.Fragment=fM;Vf.jsx=BT;Vf.jsxs=BT;PT.exports=Vf;var p=PT.exports,UT={exports:{}},Cn={},$T={exports:{}},zT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var Y=L.length;L.push(B);e:for(;0<Y;){var G=Y-1>>>1,J=L[G];if(0<i(J,B))L[G]=B,L[Y]=J,Y=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],Y=L.pop();if(Y!==B){L[0]=Y;e:for(var G=0,J=L.length,ee=J>>>1;G<ee;){var fe=2*(G+1)-1,Se=L[fe],le=fe+1,pe=L[le];if(0>i(Se,Y))le<J&&0>i(pe,Se)?(L[G]=pe,L[le]=Y,G=le):(L[G]=Se,L[fe]=Y,G=fe);else if(le<J&&0>i(pe,Y))L[G]=pe,L[le]=Y,G=le;else break e}}return B}function i(L,B){var Y=L.sortIndex-B.sortIndex;return Y!==0?Y:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(L){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=L)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function D(L){if(v=!1,I(L),!w)if(n(l)!==null)w=!0,Z(M);else{var B=n(c);B!==null&&oe(D,B.startTime-L)}}function M(L,B){w=!1,v&&(v=!1,E(T),T=-1),g=!0;var Y=f;try{for(I(B),h=n(l);h!==null&&(!(h.expirationTime>B)||L&&!k());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var J=G(h.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(l)&&r(l),I(B)}else r(l);h=n(l)}if(h!==null)var ee=!0;else{var fe=n(c);fe!==null&&oe(D,fe.startTime-B),ee=!1}return ee}finally{h=null,f=Y,g=!1}}var O=!1,S=null,T=-1,C=5,N=-1;function k(){return!(t.unstable_now()-N<C)}function R(){if(S!==null){var L=t.unstable_now();N=L;var B=!0;try{B=S(!0,L)}finally{B?P():(O=!1,S=null)}}else O=!1}var P;if(typeof x=="function")P=function(){x(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ne=U.port2;U.port1.onmessage=R,P=function(){ne.postMessage(null)}}else P=function(){b(R,0)};function Z(L){S=L,O||(O=!0,P())}function oe(L,B){T=b(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,Z(M))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var Y=f;f=B;try{return L()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=f;f=L;try{return B()}finally{f=Y}},t.unstable_scheduleCallback=function(L,B,Y){var G=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?G+Y:G):Y=G,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,L={id:d++,callback:B,priorityLevel:L,startTime:Y,expirationTime:J,sortIndex:-1},Y>G?(L.sortIndex=Y,e(c,L),n(l)===null&&L===n(c)&&(v?(E(T),T=-1):v=!0,oe(D,Y-G))):(L.sortIndex=J,e(l,L),w||g||(w=!0,Z(M))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var B=f;return function(){var Y=f;f=B;try{return L.apply(this,arguments)}finally{f=Y}}}})(zT);$T.exports=zT;var yM=$T.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM=y,In=yM;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qT=new Set,Oc={};function _o(t,e){Ra(t,e),Ra(t+"Capture",e)}function Ra(t,e){for(Oc[t]=e,t=0;t<e.length;t++)qT.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eg=Object.prototype.hasOwnProperty,wM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ex={},tx={};function _M(t){return Eg.call(tx,t)?!0:Eg.call(ex,t)?!1:wM.test(t)?tx[t]=!0:(ex[t]=!0,!1)}function xM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EM(t,e,n,r){if(e===null||typeof e>"u"||xM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var xv=/[\-:]([a-z])/g;function Ev(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xv,Ev);Rt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xv,Ev);Rt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xv,Ev);Rt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function bv(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EM(e,n,i,r)&&(n=null),r||i===null?_M(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ri=vM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yd=Symbol.for("react.element"),Go=Symbol.for("react.portal"),Qo=Symbol.for("react.fragment"),Tv=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),WT=Symbol.for("react.provider"),HT=Symbol.for("react.context"),Iv=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Ig=Symbol.for("react.suspense_list"),Sv=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),KT=Symbol.for("react.offscreen"),nx=Symbol.iterator;function Ll(t){return t===null||typeof t!="object"?null:(t=nx&&t[nx]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,gm;function tc(t){if(gm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gm=e&&e[1]||""}return`
`+gm+t}var ym=!1;function vm(t,e){if(!t||ym)return"";ym=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ym=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tc(t):""}function bM(t){switch(t.tag){case 5:return tc(t.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return t=vm(t.type,!1),t;case 11:return t=vm(t.type.render,!1),t;case 1:return t=vm(t.type,!0),t;default:return""}}function Sg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qo:return"Fragment";case Go:return"Portal";case bg:return"Profiler";case Tv:return"StrictMode";case Tg:return"Suspense";case Ig:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HT:return(t.displayName||"Context")+".Consumer";case WT:return(t._context.displayName||"Context")+".Provider";case Iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sv:return e=t.displayName||null,e!==null?e:Sg(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return Sg(t(e))}catch{}}return null}function TM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sg(e);case 8:return e===Tv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IM(t){var e=GT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vd(t){t._valueTracker||(t._valueTracker=IM(t))}function QT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ph(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cg(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YT(t,e){e=e.checked,e!=null&&bv(t,"checked",e,!1)}function Ag(t,e){YT(t,e);var n=ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pg(t,e.type,ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ix(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pg(t,e,n){(e!=="number"||Ph(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nc=Array.isArray;function oa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(nc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ns(n)}}function XT(t,e){var n=ns(e.value),r=ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ox(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wd,ZT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wd=wd||document.createElement("div"),wd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SM=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(t){SM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pc[e]=pc[t]})});function eI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pc.hasOwnProperty(t)&&pc[t]?(""+e).trim():e+"px"}function tI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CM=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ng(t,e){if(e){if(CM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Dg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mg=null;function Cv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Og=null,aa=null,la=null;function ax(t){if(t=Ru(t)){if(typeof Og!="function")throw Error(W(280));var e=t.stateNode;e&&(e=$f(e),Og(t.stateNode,t.type,e))}}function nI(t){aa?la?la.push(t):la=[t]:aa=t}function rI(){if(aa){var t=aa,e=la;if(la=aa=null,ax(t),e)for(t=0;t<e.length;t++)ax(e[t])}}function iI(t,e){return t(e)}function sI(){}var wm=!1;function oI(t,e,n){if(wm)return t(e,n);wm=!0;try{return iI(t,e,n)}finally{wm=!1,(aa!==null||la!==null)&&(sI(),rI())}}function Vc(t,e){var n=t.stateNode;if(n===null)return null;var r=$f(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Fg=!1;if(Hr)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){Fg=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{Fg=!1}function AM(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var mc=!1,Rh=null,kh=!1,Vg=null,PM={onError:function(t){mc=!0,Rh=t}};function RM(t,e,n,r,i,s,o,a,l){mc=!1,Rh=null,AM.apply(PM,arguments)}function kM(t,e,n,r,i,s,o,a,l){if(RM.apply(this,arguments),mc){if(mc){var c=Rh;mc=!1,Rh=null}else throw Error(W(198));kh||(kh=!0,Vg=c)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lx(t){if(xo(t)!==t)throw Error(W(188))}function NM(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return lx(i),t;if(s===r)return lx(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function lI(t){return t=NM(t),t!==null?cI(t):null}function cI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cI(t);if(e!==null)return e;t=t.sibling}return null}var uI=In.unstable_scheduleCallback,cx=In.unstable_cancelCallback,DM=In.unstable_shouldYield,MM=In.unstable_requestPaint,ot=In.unstable_now,OM=In.unstable_getCurrentPriorityLevel,Av=In.unstable_ImmediatePriority,dI=In.unstable_UserBlockingPriority,Nh=In.unstable_NormalPriority,FM=In.unstable_LowPriority,hI=In.unstable_IdlePriority,Lf=null,_r=null;function VM(t){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Lf,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:BM,LM=Math.log,jM=Math.LN2;function BM(t){return t>>>=0,t===0?32:31-(LM(t)/jM|0)|0}var _d=64,xd=4194304;function rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=rc(a):(s&=o,s!==0&&(r=rc(s)))}else o=n&~i,o!==0?r=rc(o):s!==0&&(r=rc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function UM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $M(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=UM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Lg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fI(){var t=_d;return _d<<=1,!(_d&4194240)&&(_d=64),t}function _m(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function zM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Pv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function pI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mI,Rv,gI,yI,vI,jg=!1,Ed=[],Ui=null,$i=null,zi=null,Lc=new Map,jc=new Map,Si=[],qM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ux(t,e){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(e.pointerId)}}function Bl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ru(e),e!==null&&Rv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function WM(t,e,n,r,i){switch(e){case"focusin":return Ui=Bl(Ui,t,e,n,r,i),!0;case"dragenter":return $i=Bl($i,t,e,n,r,i),!0;case"mouseover":return zi=Bl(zi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lc.set(s,Bl(Lc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jc.set(s,Bl(jc.get(s)||null,t,e,n,r,i)),!0}return!1}function wI(t){var e=Fs(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=aI(n),e!==null){t.blockedOn=e,vI(t.priority,function(){gI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mg=r,n.target.dispatchEvent(r),Mg=null}else return e=Ru(n),e!==null&&Rv(e),t.blockedOn=n,!1;e.shift()}return!0}function dx(t,e,n){Jd(t)&&n.delete(e)}function HM(){jg=!1,Ui!==null&&Jd(Ui)&&(Ui=null),$i!==null&&Jd($i)&&($i=null),zi!==null&&Jd(zi)&&(zi=null),Lc.forEach(dx),jc.forEach(dx)}function Ul(t,e){t.blockedOn===e&&(t.blockedOn=null,jg||(jg=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,HM)))}function Bc(t){function e(i){return Ul(i,t)}if(0<Ed.length){Ul(Ed[0],t);for(var n=1;n<Ed.length;n++){var r=Ed[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ui!==null&&Ul(Ui,t),$i!==null&&Ul($i,t),zi!==null&&Ul(zi,t),Lc.forEach(e),jc.forEach(e),n=0;n<Si.length;n++)r=Si[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)wI(n),n.blockedOn===null&&Si.shift()}var ca=ri.ReactCurrentBatchConfig,Mh=!0;function KM(t,e,n,r){var i=Fe,s=ca.transition;ca.transition=null;try{Fe=1,kv(t,e,n,r)}finally{Fe=i,ca.transition=s}}function GM(t,e,n,r){var i=Fe,s=ca.transition;ca.transition=null;try{Fe=4,kv(t,e,n,r)}finally{Fe=i,ca.transition=s}}function kv(t,e,n,r){if(Mh){var i=Bg(t,e,n,r);if(i===null)Rm(t,e,r,Oh,n),ux(t,r);else if(WM(i,t,e,n,r))r.stopPropagation();else if(ux(t,r),e&4&&-1<qM.indexOf(t)){for(;i!==null;){var s=Ru(i);if(s!==null&&mI(s),s=Bg(t,e,n,r),s===null&&Rm(t,e,r,Oh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rm(t,e,r,null,n)}}var Oh=null;function Bg(t,e,n,r){if(Oh=null,t=Cv(r),t=Fs(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oh=t,null}function _I(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OM()){case Av:return 1;case dI:return 4;case Nh:case FM:return 16;case hI:return 536870912;default:return 16}default:return 16}}var Vi=null,Nv=null,Zd=null;function xI(){if(Zd)return Zd;var t,e=Nv,n=e.length,r,i="value"in Vi?Vi.value:Vi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zd=i.slice(t,1<r?1-r:void 0)}function eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bd(){return!0}function hx(){return!1}function An(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bd:hx,this.isPropagationStopped=hx,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dv=An(nl),Pu=et({},nl,{view:0,detail:0}),QM=An(Pu),xm,Em,$l,jf=et({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(xm=t.screenX-$l.screenX,Em=t.screenY-$l.screenY):Em=xm=0,$l=t),xm)},movementY:function(t){return"movementY"in t?t.movementY:Em}}),fx=An(jf),YM=et({},jf,{dataTransfer:0}),XM=An(YM),JM=et({},Pu,{relatedTarget:0}),bm=An(JM),ZM=et({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),eO=An(ZM),tO=et({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nO=An(tO),rO=et({},nl,{data:0}),px=An(rO),iO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oO[t])?!!e[t]:!1}function Mv(){return aO}var lO=et({},Pu,{key:function(t){if(t.key){var e=iO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mv,charCode:function(t){return t.type==="keypress"?eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cO=An(lO),uO=et({},jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mx=An(uO),dO=et({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mv}),hO=An(dO),fO=et({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),pO=An(fO),mO=et({},jf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gO=An(mO),yO=[9,13,27,32],Ov=Hr&&"CompositionEvent"in window,gc=null;Hr&&"documentMode"in document&&(gc=document.documentMode);var vO=Hr&&"TextEvent"in window&&!gc,EI=Hr&&(!Ov||gc&&8<gc&&11>=gc),gx=" ",yx=!1;function bI(t,e){switch(t){case"keyup":return yO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yo=!1;function wO(t,e){switch(t){case"compositionend":return TI(e);case"keypress":return e.which!==32?null:(yx=!0,gx);case"textInput":return t=e.data,t===gx&&yx?null:t;default:return null}}function _O(t,e){if(Yo)return t==="compositionend"||!Ov&&bI(t,e)?(t=xI(),Zd=Nv=Vi=null,Yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EI&&e.locale!=="ko"?null:e.data;default:return null}}var xO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xO[t.type]:e==="textarea"}function II(t,e,n,r){nI(r),e=Fh(e,"onChange"),0<e.length&&(n=new Dv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yc=null,Uc=null;function EO(t){FI(t,0)}function Bf(t){var e=Zo(t);if(QT(e))return t}function bO(t,e){if(t==="change")return e}var SI=!1;if(Hr){var Tm;if(Hr){var Im="oninput"in document;if(!Im){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),Im=typeof wx.oninput=="function"}Tm=Im}else Tm=!1;SI=Tm&&(!document.documentMode||9<document.documentMode)}function _x(){yc&&(yc.detachEvent("onpropertychange",CI),Uc=yc=null)}function CI(t){if(t.propertyName==="value"&&Bf(Uc)){var e=[];II(e,Uc,t,Cv(t)),oI(EO,e)}}function TO(t,e,n){t==="focusin"?(_x(),yc=e,Uc=n,yc.attachEvent("onpropertychange",CI)):t==="focusout"&&_x()}function IO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bf(Uc)}function SO(t,e){if(t==="click")return Bf(e)}function CO(t,e){if(t==="input"||t==="change")return Bf(e)}function AO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:AO;function $c(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eg.call(e,i)||!tr(t[i],e[i]))return!1}return!0}function xx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ex(t,e){var n=xx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xx(n)}}function AI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PI(){for(var t=window,e=Ph();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ph(t.document)}return e}function Fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PO(t){var e=PI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AI(n.ownerDocument.documentElement,n)){if(r!==null&&Fv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ex(n,s);var o=Ex(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RO=Hr&&"documentMode"in document&&11>=document.documentMode,Xo=null,Ug=null,vc=null,$g=!1;function bx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$g||Xo==null||Xo!==Ph(r)||(r=Xo,"selectionStart"in r&&Fv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vc&&$c(vc,r)||(vc=r,r=Fh(Ug,"onSelect"),0<r.length&&(e=new Dv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xo)))}function Td(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jo={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},Sm={},RI={};Hr&&(RI=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Uf(t){if(Sm[t])return Sm[t];if(!Jo[t])return t;var e=Jo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RI)return Sm[t]=e[n];return t}var kI=Uf("animationend"),NI=Uf("animationiteration"),DI=Uf("animationstart"),MI=Uf("transitionend"),OI=new Map,Tx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(t,e){OI.set(t,e),_o(e,[t])}for(var Cm=0;Cm<Tx.length;Cm++){var Am=Tx[Cm],kO=Am.toLowerCase(),NO=Am[0].toUpperCase()+Am.slice(1);fs(kO,"on"+NO)}fs(kI,"onAnimationEnd");fs(NI,"onAnimationIteration");fs(DI,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(MI,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);_o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_o("onBeforeInput",["compositionend","keypress","textInput","paste"]);_o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function Ix(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kM(r,e,void 0,t),t.currentTarget=null}function FI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ix(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ix(i,a,c),s=l}}}if(kh)throw t=Vg,kh=!1,Vg=null,t}function qe(t,e){var n=e[Kg];n===void 0&&(n=e[Kg]=new Set);var r=t+"__bubble";n.has(r)||(VI(e,t,2,!1),n.add(r))}function Pm(t,e,n){var r=0;e&&(r|=4),VI(n,t,r,e)}var Id="_reactListening"+Math.random().toString(36).slice(2);function zc(t){if(!t[Id]){t[Id]=!0,qT.forEach(function(n){n!=="selectionchange"&&(DO.has(n)||Pm(n,!1,t),Pm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Id]||(e[Id]=!0,Pm("selectionchange",!1,e))}}function VI(t,e,n,r){switch(_I(e)){case 1:var i=KM;break;case 4:i=GM;break;default:i=kv}n=i.bind(null,e,n,t),i=void 0,!Fg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}oI(function(){var c=s,d=Cv(n),h=[];e:{var f=OI.get(t);if(f!==void 0){var g=Dv,w=t;switch(t){case"keypress":if(eh(n)===0)break e;case"keydown":case"keyup":g=cO;break;case"focusin":w="focus",g=bm;break;case"focusout":w="blur",g=bm;break;case"beforeblur":case"afterblur":g=bm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=XM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=hO;break;case kI:case NI:case DI:g=eO;break;case MI:g=pO;break;case"scroll":g=QM;break;case"wheel":g=gO;break;case"copy":case"cut":case"paste":g=nO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mx}var v=(e&4)!==0,b=!v&&t==="scroll",E=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,I;x!==null;){I=x;var D=I.stateNode;if(I.tag===5&&D!==null&&(I=D,E!==null&&(D=Vc(x,E),D!=null&&v.push(qc(x,D,I)))),b)break;x=x.return}0<v.length&&(f=new g(f,w,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Mg&&(w=n.relatedTarget||n.fromElement)&&(Fs(w)||w[Kr]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Fs(w):null,w!==null&&(b=xo(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=fx,D="onMouseLeave",E="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=mx,D="onPointerLeave",E="onPointerEnter",x="pointer"),b=g==null?f:Zo(g),I=w==null?f:Zo(w),f=new v(D,x+"leave",g,n,d),f.target=b,f.relatedTarget=I,D=null,Fs(d)===c&&(v=new v(E,x+"enter",w,n,d),v.target=I,v.relatedTarget=b,D=v),b=D,g&&w)t:{for(v=g,E=w,x=0,I=v;I;I=No(I))x++;for(I=0,D=E;D;D=No(D))I++;for(;0<x-I;)v=No(v),x--;for(;0<I-x;)E=No(E),I--;for(;x--;){if(v===E||E!==null&&v===E.alternate)break t;v=No(v),E=No(E)}v=null}else v=null;g!==null&&Sx(h,f,g,v,!1),w!==null&&b!==null&&Sx(h,b,w,v,!0)}}e:{if(f=c?Zo(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var M=bO;else if(vx(f))if(SI)M=CO;else{M=IO;var O=TO}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=SO);if(M&&(M=M(t,c))){II(h,M,n,d);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Pg(f,"number",f.value)}switch(O=c?Zo(c):window,t){case"focusin":(vx(O)||O.contentEditable==="true")&&(Xo=O,Ug=c,vc=null);break;case"focusout":vc=Ug=Xo=null;break;case"mousedown":$g=!0;break;case"contextmenu":case"mouseup":case"dragend":$g=!1,bx(h,n,d);break;case"selectionchange":if(RO)break;case"keydown":case"keyup":bx(h,n,d)}var S;if(Ov)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Yo?bI(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(EI&&n.locale!=="ko"&&(Yo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Yo&&(S=xI()):(Vi=d,Nv="value"in Vi?Vi.value:Vi.textContent,Yo=!0)),O=Fh(c,T),0<O.length&&(T=new px(T,t,null,n,d),h.push({event:T,listeners:O}),S?T.data=S:(S=TI(n),S!==null&&(T.data=S)))),(S=vO?wO(t,n):_O(t,n))&&(c=Fh(c,"onBeforeInput"),0<c.length&&(d=new px("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}FI(h,e)})}function qc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vc(t,n),s!=null&&r.unshift(qc(t,s,i)),s=Vc(t,e),s!=null&&r.push(qc(t,s,i))),t=t.return}return r}function No(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Vc(n,s),l!=null&&o.unshift(qc(n,l,a))):i||(l=Vc(n,s),l!=null&&o.push(qc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var MO=/\r\n?/g,OO=/\u0000|\uFFFD/g;function Cx(t){return(typeof t=="string"?t:""+t).replace(MO,`
`).replace(OO,"")}function Sd(t,e,n){if(e=Cx(e),Cx(t)!==e&&n)throw Error(W(425))}function Vh(){}var zg=null,qg=null;function Wg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hg=typeof setTimeout=="function"?setTimeout:void 0,FO=typeof clearTimeout=="function"?clearTimeout:void 0,Ax=typeof Promise=="function"?Promise:void 0,VO=typeof queueMicrotask=="function"?queueMicrotask:typeof Ax<"u"?function(t){return Ax.resolve(null).then(t).catch(LO)}:Hg;function LO(t){setTimeout(function(){throw t})}function km(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bc(e)}function qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Px(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),gr="__reactFiber$"+rl,Wc="__reactProps$"+rl,Kr="__reactContainer$"+rl,Kg="__reactEvents$"+rl,jO="__reactListeners$"+rl,BO="__reactHandles$"+rl;function Fs(t){var e=t[gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kr]||n[gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Px(t);t!==null;){if(n=t[gr])return n;t=Px(t)}return e}t=n,n=t.parentNode}return null}function Ru(t){return t=t[gr]||t[Kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function $f(t){return t[Wc]||null}var Gg=[],ea=-1;function ps(t){return{current:t}}function We(t){0>ea||(t.current=Gg[ea],Gg[ea]=null,ea--)}function Be(t,e){ea++,Gg[ea]=t.current,t.current=e}var rs={},qt=ps(rs),cn=ps(!1),Js=rs;function ka(t,e){var n=t.type.contextTypes;if(!n)return rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function un(t){return t=t.childContextTypes,t!=null}function Lh(){We(cn),We(qt)}function Rx(t,e,n){if(qt.current!==rs)throw Error(W(168));Be(qt,e),Be(cn,n)}function LI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,TM(t)||"Unknown",i));return et({},n,r)}function jh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rs,Js=qt.current,Be(qt,t),Be(cn,cn.current),!0}function kx(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=LI(t,e,Js),r.__reactInternalMemoizedMergedChildContext=t,We(cn),We(qt),Be(qt,t)):We(cn),Be(cn,n)}var Lr=null,zf=!1,Nm=!1;function jI(t){Lr===null?Lr=[t]:Lr.push(t)}function UO(t){zf=!0,jI(t)}function ms(){if(!Nm&&Lr!==null){Nm=!0;var t=0,e=Fe;try{var n=Lr;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lr=null,zf=!1}catch(i){throw Lr!==null&&(Lr=Lr.slice(t+1)),uI(Av,ms),i}finally{Fe=e,Nm=!1}}return null}var ta=[],na=0,Bh=null,Uh=0,kn=[],Nn=0,Zs=null,Br=1,Ur="";function Ss(t,e){ta[na++]=Uh,ta[na++]=Bh,Bh=t,Uh=e}function BI(t,e,n){kn[Nn++]=Br,kn[Nn++]=Ur,kn[Nn++]=Zs,Zs=t;var r=Br;t=Ur;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Br=1<<32-Jn(e)+i|n<<i|r,Ur=s+t}else Br=1<<s|n<<i|r,Ur=t}function Vv(t){t.return!==null&&(Ss(t,1),BI(t,1,0))}function Lv(t){for(;t===Bh;)Bh=ta[--na],ta[na]=null,Uh=ta[--na],ta[na]=null;for(;t===Zs;)Zs=kn[--Nn],kn[Nn]=null,Ur=kn[--Nn],kn[Nn]=null,Br=kn[--Nn],kn[Nn]=null}var En=null,_n=null,Ke=!1,Gn=null;function UI(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,_n=qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zs!==null?{id:Br,overflow:Ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,_n=null,!0):!1;default:return!1}}function Qg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yg(t){if(Ke){var e=_n;if(e){var n=e;if(!Nx(t,e)){if(Qg(t))throw Error(W(418));e=qi(n.nextSibling);var r=En;e&&Nx(t,e)?UI(r,n):(t.flags=t.flags&-4097|2,Ke=!1,En=t)}}else{if(Qg(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ke=!1,En=t}}}function Dx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function Cd(t){if(t!==En)return!1;if(!Ke)return Dx(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wg(t.type,t.memoizedProps)),e&&(e=_n)){if(Qg(t))throw $I(),Error(W(418));for(;e;)UI(t,e),e=qi(e.nextSibling)}if(Dx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=En?qi(t.stateNode.nextSibling):null;return!0}function $I(){for(var t=_n;t;)t=qi(t.nextSibling)}function Na(){_n=En=null,Ke=!1}function jv(t){Gn===null?Gn=[t]:Gn.push(t)}var $O=ri.ReactCurrentBatchConfig;function zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ad(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mx(t){var e=t._init;return e(t._payload)}function zI(t){function e(E,x){if(t){var I=E.deletions;I===null?(E.deletions=[x],E.flags|=16):I.push(x)}}function n(E,x){if(!t)return null;for(;x!==null;)e(E,x),x=x.sibling;return null}function r(E,x){for(E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function i(E,x){return E=Gi(E,x),E.index=0,E.sibling=null,E}function s(E,x,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<x?(E.flags|=2,x):I):(E.flags|=2,x)):(E.flags|=1048576,x)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,x,I,D){return x===null||x.tag!==6?(x=jm(I,E.mode,D),x.return=E,x):(x=i(x,I),x.return=E,x)}function l(E,x,I,D){var M=I.type;return M===Qo?d(E,x,I.props.children,D,I.key):x!==null&&(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ti&&Mx(M)===x.type)?(D=i(x,I.props),D.ref=zl(E,x,I),D.return=E,D):(D=ah(I.type,I.key,I.props,null,E.mode,D),D.ref=zl(E,x,I),D.return=E,D)}function c(E,x,I,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==I.containerInfo||x.stateNode.implementation!==I.implementation?(x=Bm(I,E.mode,D),x.return=E,x):(x=i(x,I.children||[]),x.return=E,x)}function d(E,x,I,D,M){return x===null||x.tag!==7?(x=Ks(I,E.mode,D,M),x.return=E,x):(x=i(x,I),x.return=E,x)}function h(E,x,I){if(typeof x=="string"&&x!==""||typeof x=="number")return x=jm(""+x,E.mode,I),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yd:return I=ah(x.type,x.key,x.props,null,E.mode,I),I.ref=zl(E,null,x),I.return=E,I;case Go:return x=Bm(x,E.mode,I),x.return=E,x;case Ti:var D=x._init;return h(E,D(x._payload),I)}if(nc(x)||Ll(x))return x=Ks(x,E.mode,I,null),x.return=E,x;Ad(E,x)}return null}function f(E,x,I,D){var M=x!==null?x.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return M!==null?null:a(E,x,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case yd:return I.key===M?l(E,x,I,D):null;case Go:return I.key===M?c(E,x,I,D):null;case Ti:return M=I._init,f(E,x,M(I._payload),D)}if(nc(I)||Ll(I))return M!==null?null:d(E,x,I,D,null);Ad(E,I)}return null}function g(E,x,I,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return E=E.get(I)||null,a(x,E,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case yd:return E=E.get(D.key===null?I:D.key)||null,l(x,E,D,M);case Go:return E=E.get(D.key===null?I:D.key)||null,c(x,E,D,M);case Ti:var O=D._init;return g(E,x,I,O(D._payload),M)}if(nc(D)||Ll(D))return E=E.get(I)||null,d(x,E,D,M,null);Ad(x,D)}return null}function w(E,x,I,D){for(var M=null,O=null,S=x,T=x=0,C=null;S!==null&&T<I.length;T++){S.index>T?(C=S,S=null):C=S.sibling;var N=f(E,S,I[T],D);if(N===null){S===null&&(S=C);break}t&&S&&N.alternate===null&&e(E,S),x=s(N,x,T),O===null?M=N:O.sibling=N,O=N,S=C}if(T===I.length)return n(E,S),Ke&&Ss(E,T),M;if(S===null){for(;T<I.length;T++)S=h(E,I[T],D),S!==null&&(x=s(S,x,T),O===null?M=S:O.sibling=S,O=S);return Ke&&Ss(E,T),M}for(S=r(E,S);T<I.length;T++)C=g(S,E,T,I[T],D),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),x=s(C,x,T),O===null?M=C:O.sibling=C,O=C);return t&&S.forEach(function(k){return e(E,k)}),Ke&&Ss(E,T),M}function v(E,x,I,D){var M=Ll(I);if(typeof M!="function")throw Error(W(150));if(I=M.call(I),I==null)throw Error(W(151));for(var O=M=null,S=x,T=x=0,C=null,N=I.next();S!==null&&!N.done;T++,N=I.next()){S.index>T?(C=S,S=null):C=S.sibling;var k=f(E,S,N.value,D);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(E,S),x=s(k,x,T),O===null?M=k:O.sibling=k,O=k,S=C}if(N.done)return n(E,S),Ke&&Ss(E,T),M;if(S===null){for(;!N.done;T++,N=I.next())N=h(E,N.value,D),N!==null&&(x=s(N,x,T),O===null?M=N:O.sibling=N,O=N);return Ke&&Ss(E,T),M}for(S=r(E,S);!N.done;T++,N=I.next())N=g(S,E,T,N.value,D),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?T:N.key),x=s(N,x,T),O===null?M=N:O.sibling=N,O=N);return t&&S.forEach(function(R){return e(E,R)}),Ke&&Ss(E,T),M}function b(E,x,I,D){if(typeof I=="object"&&I!==null&&I.type===Qo&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case yd:e:{for(var M=I.key,O=x;O!==null;){if(O.key===M){if(M=I.type,M===Qo){if(O.tag===7){n(E,O.sibling),x=i(O,I.props.children),x.return=E,E=x;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ti&&Mx(M)===O.type){n(E,O.sibling),x=i(O,I.props),x.ref=zl(E,O,I),x.return=E,E=x;break e}n(E,O);break}else e(E,O);O=O.sibling}I.type===Qo?(x=Ks(I.props.children,E.mode,D,I.key),x.return=E,E=x):(D=ah(I.type,I.key,I.props,null,E.mode,D),D.ref=zl(E,x,I),D.return=E,E=D)}return o(E);case Go:e:{for(O=I.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===I.containerInfo&&x.stateNode.implementation===I.implementation){n(E,x.sibling),x=i(x,I.children||[]),x.return=E,E=x;break e}else{n(E,x);break}else e(E,x);x=x.sibling}x=Bm(I,E.mode,D),x.return=E,E=x}return o(E);case Ti:return O=I._init,b(E,x,O(I._payload),D)}if(nc(I))return w(E,x,I,D);if(Ll(I))return v(E,x,I,D);Ad(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,x!==null&&x.tag===6?(n(E,x.sibling),x=i(x,I),x.return=E,E=x):(n(E,x),x=jm(I,E.mode,D),x.return=E,E=x),o(E)):n(E,x)}return b}var Da=zI(!0),qI=zI(!1),$h=ps(null),zh=null,ra=null,Bv=null;function Uv(){Bv=ra=zh=null}function $v(t){var e=$h.current;We($h),t._currentValue=e}function Xg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ua(t,e){zh=t,Bv=ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(Bv!==t)if(t={context:t,memoizedValue:e,next:null},ra===null){if(zh===null)throw Error(W(308));ra=t,zh.dependencies={lanes:0,firstContext:t}}else ra=ra.next=t;return e}var Vs=null;function zv(t){Vs===null?Vs=[t]:Vs.push(t)}function WI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gr(t,r)}function Gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ii=!1;function qv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gr(t,n)}return i=r.interleaved,i===null?(e.next=e,zv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gr(t,n)}function th(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pv(t,n)}}function Ox(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qh(t,e,n,r){var i=t.updateQueue;Ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(f=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(g,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(g,h,f):w,f==null)break e;h=et({},h,f);break e;case 2:Ii=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);to|=o,t.lanes=o,t.memoizedState=h}}function Fx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var ku={},xr=ps(ku),Hc=ps(ku),Kc=ps(ku);function Ls(t){if(t===ku)throw Error(W(174));return t}function Wv(t,e){switch(Be(Kc,e),Be(Hc,t),Be(xr,ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kg(e,t)}We(xr),Be(xr,e)}function Ma(){We(xr),We(Hc),We(Kc)}function KI(t){Ls(Kc.current);var e=Ls(xr.current),n=kg(e,t.type);e!==n&&(Be(Hc,t),Be(xr,n))}function Hv(t){Hc.current===t&&(We(xr),We(Hc))}var Xe=ps(0);function Wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dm=[];function Kv(){for(var t=0;t<Dm.length;t++)Dm[t]._workInProgressVersionPrimary=null;Dm.length=0}var nh=ri.ReactCurrentDispatcher,Mm=ri.ReactCurrentBatchConfig,eo=0,Ze=null,yt=null,bt=null,Hh=!1,wc=!1,Gc=0,zO=0;function Ot(){throw Error(W(321))}function Gv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function Qv(t,e,n,r,i,s){if(eo=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nh.current=t===null||t.memoizedState===null?KO:GO,t=n(r,i),wc){s=0;do{if(wc=!1,Gc=0,25<=s)throw Error(W(301));s+=1,bt=yt=null,e.updateQueue=null,nh.current=QO,t=n(r,i)}while(wc)}if(nh.current=Kh,e=yt!==null&&yt.next!==null,eo=0,bt=yt=Ze=null,Hh=!1,e)throw Error(W(300));return t}function Yv(){var t=Gc!==0;return Gc=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ze.memoizedState=bt=t:bt=bt.next=t,bt}function Bn(){if(yt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=bt===null?Ze.memoizedState:bt.next;if(e!==null)bt=e,yt=t;else{if(t===null)throw Error(W(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},bt===null?Ze.memoizedState=bt=t:bt=bt.next=t}return bt}function Qc(t,e){return typeof e=="function"?e(t):e}function Om(t){var e=Bn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((eo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ze.lanes|=d,to|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,tr(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,to|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fm(t){var e=Bn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tr(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function GI(){}function QI(t,e){var n=Ze,r=Bn(),i=e(),s=!tr(r.memoizedState,i);if(s&&(r.memoizedState=i,an=!0),r=r.queue,Xv(JI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Yc(9,XI.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(W(349));eo&30||YI(n,e,i)}return i}function YI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XI(t,e,n,r){e.value=n,e.getSnapshot=r,ZI(e)&&eS(t)}function JI(t,e,n){return n(function(){ZI(e)&&eS(t)})}function ZI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function eS(t){var e=Gr(t,1);e!==null&&Zn(e,t,1,-1)}function Vx(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:t},e.queue=t,t=t.dispatch=HO.bind(null,Ze,t),[e.memoizedState,t]}function Yc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tS(){return Bn().memoizedState}function rh(t,e,n,r){var i=dr();Ze.flags|=t,i.memoizedState=Yc(1|e,n,void 0,r===void 0?null:r)}function qf(t,e,n,r){var i=Bn();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&Gv(r,o.deps)){i.memoizedState=Yc(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=Yc(1|e,n,s,r)}function Lx(t,e){return rh(8390656,8,t,e)}function Xv(t,e){return qf(2048,8,t,e)}function nS(t,e){return qf(4,2,t,e)}function rS(t,e){return qf(4,4,t,e)}function iS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sS(t,e,n){return n=n!=null?n.concat([t]):null,qf(4,4,iS.bind(null,e,t),n)}function Jv(){}function oS(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aS(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lS(t,e,n){return eo&21?(tr(n,e)||(n=fI(),Ze.lanes|=n,to|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function qO(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=Mm.transition;Mm.transition={};try{t(!1),e()}finally{Fe=n,Mm.transition=r}}function cS(){return Bn().memoizedState}function WO(t,e,n){var r=Ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uS(t))dS(e,n);else if(n=WI(t,e,n,r),n!==null){var i=Jt();Zn(n,t,r,i),hS(n,e,r)}}function HO(t,e,n){var r=Ki(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uS(t))dS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tr(a,o)){var l=e.interleaved;l===null?(i.next=i,zv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=WI(t,e,i,r),n!==null&&(i=Jt(),Zn(n,t,r,i),hS(n,e,r))}}function uS(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function dS(t,e){wc=Hh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pv(t,n)}}var Kh={readContext:jn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},KO={readContext:jn,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:Lx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rh(4194308,4,iS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rh(4194308,4,t,e)},useInsertionEffect:function(t,e){return rh(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WO.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:Vx,useDebugValue:Jv,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=Vx(!1),e=t[0];return t=qO.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=dr();if(Ke){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Tt===null)throw Error(W(349));eo&30||YI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Lx(JI.bind(null,r,s,t),[t]),r.flags|=2048,Yc(9,XI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=dr(),e=Tt.identifierPrefix;if(Ke){var n=Ur,r=Br;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GO={readContext:jn,useCallback:oS,useContext:jn,useEffect:Xv,useImperativeHandle:sS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:aS,useReducer:Om,useRef:tS,useState:function(){return Om(Qc)},useDebugValue:Jv,useDeferredValue:function(t){var e=Bn();return lS(e,yt.memoizedState,t)},useTransition:function(){var t=Om(Qc)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:GI,useSyncExternalStore:QI,useId:cS,unstable_isNewReconciler:!1},QO={readContext:jn,useCallback:oS,useContext:jn,useEffect:Xv,useImperativeHandle:sS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:aS,useReducer:Fm,useRef:tS,useState:function(){return Fm(Qc)},useDebugValue:Jv,useDeferredValue:function(t){var e=Bn();return yt===null?e.memoizedState=t:lS(e,yt.memoizedState,t)},useTransition:function(){var t=Fm(Qc)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:GI,useSyncExternalStore:QI,useId:cS,unstable_isNewReconciler:!1};function zn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wf={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=Ki(t),s=Wr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,i),e!==null&&(Zn(e,t,i,r),th(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=Ki(t),s=Wr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wi(t,s,i),e!==null&&(Zn(e,t,i,r),th(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=Ki(t),i=Wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wi(t,i,r),e!==null&&(Zn(e,t,r,n),th(e,t,r))}};function jx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!$c(n,r)||!$c(i,s):!0}function fS(t,e,n){var r=!1,i=rs,s=e.contextType;return typeof s=="object"&&s!==null?s=jn(s):(i=un(e)?Js:qt.current,r=e.contextTypes,s=(r=r!=null)?ka(t,i):rs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Bx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wf.enqueueReplaceState(e,e.state,null)}function Zg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=jn(s):(s=un(e)?Js:qt.current,i.context=ka(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wf.enqueueReplaceState(i,i.state,null),qh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oa(t,e){try{var n="",r=e;do n+=bM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ey(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YO=typeof WeakMap=="function"?WeakMap:Map;function pS(t,e,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qh||(Qh=!0,uy=r),ey(t,e)},n}function mS(t,e,n){n=Wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ey(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ey(t,e),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ux(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uF.bind(null,t,e,n),e.then(t,t))}function $x(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zx(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wr(-1,1),e.tag=2,Wi(n,e,1))),n.lanes|=1),t)}var XO=ri.ReactCurrentOwner,an=!1;function Gt(t,e,n,r){e.child=t===null?qI(e,null,n,r):Da(e,t.child,n,r)}function qx(t,e,n,r,i){n=n.render;var s=e.ref;return ua(e,i),r=Qv(t,e,n,r,s,i),n=Yv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Ke&&n&&Vv(e),e.flags|=1,Gt(t,e,r,i),e.child)}function Wx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!o0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gS(t,e,s,r,i)):(t=ah(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:$c,n(o,r)&&t.ref===e.ref)return Qr(t,e,i)}return e.flags|=1,t=Gi(s,r),t.ref=e.ref,t.return=e,e.child=t}function gS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($c(s,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Qr(t,e,i)}return ty(t,e,n,r,i)}function yS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(sa,yn),yn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(sa,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(sa,yn),yn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(sa,yn),yn|=r;return Gt(t,e,i,n),e.child}function vS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ty(t,e,n,r,i){var s=un(n)?Js:qt.current;return s=ka(e,s),ua(e,i),n=Qv(t,e,n,r,s,i),r=Yv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Ke&&r&&Vv(e),e.flags|=1,Gt(t,e,n,i),e.child)}function Hx(t,e,n,r,i){if(un(n)){var s=!0;jh(e)}else s=!1;if(ua(e,i),e.stateNode===null)ih(t,e),fS(e,n,r),Zg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=un(n)?Js:qt.current,c=ka(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Bx(e,o,r,c),Ii=!1;var f=e.memoizedState;o.state=f,qh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||cn.current||Ii?(typeof d=="function"&&(Jg(e,n,d,r),l=e.memoizedState),(a=Ii||jx(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,HI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:zn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=un(n)?Js:qt.current,l=ka(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Bx(e,o,r,l),Ii=!1,f=e.memoizedState,o.state=f,qh(e,r,o,i);var w=e.memoizedState;a!==h||f!==w||cn.current||Ii?(typeof g=="function"&&(Jg(e,n,g,r),w=e.memoizedState),(c=Ii||jx(e,n,c,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ny(t,e,n,r,s,i)}function ny(t,e,n,r,i,s){vS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kx(e,n,!1),Qr(t,e,s);r=e.stateNode,XO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Da(e,t.child,null,s),e.child=Da(e,null,a,s)):Gt(t,e,a,s),e.memoizedState=r.state,i&&kx(e,n,!0),e.child}function wS(t){var e=t.stateNode;e.pendingContext?Rx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rx(t,e.context,!1),Wv(t,e.containerInfo)}function Kx(t,e,n,r,i){return Na(),jv(i),e.flags|=256,Gt(t,e,n,r),e.child}var ry={dehydrated:null,treeContext:null,retryLane:0};function iy(t){return{baseLanes:t,cachePool:null,transitions:null}}function _S(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Xe,i&1),t===null)return Yg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gf(o,r,0,null),t=Ks(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=iy(n),e.memoizedState=ry,t):Zv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return JO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Gi(a,s):(s=Ks(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?iy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ry,r}return s=t.child,t=s.sibling,r=Gi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zv(t,e){return e=Gf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pd(t,e,n,r){return r!==null&&jv(r),Da(e,t.child,null,n),t=Zv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vm(Error(W(422))),Pd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gf({mode:"visible",children:r.children},i,0,null),s=Ks(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Da(e,t.child,null,o),e.child.memoizedState=iy(o),e.memoizedState=ry,s);if(!(e.mode&1))return Pd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Vm(s,r,void 0),Pd(t,e,o,r)}if(a=(o&t.childLanes)!==0,an||a){if(r=Tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gr(t,i),Zn(r,t,i,-1))}return s0(),r=Vm(Error(W(421))),Pd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_n=qi(i.nextSibling),En=e,Ke=!0,Gn=null,t!==null&&(kn[Nn++]=Br,kn[Nn++]=Ur,kn[Nn++]=Zs,Br=t.id,Ur=t.overflow,Zs=e),e=Zv(e,r.children),e.flags|=4096,e)}function Gx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xg(t.return,e,n)}function Lm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gx(t,n,e);else if(t.tag===19)Gx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lm(e,!0,n,null,s);break;case"together":Lm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ih(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),to|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZO(t,e,n){switch(e.tag){case 3:wS(e),Na();break;case 5:KI(e);break;case 1:un(e.type)&&jh(e);break;case 4:Wv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be($h,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?_S(t,e,n):(Be(Xe,Xe.current&1),t=Qr(t,e,n),t!==null?t.sibling:null);Be(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,yS(t,e,n)}return Qr(t,e,n)}var ES,sy,bS,TS;ES=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sy=function(){};bS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ls(xr.current);var s=null;switch(n){case"input":i=Cg(t,i),r=Cg(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=Rg(t,i),r=Rg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vh)}Ng(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Oc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Oc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};TS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ql(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eF(t,e,n){var r=e.pendingProps;switch(Lv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return un(e.type)&&Lh(),Ft(e),null;case 3:return r=e.stateNode,Ma(),We(cn),We(qt),Kv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(fy(Gn),Gn=null))),sy(t,e),Ft(e),null;case 5:Hv(e);var i=Ls(Kc.current);if(n=e.type,t!==null&&e.stateNode!=null)bS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Ft(e),null}if(t=Ls(xr.current),Cd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gr]=e,r[Wc]=s,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<ic.length;i++)qe(ic[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":rx(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":sx(r,s),qe("invalid",r)}Ng(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sd(r.textContent,a,t),i=["children",""+a]):Oc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":vd(r),ix(r,s,!0);break;case"textarea":vd(r),ox(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gr]=e,t[Wc]=r,ES(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dg(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ic.length;i++)qe(ic[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":rx(t,r),i=Cg(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),qe("invalid",t);break;case"textarea":sx(t,r),i=Rg(t,r),qe("invalid",t);break;default:i=r}Ng(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?tI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fc(t,l):typeof l=="number"&&Fc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qe("scroll",t):l!=null&&bv(t,s,l,o))}switch(n){case"input":vd(t),ix(t,r,!1);break;case"textarea":vd(t),ox(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ns(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?oa(t,!!r.multiple,s,!1):r.defaultValue!=null&&oa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)TS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ls(Kc.current),Ls(xr.current),Cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[gr]=e,(s=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:Sd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=e,e.stateNode=r}return Ft(e),null;case 13:if(We(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&_n!==null&&e.mode&1&&!(e.flags&128))$I(),Na(),e.flags|=98560,s=!1;else if(s=Cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[gr]=e}else Na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else Gn!==null&&(fy(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?vt===0&&(vt=3):s0())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return Ma(),sy(t,e),t===null&&zc(e.stateNode.containerInfo),Ft(e),null;case 10:return $v(e.type._context),Ft(e),null;case 17:return un(e.type)&&Lh(),Ft(e),null;case 19:if(We(Xe),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ql(s,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wh(t),o!==null){for(e.flags|=128,ql(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>Fa&&(e.flags|=128,r=!0,ql(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ql(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return Ft(e),null}else 2*ot()-s.renderingStartTime>Fa&&n!==1073741824&&(e.flags|=128,r=!0,ql(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=Xe.current,Be(Xe,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return i0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function tF(t,e){switch(Lv(e),e.tag){case 1:return un(e.type)&&Lh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ma(),We(cn),We(qt),Kv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hv(e),null;case 13:if(We(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Xe),null;case 4:return Ma(),null;case 10:return $v(e.type._context),null;case 22:case 23:return i0(),null;case 24:return null;default:return null}}var Rd=!1,Bt=!1,nF=typeof WeakSet=="function"?WeakSet:Set,te=null;function ia(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function oy(t,e,n){try{n()}catch(r){it(t,e,r)}}var Qx=!1;function rF(t,e){if(zg=Mh,t=PI(),Fv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qg={focusedElem:t,selectionRange:n},Mh=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,E=e.stateNode,x=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:zn(e.type,v),b);E.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(D){it(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return w=Qx,Qx=!1,w}function _c(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&oy(e,n,s)}i=i.next}while(i!==r)}}function Hf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ay(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function IS(t){var e=t.alternate;e!==null&&(t.alternate=null,IS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[Wc],delete e[Kg],delete e[jO],delete e[BO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SS(t){return t.tag===5||t.tag===3||t.tag===4}function Yx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ly(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vh));else if(r!==4&&(t=t.child,t!==null))for(ly(t,e,n),t=t.sibling;t!==null;)ly(t,e,n),t=t.sibling}function cy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cy(t,e,n),t=t.sibling;t!==null;)cy(t,e,n),t=t.sibling}var St=null,Hn=!1;function pi(t,e,n){for(n=n.child;n!==null;)CS(t,e,n),n=n.sibling}function CS(t,e,n){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Lf,n)}catch{}switch(n.tag){case 5:Bt||ia(n,e);case 6:var r=St,i=Hn;St=null,pi(t,e,n),St=r,Hn=i,St!==null&&(Hn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Hn?(t=St,n=n.stateNode,t.nodeType===8?km(t.parentNode,n):t.nodeType===1&&km(t,n),Bc(t)):km(St,n.stateNode));break;case 4:r=St,i=Hn,St=n.stateNode.containerInfo,Hn=!0,pi(t,e,n),St=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&oy(n,e,o),i=i.next}while(i!==r)}pi(t,e,n);break;case 1:if(!Bt&&(ia(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}pi(t,e,n);break;case 21:pi(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,pi(t,e,n),Bt=r):pi(t,e,n);break;default:pi(t,e,n)}}function Xx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nF),e.forEach(function(r){var i=hF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Hn=!1;break e;case 3:St=a.stateNode.containerInfo,Hn=!0;break e;case 4:St=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(St===null)throw Error(W(160));CS(s,o,i),St=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){it(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AS(e,t),e=e.sibling}function AS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),ur(t),r&4){try{_c(3,t,t.return),Hf(3,t)}catch(v){it(t,t.return,v)}try{_c(5,t,t.return)}catch(v){it(t,t.return,v)}}break;case 1:$n(e,t),ur(t),r&512&&n!==null&&ia(n,n.return);break;case 5:if($n(e,t),ur(t),r&512&&n!==null&&ia(n,n.return),t.flags&32){var i=t.stateNode;try{Fc(i,"")}catch(v){it(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&YT(i,s),Dg(a,o);var c=Dg(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?tI(i,h):d==="dangerouslySetInnerHTML"?ZT(i,h):d==="children"?Fc(i,h):bv(i,d,h,c)}switch(a){case"input":Ag(i,s);break;case"textarea":XT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?oa(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?oa(i,!!s.multiple,s.defaultValue,!0):oa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wc]=s}catch(v){it(t,t.return,v)}}break;case 6:if($n(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){it(t,t.return,v)}}break;case 3:if($n(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bc(e.containerInfo)}catch(v){it(t,t.return,v)}break;case 4:$n(e,t),ur(t);break;case 13:$n(e,t),ur(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(n0=ot())),r&4&&Xx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(c=Bt)||d,$n(e,t),Bt=c):$n(e,t),ur(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(h=te=d;te!==null;){switch(f=te,g=f.child,f.tag){case 0:case 11:case 14:case 15:_c(4,f,f.return);break;case 1:ia(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){it(r,n,v)}}break;case 5:ia(f,f.return);break;case 22:if(f.memoizedState!==null){Zx(h);continue}}g!==null?(g.return=f,te=g):Zx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eI("display",o))}catch(v){it(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){it(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$n(e,t),ur(t),r&4&&Xx(t);break;case 21:break;default:$n(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fc(i,""),r.flags&=-33);var s=Yx(t);cy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yx(t);ly(t,a,o);break;default:throw Error(W(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iF(t,e,n){te=t,PS(t)}function PS(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var i=te,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=Rd;var c=Bt;if(Rd=o,(Bt=l)&&!c)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?eE(i):l!==null?(l.return=o,te=l):eE(i);for(;s!==null;)te=s,PS(s),s=s.sibling;te=i,Rd=a,Bt=c}Jx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,te=s):Jx(t)}}function Jx(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Hf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Bt||e.flags&512&&ay(e)}catch(f){it(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Zx(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function eE(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hf(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){it(e,i,l)}}var s=e.return;try{ay(e)}catch(l){it(e,s,l)}break;case 5:var o=e.return;try{ay(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var sF=Math.ceil,Gh=ri.ReactCurrentDispatcher,e0=ri.ReactCurrentOwner,On=ri.ReactCurrentBatchConfig,Ae=0,Tt=null,pt=null,Pt=0,yn=0,sa=ps(0),vt=0,Xc=null,to=0,Kf=0,t0=0,xc=null,sn=null,n0=0,Fa=1/0,Vr=null,Qh=!1,uy=null,Hi=null,kd=!1,Li=null,Yh=0,Ec=0,dy=null,sh=-1,oh=0;function Jt(){return Ae&6?ot():sh!==-1?sh:sh=ot()}function Ki(t){return t.mode&1?Ae&2&&Pt!==0?Pt&-Pt:$O.transition!==null?(oh===0&&(oh=fI()),oh):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:_I(t.type)),t):1}function Zn(t,e,n,r){if(50<Ec)throw Ec=0,dy=null,Error(W(185));Au(t,n,r),(!(Ae&2)||t!==Tt)&&(t===Tt&&(!(Ae&2)&&(Kf|=n),vt===4&&Ci(t,Pt)),dn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Fa=ot()+500,zf&&ms()))}function dn(t,e){var n=t.callbackNode;$M(t,e);var r=Dh(t,t===Tt?Pt:0);if(r===0)n!==null&&cx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cx(n),e===1)t.tag===0?UO(tE.bind(null,t)):jI(tE.bind(null,t)),VO(function(){!(Ae&6)&&ms()}),n=null;else{switch(pI(r)){case 1:n=Av;break;case 4:n=dI;break;case 16:n=Nh;break;case 536870912:n=hI;break;default:n=Nh}n=VS(n,RS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RS(t,e){if(sh=-1,oh=0,Ae&6)throw Error(W(327));var n=t.callbackNode;if(da()&&t.callbackNode!==n)return null;var r=Dh(t,t===Tt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xh(t,r);else{e=r;var i=Ae;Ae|=2;var s=NS();(Tt!==t||Pt!==e)&&(Vr=null,Fa=ot()+500,Hs(t,e));do try{lF();break}catch(a){kS(t,a)}while(!0);Uv(),Gh.current=s,Ae=i,pt!==null?e=0:(Tt=null,Pt=0,e=vt)}if(e!==0){if(e===2&&(i=Lg(t),i!==0&&(r=i,e=hy(t,i))),e===1)throw n=Xc,Hs(t,0),Ci(t,r),dn(t,ot()),n;if(e===6)Ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!oF(i)&&(e=Xh(t,r),e===2&&(s=Lg(t),s!==0&&(r=s,e=hy(t,s))),e===1))throw n=Xc,Hs(t,0),Ci(t,r),dn(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Cs(t,sn,Vr);break;case 3:if(Ci(t,r),(r&130023424)===r&&(e=n0+500-ot(),10<e)){if(Dh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hg(Cs.bind(null,t,sn,Vr),e);break}Cs(t,sn,Vr);break;case 4:if(Ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sF(r/1960))-r,10<r){t.timeoutHandle=Hg(Cs.bind(null,t,sn,Vr),r);break}Cs(t,sn,Vr);break;case 5:Cs(t,sn,Vr);break;default:throw Error(W(329))}}}return dn(t,ot()),t.callbackNode===n?RS.bind(null,t):null}function hy(t,e){var n=xc;return t.current.memoizedState.isDehydrated&&(Hs(t,e).flags|=256),t=Xh(t,e),t!==2&&(e=sn,sn=n,e!==null&&fy(e)),t}function fy(t){sn===null?sn=t:sn.push.apply(sn,t)}function oF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~t0,e&=~Kf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function tE(t){if(Ae&6)throw Error(W(327));da();var e=Dh(t,0);if(!(e&1))return dn(t,ot()),null;var n=Xh(t,e);if(t.tag!==0&&n===2){var r=Lg(t);r!==0&&(e=r,n=hy(t,r))}if(n===1)throw n=Xc,Hs(t,0),Ci(t,e),dn(t,ot()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cs(t,sn,Vr),dn(t,ot()),null}function r0(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Fa=ot()+500,zf&&ms())}}function no(t){Li!==null&&Li.tag===0&&!(Ae&6)&&da();var e=Ae;Ae|=1;var n=On.transition,r=Fe;try{if(On.transition=null,Fe=1,t)return t()}finally{Fe=r,On.transition=n,Ae=e,!(Ae&6)&&ms()}}function i0(){yn=sa.current,We(sa)}function Hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FO(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(Lv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lh();break;case 3:Ma(),We(cn),We(qt),Kv();break;case 5:Hv(r);break;case 4:Ma();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:$v(r.type._context);break;case 22:case 23:i0()}n=n.return}if(Tt=t,pt=t=Gi(t.current,null),Pt=yn=e,vt=0,Xc=null,t0=Kf=to=0,sn=xc=null,Vs!==null){for(e=0;e<Vs.length;e++)if(n=Vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vs=null}return t}function kS(t,e){do{var n=pt;try{if(Uv(),nh.current=Kh,Hh){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hh=!1}if(eo=0,bt=yt=Ze=null,wc=!1,Gc=0,e0.current=null,n===null||n.return===null){vt=1,Xc=e,pt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=$x(o);if(g!==null){g.flags&=-257,zx(g,o,a,s,e),g.mode&1&&Ux(s,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Ux(s,c,e),s0();break e}l=Error(W(426))}}else if(Ke&&a.mode&1){var b=$x(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),zx(b,o,a,s,e),jv(Oa(l,a));break e}}s=l=Oa(l,a),vt!==4&&(vt=2),xc===null?xc=[s]:xc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=pS(s,l,e);Ox(s,E);break e;case 1:a=l;var x=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Hi===null||!Hi.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=mS(s,a,e);Ox(s,D);break e}}s=s.return}while(s!==null)}MS(n)}catch(M){e=M,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function NS(){var t=Gh.current;return Gh.current=Kh,t===null?Kh:t}function s0(){(vt===0||vt===3||vt===2)&&(vt=4),Tt===null||!(to&268435455)&&!(Kf&268435455)||Ci(Tt,Pt)}function Xh(t,e){var n=Ae;Ae|=2;var r=NS();(Tt!==t||Pt!==e)&&(Vr=null,Hs(t,e));do try{aF();break}catch(i){kS(t,i)}while(!0);if(Uv(),Ae=n,Gh.current=r,pt!==null)throw Error(W(261));return Tt=null,Pt=0,vt}function aF(){for(;pt!==null;)DS(pt)}function lF(){for(;pt!==null&&!DM();)DS(pt)}function DS(t){var e=FS(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?MS(t):pt=e,e0.current=null}function MS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tF(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,pt=null;return}}else if(n=eF(n,e,yn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);vt===0&&(vt=5)}function Cs(t,e,n){var r=Fe,i=On.transition;try{On.transition=null,Fe=1,cF(t,e,n,r)}finally{On.transition=i,Fe=r}return null}function cF(t,e,n,r){do da();while(Li!==null);if(Ae&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zM(t,s),t===Tt&&(pt=Tt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kd||(kd=!0,VS(Nh,function(){return da(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=On.transition,On.transition=null;var o=Fe;Fe=1;var a=Ae;Ae|=4,e0.current=null,rF(t,n),AS(n,t),PO(qg),Mh=!!zg,qg=zg=null,t.current=n,iF(n),MM(),Ae=a,Fe=o,On.transition=s}else t.current=n;if(kd&&(kd=!1,Li=t,Yh=i),s=t.pendingLanes,s===0&&(Hi=null),VM(n.stateNode),dn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qh)throw Qh=!1,t=uy,uy=null,t;return Yh&1&&t.tag!==0&&da(),s=t.pendingLanes,s&1?t===dy?Ec++:(Ec=0,dy=t):Ec=0,ms(),null}function da(){if(Li!==null){var t=pI(Yh),e=On.transition,n=Fe;try{if(On.transition=null,Fe=16>t?16:t,Li===null)var r=!1;else{if(t=Li,Li=null,Yh=0,Ae&6)throw Error(W(331));var i=Ae;for(Ae|=4,te=t.current;te!==null;){var s=te,o=s.child;if(te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:_c(8,d,s)}var h=d.child;if(h!==null)h.return=d,te=h;else for(;te!==null;){d=te;var f=d.sibling,g=d.return;if(IS(d),d===c){te=null;break}if(f!==null){f.return=g,te=f;break}te=g}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,te=o;else e:for(;te!==null;){if(s=te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_c(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,te=E;break e}te=s.return}}var x=t.current;for(te=x;te!==null;){o=te;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,te=I;else e:for(o=x;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hf(9,a)}}catch(M){it(a,a.return,M)}if(a===o){te=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,te=D;break e}te=a.return}}if(Ae=i,ms(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Lf,t)}catch{}r=!0}return r}finally{Fe=n,On.transition=e}}return!1}function nE(t,e,n){e=Oa(n,e),e=pS(t,e,1),t=Wi(t,e,1),e=Jt(),t!==null&&(Au(t,1,e),dn(t,e))}function it(t,e,n){if(t.tag===3)nE(t,t,n);else for(;e!==null;){if(e.tag===3){nE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hi===null||!Hi.has(r))){t=Oa(n,t),t=mS(e,t,1),e=Wi(e,t,1),t=Jt(),e!==null&&(Au(e,1,t),dn(e,t));break}}e=e.return}}function uF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Pt&n)===n&&(vt===4||vt===3&&(Pt&130023424)===Pt&&500>ot()-n0?Hs(t,0):t0|=n),dn(t,e)}function OS(t,e){e===0&&(t.mode&1?(e=xd,xd<<=1,!(xd&130023424)&&(xd=4194304)):e=1);var n=Jt();t=Gr(t,e),t!==null&&(Au(t,e,n),dn(t,n))}function dF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),OS(t,n)}function hF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),OS(t,n)}var FS;FS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,ZO(t,e,n);an=!!(t.flags&131072)}else an=!1,Ke&&e.flags&1048576&&BI(e,Uh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ih(t,e),t=e.pendingProps;var i=ka(e,qt.current);ua(e,n),i=Qv(null,e,r,t,i,n);var s=Yv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(s=!0,jh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qv(e),i.updater=Wf,e.stateNode=i,i._reactInternals=e,Zg(e,r,t,n),e=ny(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&Vv(e),Gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ih(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pF(r),t=zn(r,t),i){case 0:e=ty(null,e,r,t,n);break e;case 1:e=Hx(null,e,r,t,n);break e;case 11:e=qx(null,e,r,t,n);break e;case 14:e=Wx(null,e,r,zn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),ty(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),Hx(t,e,r,i,n);case 3:e:{if(wS(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,HI(t,e),qh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Oa(Error(W(423)),e),e=Kx(t,e,r,n,i);break e}else if(r!==i){i=Oa(Error(W(424)),e),e=Kx(t,e,r,n,i);break e}else for(_n=qi(e.stateNode.containerInfo.firstChild),En=e,Ke=!0,Gn=null,n=qI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Na(),r===i){e=Qr(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return KI(e),t===null&&Yg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wg(r,i)?o=null:s!==null&&Wg(r,s)&&(e.flags|=32),vS(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&Yg(e),null;case 13:return _S(t,e,n);case 4:return Wv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Da(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),qx(t,e,r,i,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be($h,r._currentValue),r._currentValue=o,s!==null)if(tr(s.value,o)){if(s.children===i.children&&!cn.current){e=Qr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Wr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ua(e,n),i=jn(i),r=r(i),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,i=zn(r,e.pendingProps),i=zn(r.type,i),Wx(t,e,r,i,n);case 15:return gS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zn(r,i),ih(t,e),e.tag=1,un(r)?(t=!0,jh(e)):t=!1,ua(e,n),fS(e,r,i),Zg(e,r,i,n),ny(null,e,r,!0,t,n);case 19:return xS(t,e,n);case 22:return yS(t,e,n)}throw Error(W(156,e.tag))};function VS(t,e){return uI(t,e)}function fF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,r){return new fF(t,e,n,r)}function o0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pF(t){if(typeof t=="function")return o0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iv)return 11;if(t===Sv)return 14}return 2}function Gi(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ah(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")o0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qo:return Ks(n.children,i,s,e);case Tv:o=8,i|=8;break;case bg:return t=Dn(12,n,e,i|2),t.elementType=bg,t.lanes=s,t;case Tg:return t=Dn(13,n,e,i),t.elementType=Tg,t.lanes=s,t;case Ig:return t=Dn(19,n,e,i),t.elementType=Ig,t.lanes=s,t;case KT:return Gf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WT:o=10;break e;case HT:o=9;break e;case Iv:o=11;break e;case Sv:o=14;break e;case Ti:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ks(t,e,n,r){return t=Dn(7,t,r,e),t.lanes=n,t}function Gf(t,e,n,r){return t=Dn(22,t,r,e),t.elementType=KT,t.lanes=n,t.stateNode={isHidden:!1},t}function jm(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function Bm(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_m(0),this.expirationTimes=_m(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_m(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a0(t,e,n,r,i,s,o,a,l){return t=new mF(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qv(s),t}function gF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Go,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LS(t){if(!t)return rs;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(un(n))return LI(t,n,e)}return e}function jS(t,e,n,r,i,s,o,a,l){return t=a0(n,r,!0,t,i,s,o,a,l),t.context=LS(null),n=t.current,r=Jt(),i=Ki(n),s=Wr(r,i),s.callback=e??null,Wi(n,s,i),t.current.lanes=i,Au(t,i,r),dn(t,r),t}function Qf(t,e,n,r){var i=e.current,s=Jt(),o=Ki(i);return n=LS(n),e.context===null?e.context=n:e.pendingContext=n,e=Wr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wi(i,e,o),t!==null&&(Zn(t,i,o,s),th(t,i,o)),o}function Jh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function l0(t,e){rE(t,e),(t=t.alternate)&&rE(t,e)}function yF(){return null}var BS=typeof reportError=="function"?reportError:function(t){console.error(t)};function c0(t){this._internalRoot=t}Yf.prototype.render=c0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Qf(t,e,null,null)};Yf.prototype.unmount=c0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;no(function(){Qf(null,t,null,null)}),e[Kr]=null}};function Yf(t){this._internalRoot=t}Yf.prototype.unstable_scheduleHydration=function(t){if(t){var e=yI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Si.length&&e!==0&&e<Si[n].priority;n++);Si.splice(n,0,t),n===0&&wI(t)}};function u0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iE(){}function vF(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Jh(o);s.call(c)}}var o=jS(e,r,t,0,null,!1,!1,"",iE);return t._reactRootContainer=o,t[Kr]=o.current,zc(t.nodeType===8?t.parentNode:t),no(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Jh(l);a.call(c)}}var l=a0(t,0,!1,null,null,!1,!1,"",iE);return t._reactRootContainer=l,t[Kr]=l.current,zc(t.nodeType===8?t.parentNode:t),no(function(){Qf(e,l,n,r)}),l}function Jf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Jh(o);a.call(l)}}Qf(e,o,t,i)}else o=vF(n,e,t,i,r);return Jh(o)}mI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rc(e.pendingLanes);n!==0&&(Pv(e,n|1),dn(e,ot()),!(Ae&6)&&(Fa=ot()+500,ms()))}break;case 13:no(function(){var r=Gr(t,1);if(r!==null){var i=Jt();Zn(r,t,1,i)}}),l0(t,1)}};Rv=function(t){if(t.tag===13){var e=Gr(t,134217728);if(e!==null){var n=Jt();Zn(e,t,134217728,n)}l0(t,134217728)}};gI=function(t){if(t.tag===13){var e=Ki(t),n=Gr(t,e);if(n!==null){var r=Jt();Zn(n,t,e,r)}l0(t,e)}};yI=function(){return Fe};vI=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Og=function(t,e,n){switch(e){case"input":if(Ag(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$f(r);if(!i)throw Error(W(90));QT(r),Ag(r,i)}}}break;case"textarea":XT(t,n);break;case"select":e=n.value,e!=null&&oa(t,!!n.multiple,e,!1)}};iI=r0;sI=no;var wF={usingClientEntryPoint:!1,Events:[Ru,Zo,$f,nI,rI,r0]},Wl={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_F={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lI(t),t===null?null:t.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||yF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{Lf=Nd.inject(_F),_r=Nd}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wF;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u0(e))throw Error(W(200));return gF(t,e,null,n)};Cn.createRoot=function(t,e){if(!u0(t))throw Error(W(299));var n=!1,r="",i=BS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=a0(t,1,!1,null,null,n,!1,r,i),t[Kr]=e.current,zc(t.nodeType===8?t.parentNode:t),new c0(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=lI(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return no(t)};Cn.hydrate=function(t,e,n){if(!Xf(e))throw Error(W(200));return Jf(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!u0(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=BS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jS(e,null,t,1,n??null,i,!1,s,o),t[Kr]=e.current,zc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yf(e)};Cn.render=function(t,e,n){if(!Xf(e))throw Error(W(200));return Jf(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!Xf(t))throw Error(W(40));return t._reactRootContainer?(no(function(){Jf(null,null,t,!1,function(){t._reactRootContainer=null,t[Kr]=null})}),!0):!1};Cn.unstable_batchedUpdates=r0;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Jf(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function US(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(US)}catch(t){console.error(t)}}US(),UT.exports=Cn;var Nu=UT.exports;const $S=gv(Nu);var zS,sE=Nu;zS=sE.createRoot,sE.hydrateRoot;const xF=1,EF=1e6;let Um=0;function bF(){return Um=(Um+1)%Number.MAX_SAFE_INTEGER,Um.toString()}const $m=new Map,oE=t=>{if($m.has(t))return;const e=setTimeout(()=>{$m.delete(t),bc({type:"REMOVE_TOAST",toastId:t})},EF);$m.set(t,e)},TF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,xF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?oE(n):t.toasts.forEach(r=>{oE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},lh=[];let ch={toasts:[]};function bc(t){ch=TF(ch,t),lh.forEach(e=>{e(ch)})}function Yn({...t}){const e=bF(),n=i=>bc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>bc({type:"DISMISS_TOAST",toastId:e});return bc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function qS(){const[t,e]=y.useState(ch);return y.useEffect(()=>(lh.push(e),()=>{const n=lh.indexOf(e);n>-1&&lh.splice(n,1)}),[t]),{...t,toast:Yn,dismiss:n=>bc({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function IF(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Zf(...t){return e=>t.forEach(n=>IF(n,e))}function lt(...t){return y.useCallback(Zf(...t),t)}function SF(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:g,...w}=h,v=(f==null?void 0:f[t][l])||a,b=y.useMemo(()=>w,Object.values(w));return p.jsx(v.Provider,{value:b,children:g})}function d(h,f){const g=(f==null?void 0:f[t][l])||a,w=y.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,CF(i,...e)]}function CF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ro=y.forwardRef((t,e)=>{const{children:n,...r}=t,i=y.Children.toArray(n),s=i.find(AF);if(s){const o=s.props.children,a=i.map(l=>l===s?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return p.jsx(py,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return p.jsx(py,{...r,ref:e,children:n})});ro.displayName="Slot";var py=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const i=RF(n);return y.cloneElement(n,{...PF(r,n.props),ref:e?Zf(e,i):i})}return y.Children.count(n)>1?y.Children.only(null):null});py.displayName="SlotClone";var WS=({children:t})=>p.jsx(p.Fragment,{children:t});function AF(t){return y.isValidElement(t)&&t.type===WS}function PF(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function RF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function d0(t){const e=t+"CollectionProvider",[n,r]=SF(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:v}=g,b=H.useRef(null),E=H.useRef(new Map).current;return p.jsx(i,{scope:w,itemMap:E,collectionRef:b,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=H.forwardRef((g,w)=>{const{scope:v,children:b}=g,E=s(a,v),x=lt(w,E.collectionRef);return p.jsx(ro,{ref:x,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=H.forwardRef((g,w)=>{const{scope:v,children:b,...E}=g,x=H.useRef(null),I=lt(w,x),D=s(c,v);return H.useEffect(()=>(D.itemMap.set(x,{ref:x,...E}),()=>void D.itemMap.delete(x))),p.jsx(ro,{[d]:"",ref:I,children:b})});h.displayName=c;function f(g){const w=s(t+"CollectionConsumer",g);return H.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((D,M)=>E.indexOf(D.ref.current)-E.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function kF(t,e){const n=y.createContext(e),r=s=>{const{children:o,...a}=s,l=y.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function il(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=h=>{var E;const{scope:f,children:g,...w}=h,v=((E=f==null?void 0:f[t])==null?void 0:E[l])||a,b=y.useMemo(()=>w,Object.values(w));return p.jsx(v.Provider,{value:b,children:g})};c.displayName=s+"Provider";function d(h,f){var v;const g=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,w=y.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,NF(i,...e)]}function NF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var DF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Re=DF.reduce((t,e)=>{const n=y.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ro:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function h0(t,e){t&&Nu.flushSync(()=>t.dispatchEvent(e))}function Wt(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function MF(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var OF="DismissableLayer",my="dismissableLayer.update",FF="dismissableLayer.pointerDownOutside",VF="dismissableLayer.focusOutside",aE,HS=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Du=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(HS),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),w=lt(e,S=>h(S)),v=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(b),x=d?v.indexOf(d):-1,I=c.layersWithOutsidePointerEventsDisabled.size>0,D=x>=E,M=jF(S=>{const T=S.target,C=[...c.branches].some(N=>N.contains(T));!D||C||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},f),O=BF(S=>{const T=S.target;[...c.branches].some(N=>N.contains(T))||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},f);return MF(S=>{x===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(aE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),lE(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=aE)}},[d,f,n,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),lE())},[d,c]),y.useEffect(()=>{const S=()=>g({});return document.addEventListener(my,S),()=>document.removeEventListener(my,S)},[]),p.jsx(Re.div,{...l,ref:w,style:{pointerEvents:I?D?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,O.onFocusCapture),onBlurCapture:se(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,M.onPointerDownCapture)})});Du.displayName=OF;var LF="DismissableLayerBranch",KS=y.forwardRef((t,e)=>{const n=y.useContext(HS),r=y.useRef(null),i=lt(e,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(Re.div,{...t,ref:i})});KS.displayName=LF;function jF(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){GS(FF,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function BF(t,e=globalThis==null?void 0:globalThis.document){const n=Wt(t),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&GS(VF,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lE(){const t=new CustomEvent(my);document.dispatchEvent(t)}function GS(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?h0(i,s):i.dispatchEvent(s)}var UF=Du,$F=KS,Tr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},zF="Portal",ep=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=y.useState(!1);Tr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$S.createPortal(p.jsx(Re.div,{...r,ref:e}),o):null});ep.displayName=zF;function qF(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Pr=t=>{const{present:e,children:n}=t,r=WF(e),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=lt(r.ref,HF(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};Pr.displayName="Presence";function WF(t){const[e,n]=y.useState(),r=y.useRef({}),i=y.useRef(t),s=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=qF(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=Dd(r.current);s.current=a==="mounted"?c:"none"},[a]),Tr(()=>{const c=r.current,d=i.current;if(d!==t){const f=s.current,g=Dd(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Tr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const v=Dd(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=g=>{g.target===e&&(s.current=Dd(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Dd(t){return(t==null?void 0:t.animationName)||"none"}function HF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function tp({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=KF({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Wt(n),l=y.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function KF({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,i=y.useRef(r),s=Wt(e);return y.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var GF="VisuallyHidden",np=y.forwardRef((t,e)=>p.jsx(Re.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));np.displayName=GF;var QF=np,f0="ToastProvider",[p0,YF,XF]=d0("Toast"),[QS,AG]=il("Toast",[XF]),[JF,rp]=QS(f0),YS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=y.useState(null),[c,d]=y.useState(0),h=y.useRef(!1),f=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${f0}\`. Expected non-empty \`string\`.`),p.jsx(p0.Provider,{scope:e,children:p.jsx(JF,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(g=>g+1),[]),onToastRemove:y.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};YS.displayName=f0;var XS="ToastViewport",ZF=["F8"],gy="toast.viewportPause",yy="toast.viewportResume",JS=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ZF,label:i="Notifications ({hotkey})",...s}=t,o=rp(XS,n),a=YF(n),l=y.useRef(null),c=y.useRef(null),d=y.useRef(null),h=y.useRef(null),f=lt(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;y.useEffect(()=>{const b=E=>{var I;r.length!==0&&r.every(D=>E[D]||E.code===D)&&((I=h.current)==null||I.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),y.useEffect(()=>{const b=l.current,E=h.current;if(w&&b&&E){const x=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(gy);E.dispatchEvent(O),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(yy);E.dispatchEvent(O),o.isClosePausedRef.current=!1}},D=O=>{!b.contains(O.relatedTarget)&&I()},M=()=>{b.contains(document.activeElement)||I()};return b.addEventListener("focusin",x),b.addEventListener("focusout",D),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",M),window.addEventListener("blur",x),window.addEventListener("focus",I),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",D),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",M),window.removeEventListener("blur",x),window.removeEventListener("focus",I)}}},[w,o.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:b})=>{const x=a().map(I=>{const D=I.ref.current,M=[D,...hV(D)];return b==="forwards"?M:M.reverse()});return(b==="forwards"?x.reverse():x).flat()},[a]);return y.useEffect(()=>{const b=h.current;if(b){const E=x=>{var M,O,S;const I=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!I){const T=document.activeElement,C=x.shiftKey;if(x.target===b&&C){(M=c.current)==null||M.focus();return}const R=v({tabbingDirection:C?"backwards":"forwards"}),P=R.findIndex(U=>U===T);zm(R.slice(P+1))?x.preventDefault():C?(O=c.current)==null||O.focus():(S=d.current)==null||S.focus()}};return b.addEventListener("keydown",E),()=>b.removeEventListener("keydown",E)}},[a,v]),p.jsxs($F,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&p.jsx(vy,{ref:c,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});zm(b)}}),p.jsx(p0.Slot,{scope:n,children:p.jsx(Re.ol,{tabIndex:-1,...s,ref:f})}),w&&p.jsx(vy,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});zm(b)}})]})});JS.displayName=XS;var ZS="ToastFocusProxy",vy=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=rp(ZS,n);return p.jsx(np,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});vy.displayName=ZS;var ip="Toast",eV="toast.swipeStart",tV="toast.swipeMove",nV="toast.swipeCancel",rV="toast.swipeEnd",eC=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=tp({prop:r,defaultProp:i,onChange:s});return p.jsx(Pr,{present:n||a,children:p.jsx(oV,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Wt(t.onPause),onResume:Wt(t.onResume),onSwipeStart:se(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:se(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});eC.displayName=ip;var[iV,sV]=QS(ip,{onClose(){}}),oV=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...w}=t,v=rp(ip,n),[b,E]=y.useState(null),x=lt(e,U=>E(U)),I=y.useRef(null),D=y.useRef(null),M=i||v.duration,O=y.useRef(0),S=y.useRef(M),T=y.useRef(0),{onToastAdd:C,onToastRemove:N}=v,k=Wt(()=>{var ne;(b==null?void 0:b.contains(document.activeElement))&&((ne=v.viewport)==null||ne.focus()),o()}),R=y.useCallback(U=>{!U||U===1/0||(window.clearTimeout(T.current),O.current=new Date().getTime(),T.current=window.setTimeout(k,U))},[k]);y.useEffect(()=>{const U=v.viewport;if(U){const ne=()=>{R(S.current),c==null||c()},Z=()=>{const oe=new Date().getTime()-O.current;S.current=S.current-oe,window.clearTimeout(T.current),l==null||l()};return U.addEventListener(gy,Z),U.addEventListener(yy,ne),()=>{U.removeEventListener(gy,Z),U.removeEventListener(yy,ne)}}},[v.viewport,M,l,c,R]),y.useEffect(()=>{s&&!v.isClosePausedRef.current&&R(M)},[s,M,v.isClosePausedRef,R]),y.useEffect(()=>(C(),()=>N()),[C,N]);const P=y.useMemo(()=>b?aC(b):null,[b]);return v.viewport?p.jsxs(p.Fragment,{children:[P&&p.jsx(aV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),p.jsx(iV,{scope:n,onClose:k,children:Nu.createPortal(p.jsx(p0.ItemSlot,{scope:n,children:p.jsx(UF,{asChild:!0,onEscapeKeyDown:se(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,U=>{U.key==="Escape"&&(a==null||a(U.nativeEvent),U.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:se(t.onPointerDown,U=>{U.button===0&&(I.current={x:U.clientX,y:U.clientY})}),onPointerMove:se(t.onPointerMove,U=>{if(!I.current)return;const ne=U.clientX-I.current.x,Z=U.clientY-I.current.y,oe=!!D.current,L=["left","right"].includes(v.swipeDirection),B=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=L?B(0,ne):0,G=L?0:B(0,Z),J=U.pointerType==="touch"?10:2,ee={x:Y,y:G},fe={originalEvent:U,delta:ee};oe?(D.current=ee,Md(tV,h,fe,{discrete:!1})):cE(ee,v.swipeDirection,J)?(D.current=ee,Md(eV,d,fe,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(ne)>J||Math.abs(Z)>J)&&(I.current=null)}),onPointerUp:se(t.onPointerUp,U=>{const ne=D.current,Z=U.target;if(Z.hasPointerCapture(U.pointerId)&&Z.releasePointerCapture(U.pointerId),D.current=null,I.current=null,ne){const oe=U.currentTarget,L={originalEvent:U,delta:ne};cE(ne,v.swipeDirection,v.swipeThreshold)?Md(rV,g,L,{discrete:!0}):Md(nV,f,L,{discrete:!0}),oe.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),aV=t=>{const{__scopeToast:e,children:n,...r}=t,i=rp(ip,e),[s,o]=y.useState(!1),[a,l]=y.useState(!1);return uV(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(ep,{asChild:!0,children:p.jsx(np,{...r,children:s&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},lV="ToastTitle",tC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Re.div,{...r,ref:e})});tC.displayName=lV;var cV="ToastDescription",nC=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Re.div,{...r,ref:e})});nC.displayName=cV;var rC="ToastAction",iC=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(oC,{altText:n,asChild:!0,children:p.jsx(m0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${rC}\`. Expected non-empty \`string\`.`),null)});iC.displayName=rC;var sC="ToastClose",m0=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=sV(sC,n);return p.jsx(oC,{asChild:!0,children:p.jsx(Re.button,{type:"button",...r,ref:e,onClick:se(t.onClick,i.onClose)})})});m0.displayName=sC;var oC=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function aC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),dV(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...aC(r))}}),e}function Md(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?h0(i,s):i.dispatchEvent(s)}var cE=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function uV(t=()=>{}){const e=Wt(t);Tr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function dV(t){return t.nodeType===t.ELEMENT_NODE}function hV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var fV=YS,lC=JS,cC=eC,uC=tC,dC=nC,hC=iC,fC=m0;function pC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mC(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pC(t))&&(r&&(r+=" "),r+=e);return r}const uE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,dE=mC,g0=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return dE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],h=s==null?void 0:s[c];if(d===null)return null;const f=uE(d)||uE(h);return i[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...g}=d;return Object.entries(g).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...s,...a}[v]):{...s,...a}[v]===b})?[...c,h,f]:c},[]);return dE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...mV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gC("lucide",i),...a},[...o.map(([c,d])=>y.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(gV,{ref:s,iconNode:e,className:gC(`lucide-${pV(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=Pn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=Pn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Pn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=Pn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=Pn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=Pn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=Pn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Pn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=Pn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=Pn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=Pn("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Pn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Pn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),y0="-",SV=t=>{const e=AV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(y0);return a[0]===""&&a.length!==1&&a.shift(),vC(a,e)||CV(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},vC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?vC(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(y0);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},fE=/^\[(.+)\]$/,CV=t=>{if(fE.test(t)){const e=fE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},AV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return RV(Object.entries(t.classGroups),n).forEach(([s,o])=>{wy(o,r,s,e)}),r},wy=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:pE(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(PV(i)){wy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{wy(o,pE(e,s),n,r)})})},pE=(t,e)=>{let n=t;return e.split(y0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},PV=t=>t.isThemeGetter,RV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,kV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},wC="!",NV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let b=0;b<a.length;b++){let E=a[b];if(c===0){if(E===i&&(r||a.slice(b,b+s)===e)){l.push(a.slice(d,b)),d=b+s;continue}if(E==="/"){h=b;continue}}E==="["?c++:E==="]"&&c--}const f=l.length===0?a:a.substring(d),g=f.startsWith(wC),w=g?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},DV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},MV=t=>({cache:kV(t.cacheSize),parseClassName:NV(t),...SV(t)}),OV=/\s+/,FV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(OV);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(c);let w=!!g,v=r(w?f.substring(0,g):f);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const b=DV(d).join(":"),E=h?b+wC:b,x=E+v;if(s.includes(x))continue;s.push(x);const I=i(v,w);for(let D=0;D<I.length;++D){const M=I[D];s.push(E+M)}a=c+(a.length>0?" "+a:a)}return a};function VV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=_C(e))&&(r&&(r+=" "),r+=n);return r}const _C=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=_C(t[r]))&&(n&&(n+=" "),n+=e);return n};function LV(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=MV(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=FV(l,n);return i(l,d),d}return function(){return s(VV.apply(null,arguments))}}const ze=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xC=/^\[(?:([a-z-]+):)?(.+)\]$/i,jV=/^\d+\/\d+$/,BV=new Set(["px","full","screen"]),UV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$V=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Or=t=>ha(t)||BV.has(t)||jV.test(t),mi=t=>ol(t,"length",ZV),ha=t=>!!t&&!Number.isNaN(Number(t)),qm=t=>ol(t,"number",ha),Hl=t=>!!t&&Number.isInteger(Number(t)),HV=t=>t.endsWith("%")&&ha(t.slice(0,-1)),me=t=>xC.test(t),gi=t=>UV.test(t),KV=new Set(["length","size","percentage"]),GV=t=>ol(t,KV,EC),QV=t=>ol(t,"position",EC),YV=new Set(["image","url"]),XV=t=>ol(t,YV,tL),JV=t=>ol(t,"",eL),Kl=()=>!0,ol=(t,e,n)=>{const r=xC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ZV=t=>$V.test(t)&&!zV.test(t),EC=()=>!1,eL=t=>qV.test(t),tL=t=>WV.test(t),nL=()=>{const t=ze("colors"),e=ze("spacing"),n=ze("blur"),r=ze("brightness"),i=ze("borderColor"),s=ze("borderRadius"),o=ze("borderSpacing"),a=ze("borderWidth"),l=ze("contrast"),c=ze("grayscale"),d=ze("hueRotate"),h=ze("invert"),f=ze("gap"),g=ze("gradientColorStops"),w=ze("gradientColorStopPositions"),v=ze("inset"),b=ze("margin"),E=ze("opacity"),x=ze("padding"),I=ze("saturate"),D=ze("scale"),M=ze("sepia"),O=ze("skew"),S=ze("space"),T=ze("translate"),C=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",me,e],R=()=>[me,e],P=()=>["",Or,mi],U=()=>["auto",ha,me],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",me],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[ha,me];return{cacheSize:500,separator:":",theme:{colors:[Kl],spacing:[Or,mi],blur:["none","",gi,me],brightness:G(),borderColor:[t],borderRadius:["none","","full",gi,me],borderSpacing:R(),borderWidth:P(),contrast:G(),grayscale:B(),hueRotate:G(),invert:B(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[HV,mi],inset:k(),margin:k(),opacity:G(),padding:R(),saturate:G(),scale:G(),sepia:B(),skew:G(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[gi]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),me]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hl,me]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Hl,me]}],"grid-cols":[{"grid-cols":[Kl]}],"col-start-end":[{col:["auto",{span:["full",Hl,me]},me]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Kl]}],"row-start-end":[{row:["auto",{span:[Hl,me]},me]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[gi]},gi]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gi,mi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qm]}],"font-family":[{font:[Kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",ha,qm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Or,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Or,mi]}],"underline-offset":[{"underline-offset":["auto",Or,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),QV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Or,me]}],"outline-w":[{outline:[Or,mi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Or,mi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gi,JV]}],"shadow-color":[{shadow:[Kl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",gi,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[I]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Hl,me]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Or,mi,qm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rL=LV(nL);function we(...t){return rL(mC(t))}const iL=fV,bC=y.forwardRef(({className:t,...e},n)=>p.jsx(lC,{ref:n,className:we("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse items-center p-4 mb-20 sm:mb-4 sm:items-end sm:right-0 sm:flex-col md:max-w-[420px]",t),...e}));bC.displayName=lC.displayName;const sL=g0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TC=y.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(cC,{ref:r,className:we(sL({variant:e}),t),...n}));TC.displayName=cC.displayName;const oL=y.forwardRef(({className:t,...e},n)=>p.jsx(hC,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));oL.displayName=hC.displayName;const IC=y.forwardRef(({className:t,...e},n)=>p.jsx(fC,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(sl,{className:"h-4 w-4"})}));IC.displayName=fC.displayName;const SC=y.forwardRef(({className:t,...e},n)=>p.jsx(uC,{ref:n,className:we("text-sm font-semibold",t),...e}));SC.displayName=uC.displayName;const CC=y.forwardRef(({className:t,...e},n)=>p.jsx(dC,{ref:n,className:we("text-sm opacity-90",t),...e}));CC.displayName=dC.displayName;function aL(){const{toasts:t}=qS();return p.jsxs(iL,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return p.jsxs(TC,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(SC,{children:n}),r&&p.jsx(CC,{children:r})]}),i,p.jsx(IC,{})]},e)}),p.jsx(bC,{})]})}var mE=["light","dark"],lL="(prefers-color-scheme: dark)",cL=y.createContext(void 0),uL={setTheme:t=>{},themes:[]},dL=()=>{var t;return(t=y.useContext(cL))!=null?t:uL};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?mE.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,v=!1,b=!0)=>{let E=o?o[w]:w,x=v?w+"|| ''":`'${E}'`,I="";return i&&b&&!v&&mE.includes(w)&&(I+=`d.style.colorScheme = '${w}';`),n==="class"?v||E?I+=`c.add(${x})`:I+="null":E&&(I+=`d[s](n,${x})`),I},g=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${lL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var hL=t=>{switch(t){case"success":return mL;case"info":return yL;case"warning":return gL;case"error":return vL;default:return null}},fL=Array(12).fill(0),pL=({visible:t})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},H.createElement("div",{className:"sonner-spinner"},fL.map((e,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wL=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},_y=1,_L=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:_y++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async o=>{if(EL(o)&&!o.ok){s=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){s=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){s=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||_y++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},gn=new _L,xL=(t,e)=>{let n=(e==null?void 0:e.id)||_y++;return gn.addToast({title:t,...e,id:n}),n},EL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bL=xL,TL=()=>gn.toasts;Object.assign(bL,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:TL});function IL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}IL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Od(t){return t.label!==void 0}var SL=3,CL="32px",AL=4e3,PL=356,RL=14,kL=20,NL=200;function DL(...t){return t.filter(Boolean).join(" ")}var ML=t=>{var e,n,r,i,s,o,a,l,c,d;let{invert:h,toast:f,unstyled:g,interacting:w,setHeights:v,visibleToasts:b,heights:E,index:x,toasts:I,expanded:D,removeToast:M,defaultRichColors:O,closeButton:S,style:T,cancelButtonStyle:C,actionButtonStyle:N,className:k="",descriptionClassName:R="",duration:P,position:U,gap:ne,loadingIcon:Z,expandByDefault:oe,classNames:L,icons:B,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:G,cn:J}=t,[ee,fe]=H.useState(!1),[Se,le]=H.useState(!1),[pe,Ce]=H.useState(!1),[Te,Ue]=H.useState(!1),[xt,ct]=H.useState(0),[be,ve]=H.useState(0),Ye=H.useRef(null),ut=H.useRef(null),ai=x===0,El=x+1<=b,dt=f.type,lr=f.dismissible!==!1,Ju=f.className||"",Zp=f.descriptionClassName||"",li=H.useMemo(()=>E.findIndex(de=>de.toastId===f.id)||0,[E,f.id]),bl=H.useMemo(()=>{var de;return(de=f.closeButton)!=null?de:S},[f.closeButton,S]),Tl=H.useMemo(()=>f.duration||P||AL,[f.duration,P]),ht=H.useRef(0),tt=H.useRef(0),_s=H.useRef(0),kr=H.useRef(null),[Il,em]=U.split("-"),ci=H.useMemo(()=>E.reduce((de,Le,De)=>De>=li?de:de+Le.height,0),[E,li]),Sl=wL(),Zu=f.invert||h,xs=dt==="loading";tt.current=H.useMemo(()=>li*ne+ci,[li,ci]),H.useEffect(()=>{fe(!0)},[]),H.useLayoutEffect(()=>{if(!ee)return;let de=ut.current,Le=de.style.height;de.style.height="auto";let De=de.getBoundingClientRect().height;de.style.height=Le,ve(De),v(kt=>kt.find(rn=>rn.toastId===f.id)?kt.map(rn=>rn.toastId===f.id?{...rn,height:De}:rn):[{toastId:f.id,height:De,position:f.position},...kt])},[ee,f.title,f.description,v,f.id]);let cr=H.useCallback(()=>{le(!0),ct(tt.current),v(de=>de.filter(Le=>Le.toastId!==f.id)),setTimeout(()=>{M(f)},NL)},[f,M,v,tt]);H.useEffect(()=>{if(f.promise&&dt==="loading"||f.duration===1/0||f.type==="loading")return;let de,Le=Tl;return D||w||G&&Sl?(()=>{if(_s.current<ht.current){let De=new Date().getTime()-ht.current;Le=Le-De}_s.current=new Date().getTime()})():Le!==1/0&&(ht.current=new Date().getTime(),de=setTimeout(()=>{var De;(De=f.onAutoClose)==null||De.call(f,f),cr()},Le)),()=>clearTimeout(de)},[D,w,oe,f,Tl,cr,f.promise,dt,G,Sl]),H.useEffect(()=>{let de=ut.current;if(de){let Le=de.getBoundingClientRect().height;return ve(Le),v(De=>[{toastId:f.id,height:Le,position:f.position},...De]),()=>v(De=>De.filter(kt=>kt.toastId!==f.id))}},[v,f.id]),H.useEffect(()=>{f.delete&&cr()},[cr,f.delete]);function tm(){return B!=null&&B.loading?H.createElement("div",{className:"sonner-loader","data-visible":dt==="loading"},B.loading):Z?H.createElement("div",{className:"sonner-loader","data-visible":dt==="loading"},Z):H.createElement(pL,{visible:dt==="loading"})}return H.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ut,className:J(k,Ju,L==null?void 0:L.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[dt],(n=f==null?void 0:f.classNames)==null?void 0:n[dt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:O,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":ee,"data-promise":!!f.promise,"data-removed":Se,"data-visible":El,"data-y-position":Il,"data-x-position":em,"data-index":x,"data-front":ai,"data-swiping":pe,"data-dismissible":lr,"data-type":dt,"data-invert":Zu,"data-swipe-out":Te,"data-expanded":!!(D||oe&&ee),style:{"--index":x,"--toasts-before":x,"--z-index":I.length-x,"--offset":`${Se?xt:tt.current}px`,"--initial-height":oe?"auto":`${be}px`,...T,...f.style},onPointerDown:de=>{xs||!lr||(Ye.current=new Date,ct(tt.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(Ce(!0),kr.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,Le,De,kt;if(Te||!lr)return;kr.current=null;let rn=Number(((de=ut.current)==null?void 0:de.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ui=new Date().getTime()-((Le=Ye.current)==null?void 0:Le.getTime()),Nr=Math.abs(rn)/ui;if(Math.abs(rn)>=kL||Nr>.11){ct(tt.current),(De=f.onDismiss)==null||De.call(f,f),cr(),Ue(!0);return}(kt=ut.current)==null||kt.style.setProperty("--swipe-amount","0px"),Ce(!1)},onPointerMove:de=>{var Le;if(!kr.current||!lr)return;let De=de.clientY-kr.current.y,kt=de.clientX-kr.current.x,rn=(Il==="top"?Math.min:Math.max)(0,De),ui=de.pointerType==="touch"?10:2;Math.abs(rn)>ui?(Le=ut.current)==null||Le.style.setProperty("--swipe-amount",`${De}px`):Math.abs(kt)>ui&&(kr.current=null)}},bl&&!f.jsx?H.createElement("button",{"aria-label":Y,"data-disabled":xs,"data-close-button":!0,onClick:xs||!lr?()=>{}:()=>{var de;cr(),(de=f.onDismiss)==null||de.call(f,f)},className:J(L==null?void 0:L.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||H.isValidElement(f.title)?f.jsx||f.title:H.createElement(H.Fragment,null,dt||f.icon||f.promise?H.createElement("div",{"data-icon":"",className:J(L==null?void 0:L.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||tm():null,f.type!=="loading"?f.icon||(B==null?void 0:B[dt])||hL(dt):null):null,H.createElement("div",{"data-content":"",className:J(L==null?void 0:L.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},H.createElement("div",{"data-title":"",className:J(L==null?void 0:L.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?H.createElement("div",{"data-description":"",className:J(R,Zp,L==null?void 0:L.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),H.isValidElement(f.cancel)?f.cancel:f.cancel&&Od(f.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:de=>{var Le,De;Od(f.cancel)&&lr&&((De=(Le=f.cancel).onClick)==null||De.call(Le,de),cr())},className:J(L==null?void 0:L.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,H.isValidElement(f.action)?f.action:f.action&&Od(f.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||N,onClick:de=>{var Le,De;Od(f.action)&&(de.defaultPrevented||((De=(Le=f.action).onClick)==null||De.call(Le,de),cr()))},className:J(L==null?void 0:L.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function gE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var OL=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:h,visibleToasts:f=SL,toastOptions:g,dir:w=gE(),gap:v=RL,loadingIcon:b,icons:E,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:I,cn:D=DL}=t,[M,O]=H.useState([]),S=H.useMemo(()=>Array.from(new Set([n].concat(M.filter(G=>G.position).map(G=>G.position)))),[M,n]),[T,C]=H.useState([]),[N,k]=H.useState(!1),[R,P]=H.useState(!1),[U,ne]=H.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=H.useRef(null),oe=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=H.useRef(null),B=H.useRef(!1),Y=H.useCallback(G=>{var J;(J=M.find(ee=>ee.id===G.id))!=null&&J.delete||gn.dismiss(G.id),O(ee=>ee.filter(({id:fe})=>fe!==G.id))},[M]);return H.useEffect(()=>gn.subscribe(G=>{if(G.dismiss){O(J=>J.map(ee=>ee.id===G.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{$S.flushSync(()=>{O(J=>{let ee=J.findIndex(fe=>fe.id===G.id);return ee!==-1?[...J.slice(0,ee),{...J[ee],...G},...J.slice(ee+1)]:[G,...J]})})})}),[]),H.useEffect(()=>{if(l!=="system"){ne(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{ne(G?"dark":"light")})},[l]),H.useEffect(()=>{M.length<=1&&k(!1)},[M]),H.useEffect(()=>{let G=J=>{var ee,fe;r.every(Se=>J[Se]||J.code===Se)&&(k(!0),(ee=Z.current)==null||ee.focus()),J.code==="Escape"&&(document.activeElement===Z.current||(fe=Z.current)!=null&&fe.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[r]),H.useEffect(()=>{if(Z.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,B.current=!1)}},[Z.current]),M.length?H.createElement("section",{"aria-label":`${x} ${oe}`,tabIndex:-1},S.map((G,J)=>{var ee;let[fe,Se]=G.split("-");return H.createElement("ol",{key:G,dir:w==="auto"?gE():w,tabIndex:-1,ref:Z,className:o,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":fe,"data-x-position":Se,style:{"--front-toast-height":`${((ee=T[0])==null?void 0:ee.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||CL,"--width":`${PL}px`,"--gap":`${v}px`,...h},onBlur:le=>{B.current&&!le.currentTarget.contains(le.relatedTarget)&&(B.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||B.current||(B.current=!0,L.current=le.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{R||k(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},M.filter(le=>!le.position&&J===0||le.position===G).map((le,pe)=>{var Ce,Te;return H.createElement(ML,{key:le.id,icons:E,index:pe,toast:le,defaultRichColors:c,duration:(Ce=g==null?void 0:g.duration)!=null?Ce:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Te=g==null?void 0:g.closeButton)!=null?Te:s,interacting:R,position:G,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Y,toasts:M.filter(Ue=>Ue.position==le.position),heights:T.filter(Ue=>Ue.position==le.position),setHeights:C,expandByDefault:i,gap:v,loadingIcon:b,expanded:N,pauseWhenPageIsHidden:I,cn:D})}))})):null};const FL=({...t})=>{const{theme:e="system"}=dL();return p.jsx(OL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var VL=jT.useId||(()=>{}),LL=0;function fa(t){const[e,n]=y.useState(VL());return Tr(()=>{n(r=>r??String(LL++))},[t]),e?`radix-${e}`:""}const jL=["top","right","bottom","left"],is=Math.min,wn=Math.max,Zh=Math.round,Fd=Math.floor,ss=t=>({x:t,y:t}),BL={left:"right",right:"left",bottom:"top",top:"bottom"},UL={start:"end",end:"start"};function xy(t,e,n){return wn(t,is(e,n))}function Yr(t,e){return typeof t=="function"?t(e):t}function Xr(t){return t.split("-")[0]}function al(t){return t.split("-")[1]}function v0(t){return t==="x"?"y":"x"}function w0(t){return t==="y"?"height":"width"}function os(t){return["top","bottom"].includes(Xr(t))?"y":"x"}function _0(t){return v0(os(t))}function $L(t,e,n){n===void 0&&(n=!1);const r=al(t),i=_0(t),s=w0(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=ef(o)),[o,ef(o)]}function zL(t){const e=ef(t);return[Ey(t),e,Ey(e)]}function Ey(t){return t.replace(/start|end/g,e=>UL[e])}function qL(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function WL(t,e,n,r){const i=al(t);let s=qL(Xr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Ey)))),s}function ef(t){return t.replace(/left|right|bottom|top/g,e=>BL[e])}function HL(t){return{top:0,right:0,bottom:0,left:0,...t}}function AC(t){return typeof t!="number"?HL(t):{top:t,right:t,bottom:t,left:t}}function tf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function yE(t,e,n){let{reference:r,floating:i}=t;const s=os(e),o=_0(e),a=w0(o),l=Xr(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(al(e)){case"start":g[o]-=f*(n&&c?-1:1);break;case"end":g[o]+=f*(n&&c?-1:1);break}return g}const KL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=yE(c,r,l),f=r,g={},w=0;for(let v=0;v<a.length;v++){const{name:b,fn:E}=a[v],{x,y:I,data:D,reset:M}=await E({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,h=I??h,g={...g,[b]:{...g[b],...D}},M&&w<=50&&(w++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:d,y:h}=yE(c,f,l)),v=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:g}};async function Zc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=Yr(e,t),w=AC(g),b=a[f?h==="floating"?"reference":"floating":h],E=tf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),D=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},M=tf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:I,strategy:l}):x);return{top:(E.top-M.top+w.top)/D.y,bottom:(M.bottom-E.bottom+w.bottom)/D.y,left:(E.left-M.left+w.left)/D.x,right:(M.right-E.right+w.right)/D.x}}const GL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Yr(t,e)||{};if(c==null)return{};const h=AC(d),f={x:n,y:r},g=_0(i),w=w0(g),v=await o.getDimensions(c),b=g==="y",E=b?"top":"left",x=b?"bottom":"right",I=b?"clientHeight":"clientWidth",D=s.reference[w]+s.reference[g]-f[g]-s.floating[w],M=f[g]-s.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=O?O[I]:0;(!S||!await(o.isElement==null?void 0:o.isElement(O)))&&(S=a.floating[I]||s.floating[w]);const T=D/2-M/2,C=S/2-v[w]/2-1,N=is(h[E],C),k=is(h[x],C),R=N,P=S-v[w]-k,U=S/2-v[w]/2+T,ne=xy(R,U,P),Z=!l.arrow&&al(i)!=null&&U!==ne&&s.reference[w]/2-(U<R?N:k)-v[w]/2<0,oe=Z?U<R?U-R:U-P:0;return{[g]:f[g]+oe,data:{[g]:ne,centerOffset:U-ne-oe,...Z&&{alignmentOffset:oe}},reset:Z}}}),QL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=Yr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Xr(i),x=os(a),I=Xr(a)===a,D=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=f||(I||!v?[ef(a)]:zL(a)),O=w!=="none";!f&&O&&M.push(...WL(a,v,w,D));const S=[a,...M],T=await Zc(e,b),C=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(T[E]),h){const U=$L(i,o,D);C.push(T[U[0]],T[U[1]])}if(N=[...N,{placement:i,overflows:C}],!C.every(U=>U<=0)){var k,R;const U=(((k=s.flip)==null?void 0:k.index)||0)+1,ne=S[U];if(ne)return{data:{index:U,overflows:N},reset:{placement:ne}};let Z=(R=N.filter(oe=>oe.overflows[0]<=0).sort((oe,L)=>oe.overflows[1]-L.overflows[1])[0])==null?void 0:R.placement;if(!Z)switch(g){case"bestFit":{var P;const oe=(P=N.filter(L=>{if(O){const B=os(L.placement);return B===x||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:P[0];oe&&(Z=oe);break}case"initialPlacement":Z=a;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function vE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function wE(t){return jL.some(e=>t[e]>=0)}const YL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Yr(t,e);switch(r){case"referenceHidden":{const s=await Zc(e,{...i,elementContext:"reference"}),o=vE(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:wE(o)}}}case"escaped":{const s=await Zc(e,{...i,altBoundary:!0}),o=vE(s,n.floating);return{data:{escapedOffsets:o,escaped:wE(o)}}}default:return{}}}}};async function XL(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Xr(n),a=al(n),l=os(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Yr(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*d,y:f*c}:{x:f*c,y:g*d}}const JL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await XL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},ZL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:E,y:x}=b;return{x:E,y:x}}},...l}=Yr(t,e),c={x:n,y:r},d=await Zc(e,l),h=os(Xr(i)),f=v0(h);let g=c[f],w=c[h];if(s){const b=f==="y"?"top":"left",E=f==="y"?"bottom":"right",x=g+d[b],I=g-d[E];g=xy(x,g,I)}if(o){const b=h==="y"?"top":"left",E=h==="y"?"bottom":"right",x=w+d[b],I=w-d[E];w=xy(x,w,I)}const v=a.fn({...e,[f]:g,[h]:w});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:s,[h]:o}}}}}},e4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Yr(t,e),d={x:n,y:r},h=os(i),f=v0(h);let g=d[f],w=d[h];const v=Yr(a,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const I=f==="y"?"height":"width",D=s.reference[f]-s.floating[I]+b.mainAxis,M=s.reference[f]+s.reference[I]-b.mainAxis;g<D?g=D:g>M&&(g=M)}if(c){var E,x;const I=f==="y"?"width":"height",D=["top","left"].includes(Xr(i)),M=s.reference[h]-s.floating[I]+(D&&((E=o.offset)==null?void 0:E[h])||0)+(D?0:b.crossAxis),O=s.reference[h]+s.reference[I]+(D?0:((x=o.offset)==null?void 0:x[h])||0)-(D?b.crossAxis:0);w<M?w=M:w>O&&(w=O)}return{[f]:g,[h]:w}}}},t4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Yr(t,e),d=await Zc(e,c),h=Xr(i),f=al(i),g=os(i)==="y",{width:w,height:v}=s.floating;let b,E;h==="top"||h==="bottom"?(b=h,E=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,b=f==="end"?"top":"bottom");const x=v-d.top-d.bottom,I=w-d.left-d.right,D=is(v-d[b],x),M=is(w-d[E],I),O=!e.middlewareData.shift;let S=D,T=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=x),O&&!f){const N=wn(d.left,0),k=wn(d.right,0),R=wn(d.top,0),P=wn(d.bottom,0);g?T=w-2*(N!==0||k!==0?N+k:wn(d.left,d.right)):S=v-2*(R!==0||P!==0?R+P:wn(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:S});const C=await o.getDimensions(a.floating);return w!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function sp(){return typeof window<"u"}function ll(t){return PC(t)?(t.nodeName||"").toLowerCase():"#document"}function bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(t){var e;return(e=(PC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PC(t){return sp()?t instanceof Node||t instanceof bn(t).Node:!1}function nr(t){return sp()?t instanceof Element||t instanceof bn(t).Element:!1}function Ir(t){return sp()?t instanceof HTMLElement||t instanceof bn(t).HTMLElement:!1}function _E(t){return!sp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bn(t).ShadowRoot}function Mu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function n4(t){return["table","td","th"].includes(ll(t))}function op(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function x0(t){const e=E0(),n=nr(t)?rr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function r4(t){let e=as(t);for(;Ir(e)&&!Va(e);){if(x0(e))return e;if(op(e))return null;e=as(e)}return null}function E0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Va(t){return["html","body","#document"].includes(ll(t))}function rr(t){return bn(t).getComputedStyle(t)}function ap(t){return nr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function as(t){if(ll(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_E(t)&&t.host||Rr(t);return _E(e)?e.host:e}function RC(t){const e=as(t);return Va(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ir(e)&&Mu(e)?e:RC(e)}function eu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=RC(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=bn(i);if(s){const a=by(o);return e.concat(o,o.visualViewport||[],Mu(i)?i:[],a&&n?eu(a):[])}return e.concat(i,eu(i,[],n))}function by(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kC(t){const e=rr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ir(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Zh(n)!==s||Zh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function b0(t){return nr(t)?t:t.contextElement}function pa(t){const e=b0(t);if(!Ir(e))return ss(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=kC(e);let o=(s?Zh(n.width):n.width)/r,a=(s?Zh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const i4=ss(0);function NC(t){const e=bn(t);return!E0()||!e.visualViewport?i4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function s4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bn(t)?!1:e}function io(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=b0(t);let o=ss(1);e&&(r?nr(r)&&(o=pa(r)):o=pa(t));const a=s4(s,n,r)?NC(s):ss(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=bn(s),g=r&&nr(r)?bn(r):r;let w=f,v=by(w);for(;v&&r&&g!==w;){const b=pa(v),E=v.getBoundingClientRect(),x=rr(v),I=E.left+(v.clientLeft+parseFloat(x.paddingLeft))*b.x,D=E.top+(v.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,h*=b.y,l+=I,c+=D,w=bn(v),v=by(w)}}return tf({width:d,height:h,x:l,y:c})}function o4(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Rr(r),a=e?op(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ss(1);const d=ss(0),h=Ir(r);if((h||!h&&!s)&&((ll(r)!=="body"||Mu(o))&&(l=ap(r)),Ir(r))){const f=io(r);c=pa(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function a4(t){return Array.from(t.getClientRects())}function Ty(t,e){const n=ap(t).scrollLeft;return e?e.left+n:io(Rr(t)).left+n}function l4(t){const e=Rr(t),n=ap(t),r=t.ownerDocument.body,i=wn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=wn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ty(t);const a=-n.scrollTop;return rr(r).direction==="rtl"&&(o+=wn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function c4(t,e){const n=bn(t),r=Rr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=E0();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function u4(t,e){const n=io(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ir(t)?pa(t):ss(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function xE(t,e,n){let r;if(e==="viewport")r=c4(t,n);else if(e==="document")r=l4(Rr(t));else if(nr(e))r=u4(e,n);else{const i=NC(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return tf(r)}function DC(t,e){const n=as(t);return n===e||!nr(n)||Va(n)?!1:rr(n).position==="fixed"||DC(n,e)}function d4(t,e){const n=e.get(t);if(n)return n;let r=eu(t,[],!1).filter(a=>nr(a)&&ll(a)!=="body"),i=null;const s=rr(t).position==="fixed";let o=s?as(t):t;for(;nr(o)&&!Va(o);){const a=rr(o),l=x0(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Mu(o)&&!l&&DC(t,o))?r=r.filter(d=>d!==o):i=a,o=as(o)}return e.set(t,r),r}function h4(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?op(e)?[]:d4(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=xE(e,d,i);return c.top=wn(h.top,c.top),c.right=is(h.right,c.right),c.bottom=is(h.bottom,c.bottom),c.left=wn(h.left,c.left),c},xE(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function f4(t){const{width:e,height:n}=kC(t);return{width:e,height:n}}function p4(t,e,n){const r=Ir(e),i=Rr(e),s=n==="fixed",o=io(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ss(0);if(r||!r&&!s)if((ll(e)!=="body"||Mu(i))&&(a=ap(e)),r){const g=io(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=Ty(i));let c=0,d=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-Ty(i,g)}const h=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function Wm(t){return rr(t).position==="static"}function EE(t,e){if(!Ir(t)||rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rr(t)===n&&(n=n.ownerDocument.body),n}function MC(t,e){const n=bn(t);if(op(t))return n;if(!Ir(t)){let i=as(t);for(;i&&!Va(i);){if(nr(i)&&!Wm(i))return i;i=as(i)}return n}let r=EE(t,e);for(;r&&n4(r)&&Wm(r);)r=EE(r,e);return r&&Va(r)&&Wm(r)&&!x0(r)?n:r||r4(t)||n}const m4=async function(t){const e=this.getOffsetParent||MC,n=this.getDimensions,r=await n(t.floating);return{reference:p4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function g4(t){return rr(t).direction==="rtl"}const y4={convertOffsetParentRelativeRectToViewportRelativeRect:o4,getDocumentElement:Rr,getClippingRect:h4,getOffsetParent:MC,getElementRects:m4,getClientRects:a4,getDimensions:f4,getScale:pa,isElement:nr,isRTL:g4};function v4(t,e){let n=null,r;const i=Rr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const g=Fd(d),w=Fd(i.clientWidth-(c+h)),v=Fd(i.clientHeight-(d+f)),b=Fd(c),x={rootMargin:-g+"px "+-w+"px "+-v+"px "+-b+"px",threshold:wn(0,is(1,l))||1};let I=!0;function D(M){const O=M[0].intersectionRatio;if(O!==l){if(!I)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I=!1}try{n=new IntersectionObserver(D,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,x)}n.observe(t)}return o(!0),s}function w4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=b0(t),d=i||s?[...c?eu(c):[],...eu(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const h=c&&a?v4(c,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(E=>{let[x]=E;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var I;(I=g)==null||I.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,v=l?io(t):null;l&&b();function b(){const E=io(t);v&&(E.x!==v.x||E.y!==v.y||E.width!==v.width||E.height!==v.height)&&n(),v=E,w=requestAnimationFrame(b)}return n(),()=>{var E;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),h==null||h(),(E=g)==null||E.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const _4=JL,x4=ZL,E4=QL,b4=t4,T4=YL,bE=GL,I4=e4,S4=(t,e,n)=>{const r=new Map,i={platform:y4,...n},s={...i.platform,_c:r};return KL(t,e,{...i,platform:s})};var uh=typeof document<"u"?y.useLayoutEffect:y.useEffect;function nf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!nf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!nf(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function OC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TE(t,e){const n=OC(t);return Math.round(e*n)/n}function Hm(t){const e=y.useRef(t);return uh(()=>{e.current=t}),e}function C4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=y.useState(r);nf(f,r)||g(r);const[w,v]=y.useState(null),[b,E]=y.useState(null),x=y.useCallback(L=>{L!==O.current&&(O.current=L,v(L))},[]),I=y.useCallback(L=>{L!==S.current&&(S.current=L,E(L))},[]),D=s||w,M=o||b,O=y.useRef(null),S=y.useRef(null),T=y.useRef(d),C=l!=null,N=Hm(l),k=Hm(i),R=Hm(c),P=y.useCallback(()=>{if(!O.current||!S.current)return;const L={placement:e,strategy:n,middleware:f};k.current&&(L.platform=k.current),S4(O.current,S.current,L).then(B=>{const Y={...B,isPositioned:R.current!==!1};U.current&&!nf(T.current,Y)&&(T.current=Y,Nu.flushSync(()=>{h(Y)}))})},[f,e,n,k,R]);uh(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[c]);const U=y.useRef(!1);uh(()=>(U.current=!0,()=>{U.current=!1}),[]),uh(()=>{if(D&&(O.current=D),M&&(S.current=M),D&&M){if(N.current)return N.current(D,M,P);P()}},[D,M,P,N,C]);const ne=y.useMemo(()=>({reference:O,floating:S,setReference:x,setFloating:I}),[x,I]),Z=y.useMemo(()=>({reference:D,floating:M}),[D,M]),oe=y.useMemo(()=>{const L={position:n,left:0,top:0};if(!Z.floating)return L;const B=TE(Z.floating,d.x),Y=TE(Z.floating,d.y);return a?{...L,transform:"translate("+B+"px, "+Y+"px)",...OC(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Y}},[n,a,Z.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:P,refs:ne,elements:Z,floatingStyles:oe}),[d,P,ne,Z,oe])}const A4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?bE({element:r.current,padding:i}).fn(n):{}:r?bE({element:r,padding:i}).fn(n):{}}}},P4=(t,e)=>({..._4(t),options:[t,e]}),R4=(t,e)=>({...x4(t),options:[t,e]}),k4=(t,e)=>({...I4(t),options:[t,e]}),N4=(t,e)=>({...E4(t),options:[t,e]}),D4=(t,e)=>({...b4(t),options:[t,e]}),M4=(t,e)=>({...T4(t),options:[t,e]}),O4=(t,e)=>({...A4(t),options:[t,e]});var F4="Arrow",FC=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return p.jsx(Re.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});FC.displayName=F4;var V4=FC;function L4(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:g,...w}=h,v=(f==null?void 0:f[t][l])||a,b=y.useMemo(()=>w,Object.values(w));return p.jsx(v.Provider,{value:b,children:g})}function d(h,f){const g=(f==null?void 0:f[t][l])||a,w=y.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,j4(i,...e)]}function j4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function B4(t){const[e,n]=y.useState(void 0);return Tr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var T0="Popper",[VC,lp]=L4(T0),[U4,LC]=VC(T0),jC=t=>{const{__scopePopper:e,children:n}=t,[r,i]=y.useState(null);return p.jsx(U4,{scope:e,anchor:r,onAnchorChange:i,children:n})};jC.displayName=T0;var BC="PopperAnchor",UC=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=LC(BC,n),o=y.useRef(null),a=lt(e,o);return y.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Re.div,{...i,ref:a})});UC.displayName=BC;var I0="PopperContent",[$4,z4]=VC(I0),$C=y.forwardRef((t,e)=>{var pe,Ce,Te,Ue,xt,ct;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=t,b=LC(I0,n),[E,x]=y.useState(null),I=lt(e,be=>x(be)),[D,M]=y.useState(null),O=B4(D),S=(O==null?void 0:O.width)??0,T=(O==null?void 0:O.height)??0,C=r+(s!=="center"?"-"+s:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],R=k.length>0,P={padding:N,boundary:k.filter(W4),altBoundary:R},{refs:U,floatingStyles:ne,placement:Z,isPositioned:oe,middlewareData:L}=C4({strategy:"fixed",placement:C,whileElementsMounted:(...be)=>w4(...be,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[P4({mainAxis:i+T,alignmentAxis:o}),l&&R4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?k4():void 0,...P}),l&&N4({...P}),D4({...P,apply:({elements:be,rects:ve,availableWidth:Ye,availableHeight:ut})=>{const{width:ai,height:El}=ve.reference,dt=be.floating.style;dt.setProperty("--radix-popper-available-width",`${Ye}px`),dt.setProperty("--radix-popper-available-height",`${ut}px`),dt.setProperty("--radix-popper-anchor-width",`${ai}px`),dt.setProperty("--radix-popper-anchor-height",`${El}px`)}}),D&&O4({element:D,padding:a}),H4({arrowWidth:S,arrowHeight:T}),f&&M4({strategy:"referenceHidden",...P})]}),[B,Y]=WC(Z),G=Wt(w);Tr(()=>{oe&&(G==null||G())},[oe,G]);const J=(pe=L.arrow)==null?void 0:pe.x,ee=(Ce=L.arrow)==null?void 0:Ce.y,fe=((Te=L.arrow)==null?void 0:Te.centerOffset)!==0,[Se,le]=y.useState();return Tr(()=>{E&&le(window.getComputedStyle(E).zIndex)},[E]),p.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:oe?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(Ue=L.transformOrigin)==null?void 0:Ue.x,(xt=L.transformOrigin)==null?void 0:xt.y].join(" "),...((ct=L.hide)==null?void 0:ct.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx($4,{scope:n,placedSide:B,onArrowChange:M,arrowX:J,arrowY:ee,shouldHideArrow:fe,children:p.jsx(Re.div,{"data-side":B,"data-align":Y,...v,ref:I,style:{...v.style,animation:oe?void 0:"none"}})})})});$C.displayName=I0;var zC="PopperArrow",q4={top:"bottom",right:"left",bottom:"top",left:"right"},qC=y.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=z4(zC,r),o=q4[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(V4,{...i,ref:n,style:{...i.style,display:"block"}})})});qC.displayName=zC;function W4(t){return t!==null}var H4=t=>({name:"transformOrigin",options:t,fn(e){var b,E,x;const{placement:n,rects:r,middlewareData:i}=e,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=WC(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,g=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?h:`${f}px`,v=`${-l}px`):c==="top"?(w=o?h:`${f}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?h:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?h:`${g}px`),{data:{x:w,y:v}}}});function WC(t){const[e,n="center"]=t.split("-");return[e,n]}var K4=jC,HC=UC,KC=$C,GC=qC,[cp,RG]=il("Tooltip",[lp]),S0=lp(),QC="TooltipProvider",G4=700,IE="tooltip.open",[Q4,YC]=cp(QC),XC=t=>{const{__scopeTooltip:e,delayDuration:n=G4,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=y.useState(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),p.jsx(Q4,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};XC.displayName=QC;var JC="Tooltip",[kG,up]=cp(JC),Iy="TooltipTrigger",Y4=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=up(Iy,n),s=YC(Iy,n),o=S0(n),a=y.useRef(null),l=lt(e,a,i.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),p.jsx(HC,{asChild:!0,...o,children:p.jsx(Re.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:se(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:se(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:se(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:se(t.onBlur,i.onClose),onClick:se(t.onClick,i.onClose)})})});Y4.displayName=Iy;var X4="TooltipPortal",[NG,J4]=cp(X4,{forceMount:void 0}),La="TooltipContent",ZC=y.forwardRef((t,e)=>{const n=J4(La,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=up(La,t.__scopeTooltip);return p.jsx(Pr,{present:r||o.open,children:o.disableHoverableContent?p.jsx(eA,{side:i,...s,ref:e}):p.jsx(Z4,{side:i,...s,ref:e})})}),Z4=y.forwardRef((t,e)=>{const n=up(La,t.__scopeTooltip),r=YC(La,t.__scopeTooltip),i=y.useRef(null),s=lt(e,i),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:h}=r,f=y.useCallback(()=>{a(null),h(!1)},[h]),g=y.useCallback((w,v)=>{const b=w.currentTarget,E={x:w.clientX,y:w.clientY},x=rj(E,b.getBoundingClientRect()),I=ij(E,x),D=sj(v.getBoundingClientRect()),M=aj([...I,...D]);a(M),h(!0)},[h]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(l&&d){const w=b=>g(b,d),v=b=>g(b,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",v)}}},[l,d,g,f]),y.useEffect(()=>{if(o){const w=v=>{const b=v.target,E={x:v.clientX,y:v.clientY},x=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),I=!oj(E,o);x?f():I&&(f(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,c,f]),p.jsx(eA,{...t,ref:s})}),[ej,tj]=cp(JC,{isInside:!1}),eA=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=up(La,n),c=S0(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(IE,d),()=>document.removeEventListener(IE,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),p.jsx(Du,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:p.jsxs(KC,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(WS,{children:r}),p.jsx(ej,{scope:n,isInside:!0,children:p.jsx(QF,{id:l.contentId,role:"tooltip",children:i||r})})]})})});ZC.displayName=La;var tA="TooltipArrow",nj=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=S0(n);return tj(tA,n).isInside?null:p.jsx(GC,{...i,...r,ref:e})});nj.displayName=tA;function rj(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ij(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function sj(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function oj(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function aj(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),lj(e)}function lj(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var cj=XC,nA=ZC;const uj=cj,dj=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(nA,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));dj.displayName=nA.displayName;var dp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hp=typeof window>"u"||"Deno"in globalThis;function qn(){}function hj(t,e){return typeof t=="function"?t(e):t}function fj(t){return typeof t=="number"&&t>=0&&t!==1/0}function pj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function SE(t,e){return typeof t=="function"?t(e):t}function mj(t,e){return typeof t=="function"?t(e):t}function CE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==C0(o,e.options))return!1}else if(!nu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function AE(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(tu(e.options.mutationKey)!==tu(s))return!1}else if(!nu(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function C0(t,e){return((e==null?void 0:e.queryKeyHashFn)||tu)(t)}function tu(t){return JSON.stringify(t,(e,n)=>Sy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function nu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!nu(t[n],e[n])):!1}function rA(t,e){if(t===e)return t;const n=PE(t)&&PE(e);if(n||Sy(t)&&Sy(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=rA(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function PE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sy(t){if(!RE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!RE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function RE(t){return Object.prototype.toString.call(t)==="[object Object]"}function gj(t){return new Promise(e=>{setTimeout(e,t)})}function yj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rA(t,e):e}function vj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function wj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var A0=Symbol();function iA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===A0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var $s,Ni,xa,xT,_j=(xT=class extends dp{constructor(){super();ke(this,$s);ke(this,Ni);ke(this,xa);ge(this,xa,e=>{if(!hp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Ni)||this.setEventListener(z(this,xa))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ni))==null||e.call(this),ge(this,Ni,void 0))}setEventListener(e){var n;ge(this,xa,e),(n=z(this,Ni))==null||n.call(this),ge(this,Ni,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,$s)!==e&&(ge(this,$s,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,$s)=="boolean"?z(this,$s):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$s=new WeakMap,Ni=new WeakMap,xa=new WeakMap,xT),sA=new _j,Ea,Di,ba,ET,xj=(ET=class extends dp{constructor(){super();ke(this,Ea,!0);ke(this,Di);ke(this,ba);ge(this,ba,e=>{if(!hp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Di)||this.setEventListener(z(this,ba))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Di))==null||e.call(this),ge(this,Di,void 0))}setEventListener(e){var n;ge(this,ba,e),(n=z(this,Di))==null||n.call(this),ge(this,Di,e(this.setOnline.bind(this)))}setOnline(e){z(this,Ea)!==e&&(ge(this,Ea,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Ea)}},Ea=new WeakMap,Di=new WeakMap,ba=new WeakMap,ET),rf=new xj;function Ej(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function bj(t){return Math.min(1e3*2**t,3e4)}function oA(t){return(t??"online")==="online"?rf.isOnline():!0}var aA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Km(t){return t instanceof aA}function lA(t){let e=!1,n=0,r=!1,i;const s=Ej(),o=v=>{var b;r||(f(new aA(v)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>sA.isFocused()&&(t.networkMode==="always"||rf.isOnline())&&t.canRun(),d=()=>oA(t.networkMode)&&t.canRun(),h=v=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,v),i==null||i(),s.resolve(v))},f=v=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,v),i==null||i(),s.reject(v))},g=()=>new Promise(v=>{var b;i=E=>{(r||c())&&v(E)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),w=()=>{if(r)return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(h).catch(E=>{var O;if(r)return;const x=t.retry??(hp?0:3),I=t.retryDelay??bj,D=typeof I=="function"?I(n,E):I,M=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,E);if(e||!M){f(E);return}n++,(O=t.onFail)==null||O.call(t,n,E),gj(D).then(()=>c()?void 0:g()).then(()=>{e?f(E):w()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():g().then(w),s)}}function Tj(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Yt=Tj(),zs,bT,cA=(bT=class{constructor(){ke(this,zs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fj(this.gcTime)&&ge(this,zs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(hp?1/0:5*60*1e3))}clearGcTimeout(){z(this,zs)&&(clearTimeout(z(this,zs)),ge(this,zs,void 0))}},zs=new WeakMap,bT),Ta,Ia,Rn,Lt,Iu,qs,Wn,Fr,TT,Ij=(TT=class extends cA{constructor(n){super();ke(this,Wn);ke(this,Ta);ke(this,Ia);ke(this,Rn);ke(this,Lt);ke(this,Iu);ke(this,qs);ge(this,qs,!1),ge(this,Iu,n.defaultOptions),this.setOptions(n.options),this.observers=[],ge(this,Rn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ge(this,Ta,Cj(this.options)),this.state=n.state??z(this,Ta),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Lt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,Iu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Rn).remove(this)}setData(n,r){const i=yj(this.state.data,n,this.options);return Mt(this,Wn,Fr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Mt(this,Wn,Fr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=z(this,Lt))==null?void 0:i.promise;return(s=z(this,Lt))==null||s.cancel(n),r?r.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Ta))}isActive(){return this.observers.some(n=>mj(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!pj(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Lt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Lt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,Rn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Lt)&&(z(this,qs)?z(this,Lt).cancel({revert:!0}):z(this,Lt).cancelRetry()),this.scheduleGc()),z(this,Rn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mt(this,Wn,Fr).call(this,{type:"invalidate"})}fetch(n,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Lt))return z(this,Lt).continueRetry(),z(this,Lt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ge(this,qs,!0),i.signal)})},o=()=>{const f=iA(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return s(g),ge(this,qs,!1),this.options.persister?this.options.persister(f,g,this):f(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ge(this,Ia,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Mt(this,Wn,Fr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var g,w,v,b;Km(f)&&f.silent||Mt(this,Wn,Fr).call(this,{type:"error",error:f}),Km(f)||((w=(g=z(this,Rn).config).onError)==null||w.call(g,f,this),(b=(v=z(this,Rn).config).onSettled)==null||b.call(v,this.state.data,f,this)),this.scheduleGc()};return ge(this,Lt,lA({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var g,w,v,b;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(E){l(E);return}(w=(g=z(this,Rn).config).onSuccess)==null||w.call(g,f,this),(b=(v=z(this,Rn).config).onSettled)==null||b.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,g)=>{Mt(this,Wn,Fr).call(this,{type:"failed",failureCount:f,error:g})},onPause:()=>{Mt(this,Wn,Fr).call(this,{type:"pause"})},onContinue:()=>{Mt(this,Wn,Fr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Lt).start()}},Ta=new WeakMap,Ia=new WeakMap,Rn=new WeakMap,Lt=new WeakMap,Iu=new WeakMap,qs=new WeakMap,Wn=new WeakSet,Fr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Sj(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Km(s)&&s.revert&&z(this,Ia)?{...z(this,Ia),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Yt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,Rn).notify({query:this,type:"updated",action:n})})},TT);function Sj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Cj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var fr,IT,Aj=(IT=class extends dp{constructor(e={}){super();ke(this,fr);this.config=e,ge(this,fr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??C0(i,n);let o=this.get(s);return o||(o=new Ij({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,fr).has(e.queryHash)||(z(this,fr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,fr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,fr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,fr).get(e)}getAll(){return[...z(this,fr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>CE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>CE(e,r)):n}notify(e){Yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fr=new WeakMap,IT),pr,Kt,Ws,mr,Ei,ST,Pj=(ST=class extends cA{constructor(n){super();ke(this,mr);ke(this,pr);ke(this,Kt);ke(this,Ws);this.mutationId=n.mutationId,ge(this,Kt,n.mutationCache),ge(this,pr,[]),this.state=n.state||Rj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,pr).includes(n)||(z(this,pr).push(n),this.clearGcTimeout(),z(this,Kt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ge(this,pr,z(this,pr).filter(r=>r!==n)),this.scheduleGc(),z(this,Kt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,pr).length||(this.state.status==="pending"?this.scheduleGc():z(this,Kt).remove(this))}continue(){var n;return((n=z(this,Ws))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,c,d,h,f,g,w,v,b,E,x,I,D,M,O,S,T;ge(this,Ws,lA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,N)=>{Mt(this,mr,Ei).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{Mt(this,mr,Ei).call(this,{type:"pause"})},onContinue:()=>{Mt(this,mr,Ei).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Kt).canRun(this)}));const r=this.state.status==="pending",i=!z(this,Ws).canStart();try{if(!r){Mt(this,mr,Ei).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=z(this,Kt).config).onMutate)==null?void 0:o.call(s,n,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));N!==this.state.context&&Mt(this,mr,Ei).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const C=await z(this,Ws).start();return await((d=(c=z(this,Kt).config).onSuccess)==null?void 0:d.call(c,C,n,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,C,n,this.state.context)),await((w=(g=z(this,Kt).config).onSettled)==null?void 0:w.call(g,C,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,C,null,n,this.state.context)),Mt(this,mr,Ei).call(this,{type:"success",data:C}),C}catch(C){try{throw await((x=(E=z(this,Kt).config).onError)==null?void 0:x.call(E,C,n,this.state.context,this)),await((D=(I=this.options).onError)==null?void 0:D.call(I,C,n,this.state.context)),await((O=(M=z(this,Kt).config).onSettled)==null?void 0:O.call(M,void 0,C,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,C,n,this.state.context)),C}finally{Mt(this,mr,Ei).call(this,{type:"error",error:C})}}finally{z(this,Kt).runNext(this)}}},pr=new WeakMap,Kt=new WeakMap,Ws=new WeakMap,mr=new WeakSet,Ei=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Yt.batch(()=>{z(this,pr).forEach(i=>{i.onMutationUpdate(n)}),z(this,Kt).notify({mutation:this,type:"updated",action:n})})},ST);function Rj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mn,Su,CT,kj=(CT=class extends dp{constructor(e={}){super();ke(this,mn);ke(this,Su);this.config=e,ge(this,mn,new Map),ge(this,Su,Date.now())}build(e,n,r){const i=new Pj({mutationCache:this,mutationId:++md(this,Su)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Vd(e),r=z(this,mn).get(n)??[];r.push(e),z(this,mn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Vd(e);if(z(this,mn).has(n)){const i=(r=z(this,mn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,mn).delete(n):z(this,mn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,mn).get(Vd(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,mn).get(Vd(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,mn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>AE(n,r))}findAll(e={}){return this.getAll().filter(n=>AE(e,n))}notify(e){Yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yt.batch(()=>Promise.all(e.map(n=>n.continue().catch(qn))))}},mn=new WeakMap,Su=new WeakMap,CT);function Vd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function kE(t){return{onFetch:(e,n)=>{var d,h,f,g,w;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const b=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=iA(e.options,e.fetchOptions),x=async(I,D,M)=>{if(v)return Promise.reject();if(D==null&&I.pages.length)return Promise.resolve(I);const O={queryKey:e.queryKey,pageParam:D,direction:M?"backward":"forward",meta:e.options.meta};b(O);const S=await E(O),{maxPages:T}=e.options,C=M?wj:vj;return{pages:C(I.pages,S,T),pageParams:C(I.pageParams,D,T)}};if(i&&s.length){const I=i==="backward",D=I?Nj:NE,M={pages:s,pageParams:o},O=D(r,M);a=await x(M,O,I)}else{const I=t??s.length;do{const D=l===0?o[0]??r.initialPageParam:NE(r,a);if(l>0&&D==null)break;a=await x(a,D),l++}while(l<I)}return a};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function NE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Nj(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var rt,Mi,Oi,Sa,Ca,Fi,Aa,Pa,AT,Dj=(AT=class{constructor(t={}){ke(this,rt);ke(this,Mi);ke(this,Oi);ke(this,Sa);ke(this,Ca);ke(this,Fi);ke(this,Aa);ke(this,Pa);ge(this,rt,t.queryCache||new Aj),ge(this,Mi,t.mutationCache||new kj),ge(this,Oi,t.defaultOptions||{}),ge(this,Sa,new Map),ge(this,Ca,new Map),ge(this,Fi,0)}mount(){md(this,Fi)._++,z(this,Fi)===1&&(ge(this,Aa,sA.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,rt).onFocus())})),ge(this,Pa,rf.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,rt).onOnline())})))}unmount(){var t,e;md(this,Fi)._--,z(this,Fi)===0&&((t=z(this,Aa))==null||t.call(this),ge(this,Aa,void 0),(e=z(this,Pa))==null||e.call(this),ge(this,Pa,void 0))}isFetching(t){return z(this,rt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Mi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,rt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,rt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(SE(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,rt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,rt).get(r.queryHash),s=i==null?void 0:i.state.data,o=hj(e,s);if(o!==void 0)return z(this,rt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Yt.batch(()=>z(this,rt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,rt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,rt);Yt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,rt),r={type:"active",...t};return Yt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Yt.batch(()=>z(this,rt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(qn).catch(qn)}invalidateQueries(t={},e={}){return Yt.batch(()=>{if(z(this,rt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Yt.batch(()=>z(this,rt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(qn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,rt).build(this,e);return n.isStaleByTime(SE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qn).catch(qn)}fetchInfiniteQuery(t){return t.behavior=kE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qn).catch(qn)}ensureInfiniteQueryData(t){return t.behavior=kE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return rf.isOnline()?z(this,Mi).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,rt)}getMutationCache(){return z(this,Mi)}getDefaultOptions(){return z(this,Oi)}setDefaultOptions(t){ge(this,Oi,t)}setQueryDefaults(t,e){z(this,Sa).set(tu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Sa).values()];let n={};return e.forEach(r=>{nu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,Ca).set(tu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Ca).values()];let n={};return e.forEach(r=>{nu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Oi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=C0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===A0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Oi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,rt).clear(),z(this,Mi).clear()}},rt=new WeakMap,Mi=new WeakMap,Oi=new WeakMap,Sa=new WeakMap,Ca=new WeakMap,Fi=new WeakMap,Aa=new WeakMap,Pa=new WeakMap,AT),Mj=y.createContext(void 0),Oj=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(Mj.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ru.apply(this,arguments)}var ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ji||(ji={}));const DE="popstate";function Fj(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Cy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sf(i)}return Lj(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vj(){return Math.random().toString(36).substr(2,8)}function ME(t,e){return{usr:t.state,key:t.key,idx:e}}function Cy(t,e,n,r){return n===void 0&&(n=null),ru({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cl(e):e,{state:n,key:e&&e.key||r||Vj()})}function sf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Lj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ji.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ru({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ji.Pop;let b=d(),E=b==null?null:b-c;c=b,l&&l({action:a,location:v.location,delta:E})}function f(b,E){a=ji.Push;let x=Cy(v.location,b,E);c=d()+1;let I=ME(x,c),D=v.createHref(x);try{o.pushState(I,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(D)}s&&l&&l({action:a,location:v.location,delta:1})}function g(b,E){a=ji.Replace;let x=Cy(v.location,b,E);c=d();let I=ME(x,c),D=v.createHref(x);o.replaceState(I,"",D),s&&l&&l({action:a,location:v.location,delta:0})}function w(b){let E=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:sf(b);return x=x.replace(/ $/,"%20"),at(E,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,E)}let v={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(DE,h),l=b,()=>{i.removeEventListener(DE,h),l=null}},createHref(b){return e(i,b)},createURL:w,encodeLocation(b){let E=w(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:g,go(b){return o.go(b)}};return v}var OE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(OE||(OE={}));function jj(t,e,n){return n===void 0&&(n="/"),Bj(t,e,n,!1)}function Bj(t,e,n,r){let i=typeof e=="string"?cl(e):e,s=P0(i.pathname||"/",n);if(s==null)return null;let o=dA(t);Uj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Jj(s);a=Yj(o[l],c,r)}return a}function dA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Qi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(at(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dA(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Gj(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of hA(s.path))i(s,o,l)}),e}function hA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Uj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Qj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $j=/^:[\w-]+$/,zj=3,qj=2,Wj=1,Hj=10,Kj=-2,FE=t=>t==="*";function Gj(t,e){let n=t.split("/"),r=n.length;return n.some(FE)&&(r+=Kj),e&&(r+=qj),n.filter(i=>!FE(i)).reduce((i,s)=>i+($j.test(s)?zj:s===""?Wj:Hj),r)}function Qj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Yj(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=VE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=VE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Qi([s,h.pathname]),pathnameBase:n5(Qi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Qi([s,h.pathnameBase]))}return o}function VE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Xj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Jj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function P0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Zj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cl(t):t;return{pathname:n?n.startsWith("/")?n:e5(n,e):e,search:r5(r),hash:i5(i)}}function e5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R0(t,e){let n=t5(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function k0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cl(t):(i=ru({},t),at(!i.pathname||!i.pathname.includes("?"),Gm("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),Gm("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),Gm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Zj(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Qi=t=>t.join("/").replace(/\/\/+/g,"/"),n5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fA=["post","put","patch","delete"];new Set(fA);const o5=["get",...fA];new Set(o5);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(this,arguments)}const N0=y.createContext(null),a5=y.createContext(null),gs=y.createContext(null),fp=y.createContext(null),ii=y.createContext({outlet:null,matches:[],isDataRoute:!1}),pA=y.createContext(null);function l5(t,e){let{relative:n}=e===void 0?{}:e;ul()||at(!1);let{basename:r,navigator:i}=y.useContext(gs),{hash:s,pathname:o,search:a}=yA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ul(){return y.useContext(fp)!=null}function dl(){return ul()||at(!1),y.useContext(fp).location}function mA(t){y.useContext(gs).static||y.useLayoutEffect(t)}function gA(){let{isDataRoute:t}=y.useContext(ii);return t?b5():c5()}function c5(){ul()||at(!1);let t=y.useContext(N0),{basename:e,future:n,navigator:r}=y.useContext(gs),{matches:i}=y.useContext(ii),{pathname:s}=dl(),o=JSON.stringify(R0(i,n.v7_relativeSplatPath)),a=y.useRef(!1);return mA(()=>{a.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=k0(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const u5=y.createContext(null);function d5(t){let e=y.useContext(ii).outlet;return e&&y.createElement(u5.Provider,{value:t},e)}function yA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(gs),{matches:i}=y.useContext(ii),{pathname:s}=dl(),o=JSON.stringify(R0(i,r.v7_relativeSplatPath));return y.useMemo(()=>k0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function h5(t,e){return f5(t,e)}function f5(t,e,n,r){ul()||at(!1);let{navigator:i}=y.useContext(gs),{matches:s}=y.useContext(ii),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=dl(),d;if(e){var h;let b=typeof e=="string"?cl(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||at(!1),d=b}else d=c;let f=d.pathname||"/",g=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=jj(t,{pathname:g}),v=v5(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Qi([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Qi([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&v?y.createElement(fp.Provider,{value:{location:iu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ji.Pop}},v):v}function p5(){let t=E5(),e=s5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,null)}const m5=y.createElement(p5,null);class g5 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(ii.Provider,{value:this.props.routeContext},y.createElement(pA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y5(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(N0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(ii.Provider,{value:e},r)}function v5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:g}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,w=!1,v=null,b=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||m5,l&&(c<0&&f===0?(w=!0,b=null):c===f&&(w=!0,b=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),x=()=>{let I;return g?I=v:w?I=b:h.route.Component?I=y.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=d,y.createElement(y5,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:I})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(g5,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):x()},null)}var vA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vA||{}),of=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(of||{});function w5(t){let e=y.useContext(N0);return e||at(!1),e}function _5(t){let e=y.useContext(a5);return e||at(!1),e}function x5(t){let e=y.useContext(ii);return e||at(!1),e}function wA(t){let e=x5(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function E5(){var t;let e=y.useContext(pA),n=_5(of.UseRouteError),r=wA(of.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function b5(){let{router:t}=w5(vA.UseNavigateStable),e=wA(of.UseNavigateStable),n=y.useRef(!1);return mA(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,iu({fromRouteId:e},s)))},[t,e])}function T5(t){let{to:e,replace:n,state:r,relative:i}=t;ul()||at(!1);let{future:s,static:o}=y.useContext(gs),{matches:a}=y.useContext(ii),{pathname:l}=dl(),c=gA(),d=k0(e,R0(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function I5(t){return d5(t.context)}function sc(t){at(!1)}function S5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ji.Pop,navigator:s,static:o=!1,future:a}=t;ul()&&at(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:s,static:o,future:iu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=cl(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:w="default"}=r,v=y.useMemo(()=>{let b=P0(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:g,key:w},navigationType:i}},[l,d,h,f,g,w,i]);return v==null?null:y.createElement(gs.Provider,{value:c},y.createElement(fp.Provider,{children:n,value:v}))}function C5(t){let{children:e,location:n}=t;return h5(Ay(e),n)}new Promise(()=>{});function Ay(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,Ay(r.props.children,s));return}r.type!==sc&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ay(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Py.apply(this,arguments)}function A5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function P5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R5(t,e){return t.button===0&&(!e||e==="_self")&&!P5(t)}const k5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],N5="6";try{window.__reactRouterVersion=N5}catch{}const D5="startTransition",LE=jT[D5];function M5(t){let{basename:e,children:n,future:r,window:i}=t,s=y.useRef();s.current==null&&(s.current=Fj({window:i,v5Compat:!0}));let o=s.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=y.useCallback(h=>{c&&LE?LE(()=>l(h)):l(h)},[l,c]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.createElement(S5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const O5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V5=y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=A5(e,k5),{basename:g}=y.useContext(gs),w,v=!1;if(typeof c=="string"&&F5.test(c)&&(w=c,O5))try{let I=new URL(window.location.href),D=c.startsWith("//")?new URL(I.protocol+c):new URL(c),M=P0(D.pathname,g);D.origin===I.origin&&M!=null?c=M+D.search+D.hash:v=!0}catch{}let b=l5(c,{relative:i}),E=L5(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function x(I){r&&r(I),I.defaultPrevented||E(I)}return y.createElement("a",Py({},f,{href:w||b,onClick:v||s?r:x,ref:n,target:l}))});var jE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jE||(jE={}));var BE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BE||(BE={}));function L5(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=gA(),c=dl(),d=yA(t,{relative:o});return y.useCallback(h=>{if(R5(h,n)){h.preventDefault();let f=r!==void 0?r:sf(c)===sf(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const j5=()=>{};var UE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},B5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_A(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new U5;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class U5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $5=function(t){const e=_A(t);return xA.encodeByteArray(e,!0)},EA=function(t){return $5(t).replace(/\./g,"")},bA=function(t){try{return xA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=()=>TA().__FIREBASE_DEFAULTS__,q5=()=>{if(typeof process>"u"||typeof UE>"u")return;const t=UE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bA(t[1]);return e&&JSON.parse(e)},pp=()=>{try{return j5()||z5()||q5()||W5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H5=t=>{var e,n;return(n=(e=pp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IA=()=>{var t;return(t=pp())===null||t===void 0?void 0:t.config},SA=t=>{var e;return(e=pp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){return t.endsWith(".cloudworkstations.dev")}async function CA(t){return(await fetch(t,{credentials:"include"})).ok}const Tc={};function G5(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?t.emulator.push(e):t.prod.push(e);return t}function Q5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $E=!1;function Y5(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||Tc[t]===e||Tc[t]||$E)return;Tc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=G5().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{$E=!0,o()},f}function d(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=Q5(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),b=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),x=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const I=f.element;a(I),d(b,v);const D=c();l(x,E),I.append(x,w,b,D),document.body.appendChild(I)}s?(w.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function AA(){var t;const e=(t=pp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e3(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PA(){return!AA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){return!AA()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function mp(){try{return typeof indexedDB=="object"}catch{return!1}}function M0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function kA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="FirebaseError";class sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=t3,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eo.prototype.create)}}class Eo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?n3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new sr(i,a,r)}}function n3(t,e){return t.replace(r3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const r3=/\{\$([^}]+)}/g;function i3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(zE(s)&&zE(o)){if(!Jr(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function s3(t,e){const n=new o3(t,e);return n.subscribe.bind(n)}class o3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");a3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qm),i.error===void 0&&(i.error=Qm),i.complete===void 0&&(i.complete=Qm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=1e3,c3=2,u3=4*60*60*1e3,d3=.5;function qE(t,e=l3,n=c3){const r=e*Math.pow(n,t),i=Math.round(d3*r*(Math.random()-.5)*2);return Math.min(u3,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class ir{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p3(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f3(t){return t===As?void 0:t}function p3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const g3={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},y3=xe.INFO,v3={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},w3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=y3,this._logHandler=w3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const _3=(t,e)=>e.some(n=>t instanceof n);let WE,HE;function x3(){return WE||(WE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E3(){return HE||(HE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NA=new WeakMap,Ry=new WeakMap,DA=new WeakMap,Ym=new WeakMap,O0=new WeakMap;function b3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NA.set(n,t)}).catch(()=>{}),O0.set(e,t),e}function T3(t){if(Ry.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ry.set(t,e)}let ky={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I3(t){ky=t(ky)}function S3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xm(this),e,...n);return DA.set(r,e.sort?e.sort():[e]),Yi(r)}:E3().includes(t)?function(...e){return t.apply(Xm(this),e),Yi(NA.get(this))}:function(...e){return Yi(t.apply(Xm(this),e))}}function C3(t){return typeof t=="function"?S3(t):(t instanceof IDBTransaction&&T3(t),_3(t,x3())?new Proxy(t,ky):t)}function Yi(t){if(t instanceof IDBRequest)return b3(t);if(Ym.has(t))return Ym.get(t);const e=C3(t);return e!==t&&(Ym.set(t,e),O0.set(e,t)),e}const Xm=t=>O0.get(t);function MA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yi(o.result),l.oldVersion,l.newVersion,Yi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const A3=["get","getKey","getAll","getAllKeys","count"],P3=["put","add","delete","clear"],Jm=new Map;function KE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=P3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A3.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Jm.set(e,s),s}I3(t=>({...t,get:(e,n,r)=>KE(e,n)||t.get(e,n,r),has:(e,n)=>!!KE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function k3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ny="@firebase/app",GE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new gp("@firebase/app"),N3="@firebase/app-compat",D3="@firebase/analytics-compat",M3="@firebase/analytics",O3="@firebase/app-check-compat",F3="@firebase/app-check",V3="@firebase/auth",L3="@firebase/auth-compat",j3="@firebase/database",B3="@firebase/data-connect",U3="@firebase/database-compat",$3="@firebase/functions",z3="@firebase/functions-compat",q3="@firebase/installations",W3="@firebase/installations-compat",H3="@firebase/messaging",K3="@firebase/messaging-compat",G3="@firebase/performance",Q3="@firebase/performance-compat",Y3="@firebase/remote-config",X3="@firebase/remote-config-compat",J3="@firebase/storage",Z3="@firebase/storage-compat",e6="@firebase/firestore",t6="@firebase/ai",n6="@firebase/firestore-compat",r6="firebase",i6="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="[DEFAULT]",s6={[Ny]:"fire-core",[N3]:"fire-core-compat",[M3]:"fire-analytics",[D3]:"fire-analytics-compat",[F3]:"fire-app-check",[O3]:"fire-app-check-compat",[V3]:"fire-auth",[L3]:"fire-auth-compat",[j3]:"fire-rtdb",[B3]:"fire-data-connect",[U3]:"fire-rtdb-compat",[$3]:"fire-fn",[z3]:"fire-fn-compat",[q3]:"fire-iid",[W3]:"fire-iid-compat",[H3]:"fire-fcm",[K3]:"fire-fcm-compat",[G3]:"fire-perf",[Q3]:"fire-perf-compat",[Y3]:"fire-rc",[X3]:"fire-rc-compat",[J3]:"fire-gcs",[Z3]:"fire-gcs-compat",[e6]:"fire-fst",[n6]:"fire-fst-compat",[t6]:"fire-vertex","fire-js":"fire-js",[r6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,o6=new Map,My=new Map;function QE(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){const e=t.name;if(My.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;My.set(e,t);for(const n of su.values())QE(n,t);for(const n of o6.values())QE(n,t);return!0}function bo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Eo("app","Firebase",a6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=i6;function OA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Xi.create("bad-app-name",{appName:String(i)});if(n||(n=IA()),!n)throw Xi.create("no-options");const s=su.get(i);if(s){if(Jr(n,s.options)&&Jr(r,s.config))return s;throw Xi.create("duplicate-app",{appName:i})}const o=new m3(i);for(const l of My.values())o.addComponent(l);const a=new l6(n,r,o);return su.set(i,a),a}function F0(t=Dy){const e=su.get(t);if(!e&&t===Dy&&IA())return OA();if(!e)throw Xi.create("no-app",{appName:t});return e}function c6(){return Array.from(su.values())}function Fn(t,e,n){var r;let i=(r=s6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(a.join(" "));return}Sr(new ir(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="firebase-heartbeat-database",d6=1,ou="firebase-heartbeat-store";let Zm=null;function FA(){return Zm||(Zm=MA(u6,d6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Zm}async function h6(t){try{const n=(await FA()).transaction(ou),r=await n.objectStore(ou).get(VA(t));return await n.done,r}catch(e){if(e instanceof sr)Zr.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(n.message)}}}async function YE(t,e){try{const r=(await FA()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,VA(t)),await r.done}catch(n){if(n instanceof sr)Zr.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zr.warn(r.message)}}}function VA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=1024,p6=30;class m6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=XE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>p6){const o=v6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=XE(),{heartbeatsToSend:r,unsentEntries:i}=g6(this._heartbeatsCache.heartbeats),s=EA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zr.warn(n),""}}}function XE(){return new Date().toISOString().substring(0,10)}function g6(t,e=f6){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),JE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mp()?M0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return YE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return YE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function JE(t){return EA(JSON.stringify({version:2,heartbeats:t})).length}function v6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){Sr(new ir("platform-logger",e=>new R3(e),"PRIVATE")),Sr(new ir("heartbeat",e=>new m6(e),"PRIVATE")),Fn(Ny,GE,t),Fn(Ny,GE,"esm2017"),Fn("fire-js","")}w6("");var yr=function(){return yr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yr.apply(this,arguments)};function Fu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _6(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function LA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x6=LA,jA=new Eo("auth","Firebase",LA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new gp("@firebase/auth");function E6(t,...e){af.logLevel<=xe.WARN&&af.warn(`Auth (${fl}): ${t}`,...e)}function dh(t,...e){af.logLevel<=xe.ERROR&&af.error(`Auth (${fl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,...e){throw L0(t,...e)}function er(t,...e){return L0(t,...e)}function V0(t,e,n){const r=Object.assign(Object.assign({},x6()),{[e]:n});return new Eo("auth","Firebase",r).create(e,{appName:t.name})}function Gs(t){return V0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function b6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cr(t,"argument-error"),V0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function L0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jA.create(t,...e)}function ue(t,e,...n){if(!t)throw L0(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dh(e),new Error(e)}function ei(t,e){t||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function T6(){return ZE()==="http:"||ZE()==="https:"}function ZE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T6()||D0()||"connection"in navigator)?navigator.onLine:!0}function S6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=X5()||Z5()}get(){return I6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t,e){ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P6=new Vu(3e4,6e4);function B0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pl(t,e,n,r,i={}){return UA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ou(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return J5()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(c.credentials="include"),BA.fetch()(await $A(t,t.config.apiHost,n,a),c)})}async function UA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},C6),e);try{const i=new k6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ld(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ld(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ld(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw V0(t,d,c);Cr(t,d)}}catch(i){if(i instanceof sr)throw i;Cr(t,"network-request-failed",{message:String(i)})}}async function R6(t,e,n,r,i={}){const s=await pl(t,e,n,r,i);return"mfaPendingCredential"in s&&Cr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function $A(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?j0(t.config,i):`${t.config.apiScheme}://${i}`;return A6.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class k6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),P6.get())})}}function Ld(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N6(t,e){return pl(t,"POST","/v1/accounts:delete",e)}async function lf(t,e){return pl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D6(t,e=!1){const n=mt(t),r=await n.getIdToken(e),i=U0(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ic(eg(i.auth_time)),issuedAtTime:Ic(eg(i.iat)),expirationTime:Ic(eg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function eg(t){return Number(t)*1e3}function U0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const i=bA(n);return i?JSON.parse(i):(dh("Failed to decode base64 JWT payload"),null)}catch(i){return dh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function e1(t){const e=U0(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sr&&M6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await au(t,lf(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?zA(s.providerUserInfo):[],a=V6(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fy(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function F6(t){const e=mt(t);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zA(t){return t.map(e=>{var{providerId:n}=e,r=Fu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e){const n=await UA(t,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await $A(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(l.credentials="include"),BA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function j6(t,e){return pl(t,"POST","/v2/accounts:revokeToken",B0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=e1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await L6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ma;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Fu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D6(this,e)}reload(){return F6(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Gs(this.auth));const e=await this.getIdToken();return await au(this,N6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:D,isAnonymous:M,providerData:O,stsTokenManager:S}=n;ue(I&&S,e,"internal-error");const T=ma.fromJSON(this.name,S);ue(typeof I=="string",e,"internal-error"),yi(h,e.name),yi(f,e.name),ue(typeof D=="boolean",e,"internal-error"),ue(typeof M=="boolean",e,"internal-error"),yi(g,e.name),yi(w,e.name),yi(v,e.name),yi(b,e.name),yi(E,e.name),yi(x,e.name);const C=new Xn({uid:I,auth:e,email:f,emailVerified:D,displayName:h,isAnonymous:M,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:T,createdAt:E,lastLoginAt:x});return O&&Array.isArray(O)&&(C.providerData=O.map(N=>Object.assign({},N))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new ma;i.updateFromServerResponse(n);const s=new Xn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?zA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ma;a.updateFromIdToken(r);const l=new Xn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Fy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new Map;function zr(t){ei(t instanceof Function,"Expected a class definition");let e=t1.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,t1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qA.type="NONE";const n1=qA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t,e,n){return`firebase:${t}:${e}:${n}`}class ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hh(this.userKey,i.apiKey,s),this.fullPersistenceKey=hh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lf(this.auth,{idToken:e}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ga(zr(n1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||zr(n1);const o=hh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await lf(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Xn._fromGetAccountInfoResponse(e,f,d)}else h=Xn._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ga(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ga(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YA(e))return"Blackberry";if(XA(e))return"Webos";if(HA(e))return"Safari";if((e.includes("chrome/")||KA(e))&&!e.includes("edge/"))return"Chrome";if(QA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WA(t=wt()){return/firefox\//i.test(t)}function HA(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KA(t=wt()){return/crios\//i.test(t)}function GA(t=wt()){return/iemobile/i.test(t)}function QA(t=wt()){return/android/i.test(t)}function YA(t=wt()){return/blackberry/i.test(t)}function XA(t=wt()){return/webos/i.test(t)}function $0(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B6(t=wt()){var e;return $0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U6(){return e3()&&document.documentMode===10}function JA(t=wt()){return $0(t)||QA(t)||XA(t)||YA(t)||/windows phone/i.test(t)||GA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e=[]){let n;switch(t){case"Browser":n=r1(wt());break;case"Worker":n=`${r1(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(t,e={}){return pl(t,"GET","/v2/passwordPolicy",B0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=6;class W6{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:q6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i1(this),this.idTokenSubscription=new i1(this),this.beforeStateQueue=new $6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lf(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Gs(this));const n=e?mt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z6(this),n=new W6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await j6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&E6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yp(t){return mt(t)}class i1{constructor(e){this.auth=e,this.observer=null,this.addObserver=s3(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K6(t){z0=t}function G6(t){return z0.loadJS(t)}function Q6(){return z0.gapiScript}function Y6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t,e){const n=bo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jr(s,e??{}))return i;Cr(i,"already-initialized")}return n.initialize({options:e})}function J6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Z6(t,e,n){const r=yp(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=eP(e),{host:o,port:a}=e9(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Jr(c,r.config.emulator)&&Jr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,hl(o)?(CA(`${s}//${o}${l}`),Y5("Auth",!0)):t9()}function eP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function e9(t){const e=eP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:s1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:s1(o)}}}function s1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function t9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e){return R6(t,"POST","/v1/accounts:signInWithIdp",B0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="http://localhost";class so extends tP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Fu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new so(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ya(e,n)}buildRequest(){const e={requestUri:n9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends q0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Lu{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return so._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Lu{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Lu{constructor(){super("twitter.com")}static credential(e,n){return so._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ri.credential(n,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xn._fromIdTokenResponse(e,r,i),o=o1(r);return new ja({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=o1(r);return new ja({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function o1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends sr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new uf(e,n,r,i)}}function nP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(t,s,e,r):s})}async function r9(t,e,n=!1){const r=await au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ja._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(t,e,n=!1){const{auth:r}=t;if(Qn(r.app))return Promise.reject(Gs(r));const i="reauthenticate";try{const s=await au(t,nP(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=U0(s.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),ja._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Cr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e,n=!1){if(Qn(t.app))return Promise.reject(Gs(t));const r="signIn",i=await nP(t,r,e),s=await ja._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function o9(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function a9(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function l9(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function rP(t){return mt(t).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=1e3,u9=10;class sP extends iP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);U6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,u9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},c9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sP.type="LOCAL";const d9=sP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP extends iP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oP.type="SESSION";const aP=oP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await h9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=W0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function p9(t){Er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function m9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function y9(){return lP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="firebaseLocalStorageDb",v9=1,hf="firebaseLocalStorage",uP="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wp(t,e){return t.transaction([hf],e?"readwrite":"readonly").objectStore(hf)}function w9(){const t=indexedDB.deleteDatabase(cP);return new ju(t).toPromise()}function Vy(){const t=indexedDB.open(cP,v9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hf,{keyPath:uP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hf)?e(r):(r.close(),await w9(),e(await Vy()))})})}async function a1(t,e,n){const r=wp(t,!0).put({[uP]:e,value:n});return new ju(r).toPromise()}async function _9(t,e){const n=wp(t,!1).get(e),r=await new ju(n).toPromise();return r===void 0?null:r.value}function l1(t,e){const n=wp(t,!0).delete(e);return new ju(n).toPromise()}const x9=800,E9=3;class dP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>E9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vp._getInstance(y9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await m9(),!this.activeServiceWorker)return;this.sender=new f9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vy();return await a1(e,df,"1"),await l1(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>a1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wp(i,!1).getAll();return new ju(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dP.type="LOCAL";const b9=dP;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e){return e?zr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends tP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T9(t){return s9(t.auth,new H0(t),t.bypassAuthState)}function I9(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),i9(n,new H0(t),t.bypassAuthState)}async function S9(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),r9(n,new H0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T9;case"linkViaPopup":case"linkViaRedirect":return S9;case"reauthViaPopup":case"reauthViaRedirect":return I9;default:Cr(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new Vu(2e3,1e4);async function A9(t,e,n){if(Qn(t.app))return Promise.reject(er(t,"operation-not-supported-in-this-environment"));const r=yp(t);b6(t,e,q0);const i=hP(r,n);return new js(r,"signInViaPopup",e,i).executeNotNull()}class js extends fP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=W0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C9.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="pendingRedirect",fh=new Map;class R9 extends fP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const r=await k9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k9(t,e){const n=M9(e),r=D9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function N9(t,e){fh.set(t._key(),e)}function D9(t){return zr(t._redirectPersistence)}function M9(t){return hh(P9,t.config.apiKey,t.name)}async function O9(t,e,n=!1){if(Qn(t.app))return Promise.reject(Gs(t));const r=yp(t),i=hP(r,e),o=await new R9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=10*60*1e3;class V9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F9&&this.cachedEventUids.clear(),this.cachedEventUids.has(c1(e))}saveEventToCache(e){this.cachedEventUids.add(c1(e)),this.lastProcessedEventTime=Date.now()}}function c1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(t,e={}){return pl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U9=/^https?/;async function $9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j9(t);for(const n of e)try{if(z9(n))return}catch{}Cr(t,"unauthorized-domain")}function z9(t){const e=Oy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!U9.test(n))return!1;if(B9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=new Vu(3e4,6e4);function u1(){const t=Er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W9(t){return new Promise((e,n)=>{var r,i,s;function o(){u1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u1(),n(er(t,"network-request-failed"))},timeout:q9.get()})}if(!((i=(r=Er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Er().gapi)===null||s===void 0)&&s.load)o();else{const a=Y6("iframefcb");return Er()[a]=()=>{gapi.load?o():n(er(t,"network-request-failed"))},G6(`${Q6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ph=null,e})}let ph=null;function H9(t){return ph=ph||W9(t),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new Vu(5e3,15e3),G9="__/auth/iframe",Q9="emulator/auth/iframe",Y9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J9(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j0(e,Q9):`https://${t.config.authDomain}/${G9}`,r={apiKey:e.apiKey,appName:t.name,v:fl},i=X9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ou(r).slice(1)}`}async function Z9(t){const e=await H9(t),n=Er().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:J9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=er(t,"network-request-failed"),a=Er().setTimeout(()=>{s(o)},K9.get());function l(){Er().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tB=500,nB=600,rB="_blank",iB="http://localhost";class d1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sB(t,e,n,r=tB,i=nB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},eB),{width:r.toString(),height:i.toString(),top:s,left:o}),c=wt().toLowerCase();n&&(a=KA(c)?rB:n),WA(c)&&(e=e||iB,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,w])=>`${f}${g}=${w},`,"");if(B6(c)&&a!=="_self")return oB(e||"",a),new d1(null);const h=window.open(e||"",a,d);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new d1(h)}function oB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="__/auth/handler",lB="emulator/auth/handler",cB=encodeURIComponent("fac");async function h1(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fl,eventId:i};if(e instanceof q0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",i3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Lu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${cB}=${encodeURIComponent(l)}`:"";return`${uB(t)}?${Ou(a).slice(1)}${c}`}function uB({config:t}){return t.emulator?j0(t,lB):`https://${t.authDomain}/${aB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="webStorageSupport";class dB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aP,this._completeRedirectFn=O9,this._overrideRedirectResult=N9}async _openPopup(e,n,r,i){var s;ei((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await h1(e,n,r,Oy(),i);return sB(e,o,W0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await h1(e,n,r,Oy(),i);return p9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ei(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Z9(e),r=new V9(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tg,{type:tg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tg];o!==void 0&&n(!!o),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JA()||HA()||$0()}}const hB=dB;var f1="@firebase/auth",p1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mB(t){Sr(new ir("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZA(t)},c=new H6(r,i,s,l);return J6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new ir("auth-internal",e=>{const n=yp(e.getProvider("auth").getImmediate());return(r=>new fB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(f1,p1,pB(t)),Fn(f1,p1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=5*60,yB=SA("authIdTokenMaxAge")||gB;let m1=null;const vB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yB)return;const i=n==null?void 0:n.token;m1!==i&&(m1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wB(t=F0()){const e=bo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=X6(t,{popupRedirectResolver:hB,persistence:[b9,d9,aP]}),r=SA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=vB(s.toString());a9(n,o,()=>o(n.currentUser)),o9(n,a=>o(a))}}const i=H5("auth");return i&&Z6(n,`http://${i}`),n}function _B(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}K6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=er("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_B().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mB("Browser");var xB="firebase",EB="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn(xB,EB,"app");var g1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,mP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function C(){}C.prototype=T.prototype,S.D=T.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(N,k,R){for(var P=Array(arguments.length-2),U=2;U<arguments.length;U++)P[U-2]=arguments[U];return T.prototype[k].apply(N,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,C){C||(C=0);var N=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)N[k]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(k=0;16>k;++k)N[k]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=S.g[0],C=S.g[1],k=S.g[2];var R=S.g[3],P=T+(R^C&(k^R))+N[0]+3614090360&4294967295;T=C+(P<<7&4294967295|P>>>25),P=R+(k^T&(C^k))+N[1]+3905402710&4294967295,R=T+(P<<12&4294967295|P>>>20),P=k+(C^R&(T^C))+N[2]+606105819&4294967295,k=R+(P<<17&4294967295|P>>>15),P=C+(T^k&(R^T))+N[3]+3250441966&4294967295,C=k+(P<<22&4294967295|P>>>10),P=T+(R^C&(k^R))+N[4]+4118548399&4294967295,T=C+(P<<7&4294967295|P>>>25),P=R+(k^T&(C^k))+N[5]+1200080426&4294967295,R=T+(P<<12&4294967295|P>>>20),P=k+(C^R&(T^C))+N[6]+2821735955&4294967295,k=R+(P<<17&4294967295|P>>>15),P=C+(T^k&(R^T))+N[7]+4249261313&4294967295,C=k+(P<<22&4294967295|P>>>10),P=T+(R^C&(k^R))+N[8]+1770035416&4294967295,T=C+(P<<7&4294967295|P>>>25),P=R+(k^T&(C^k))+N[9]+2336552879&4294967295,R=T+(P<<12&4294967295|P>>>20),P=k+(C^R&(T^C))+N[10]+4294925233&4294967295,k=R+(P<<17&4294967295|P>>>15),P=C+(T^k&(R^T))+N[11]+2304563134&4294967295,C=k+(P<<22&4294967295|P>>>10),P=T+(R^C&(k^R))+N[12]+1804603682&4294967295,T=C+(P<<7&4294967295|P>>>25),P=R+(k^T&(C^k))+N[13]+4254626195&4294967295,R=T+(P<<12&4294967295|P>>>20),P=k+(C^R&(T^C))+N[14]+2792965006&4294967295,k=R+(P<<17&4294967295|P>>>15),P=C+(T^k&(R^T))+N[15]+1236535329&4294967295,C=k+(P<<22&4294967295|P>>>10),P=T+(k^R&(C^k))+N[1]+4129170786&4294967295,T=C+(P<<5&4294967295|P>>>27),P=R+(C^k&(T^C))+N[6]+3225465664&4294967295,R=T+(P<<9&4294967295|P>>>23),P=k+(T^C&(R^T))+N[11]+643717713&4294967295,k=R+(P<<14&4294967295|P>>>18),P=C+(R^T&(k^R))+N[0]+3921069994&4294967295,C=k+(P<<20&4294967295|P>>>12),P=T+(k^R&(C^k))+N[5]+3593408605&4294967295,T=C+(P<<5&4294967295|P>>>27),P=R+(C^k&(T^C))+N[10]+38016083&4294967295,R=T+(P<<9&4294967295|P>>>23),P=k+(T^C&(R^T))+N[15]+3634488961&4294967295,k=R+(P<<14&4294967295|P>>>18),P=C+(R^T&(k^R))+N[4]+3889429448&4294967295,C=k+(P<<20&4294967295|P>>>12),P=T+(k^R&(C^k))+N[9]+568446438&4294967295,T=C+(P<<5&4294967295|P>>>27),P=R+(C^k&(T^C))+N[14]+3275163606&4294967295,R=T+(P<<9&4294967295|P>>>23),P=k+(T^C&(R^T))+N[3]+4107603335&4294967295,k=R+(P<<14&4294967295|P>>>18),P=C+(R^T&(k^R))+N[8]+1163531501&4294967295,C=k+(P<<20&4294967295|P>>>12),P=T+(k^R&(C^k))+N[13]+2850285829&4294967295,T=C+(P<<5&4294967295|P>>>27),P=R+(C^k&(T^C))+N[2]+4243563512&4294967295,R=T+(P<<9&4294967295|P>>>23),P=k+(T^C&(R^T))+N[7]+1735328473&4294967295,k=R+(P<<14&4294967295|P>>>18),P=C+(R^T&(k^R))+N[12]+2368359562&4294967295,C=k+(P<<20&4294967295|P>>>12),P=T+(C^k^R)+N[5]+4294588738&4294967295,T=C+(P<<4&4294967295|P>>>28),P=R+(T^C^k)+N[8]+2272392833&4294967295,R=T+(P<<11&4294967295|P>>>21),P=k+(R^T^C)+N[11]+1839030562&4294967295,k=R+(P<<16&4294967295|P>>>16),P=C+(k^R^T)+N[14]+4259657740&4294967295,C=k+(P<<23&4294967295|P>>>9),P=T+(C^k^R)+N[1]+2763975236&4294967295,T=C+(P<<4&4294967295|P>>>28),P=R+(T^C^k)+N[4]+1272893353&4294967295,R=T+(P<<11&4294967295|P>>>21),P=k+(R^T^C)+N[7]+4139469664&4294967295,k=R+(P<<16&4294967295|P>>>16),P=C+(k^R^T)+N[10]+3200236656&4294967295,C=k+(P<<23&4294967295|P>>>9),P=T+(C^k^R)+N[13]+681279174&4294967295,T=C+(P<<4&4294967295|P>>>28),P=R+(T^C^k)+N[0]+3936430074&4294967295,R=T+(P<<11&4294967295|P>>>21),P=k+(R^T^C)+N[3]+3572445317&4294967295,k=R+(P<<16&4294967295|P>>>16),P=C+(k^R^T)+N[6]+76029189&4294967295,C=k+(P<<23&4294967295|P>>>9),P=T+(C^k^R)+N[9]+3654602809&4294967295,T=C+(P<<4&4294967295|P>>>28),P=R+(T^C^k)+N[12]+3873151461&4294967295,R=T+(P<<11&4294967295|P>>>21),P=k+(R^T^C)+N[15]+530742520&4294967295,k=R+(P<<16&4294967295|P>>>16),P=C+(k^R^T)+N[2]+3299628645&4294967295,C=k+(P<<23&4294967295|P>>>9),P=T+(k^(C|~R))+N[0]+4096336452&4294967295,T=C+(P<<6&4294967295|P>>>26),P=R+(C^(T|~k))+N[7]+1126891415&4294967295,R=T+(P<<10&4294967295|P>>>22),P=k+(T^(R|~C))+N[14]+2878612391&4294967295,k=R+(P<<15&4294967295|P>>>17),P=C+(R^(k|~T))+N[5]+4237533241&4294967295,C=k+(P<<21&4294967295|P>>>11),P=T+(k^(C|~R))+N[12]+1700485571&4294967295,T=C+(P<<6&4294967295|P>>>26),P=R+(C^(T|~k))+N[3]+2399980690&4294967295,R=T+(P<<10&4294967295|P>>>22),P=k+(T^(R|~C))+N[10]+4293915773&4294967295,k=R+(P<<15&4294967295|P>>>17),P=C+(R^(k|~T))+N[1]+2240044497&4294967295,C=k+(P<<21&4294967295|P>>>11),P=T+(k^(C|~R))+N[8]+1873313359&4294967295,T=C+(P<<6&4294967295|P>>>26),P=R+(C^(T|~k))+N[15]+4264355552&4294967295,R=T+(P<<10&4294967295|P>>>22),P=k+(T^(R|~C))+N[6]+2734768916&4294967295,k=R+(P<<15&4294967295|P>>>17),P=C+(R^(k|~T))+N[13]+1309151649&4294967295,C=k+(P<<21&4294967295|P>>>11),P=T+(k^(C|~R))+N[4]+4149444226&4294967295,T=C+(P<<6&4294967295|P>>>26),P=R+(C^(T|~k))+N[11]+3174756917&4294967295,R=T+(P<<10&4294967295|P>>>22),P=k+(T^(R|~C))+N[2]+718787259&4294967295,k=R+(P<<15&4294967295|P>>>17),P=C+(R^(k|~T))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var C=T-this.blockSize,N=this.B,k=this.h,R=0;R<T;){if(k==0)for(;R<=C;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<T;)if(N[k++]=S.charCodeAt(R++),k==this.blockSize){i(this,N),k=0;break}}else for(;R<T;)if(N[k++]=S[R++],k==this.blockSize){i(this,N),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var C=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=C&255,C/=256;for(this.u(S),S=Array(16),T=C=0;4>T;++T)for(var N=0;32>N;N+=8)S[C++]=this.g[T]>>>N&255;return S};function s(S,T){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=T(S)}function o(S,T){this.h=T;for(var C=[],N=!0,k=S.length-1;0<=k;k--){var R=S[k]|0;N&&R==T||(C[k]=R,N=!1)}this.g=C}var a={};function l(S){return-128<=S&&128>S?s(S,function(T){return new o([T|0],0>T?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return b(c(-S));for(var T=[],C=1,N=0;S>=C;N++)T[N]=S/C|0,C*=4294967296;return new o(T,0)}function d(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return b(d(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(T,8)),N=h,k=0;k<S.length;k+=8){var R=Math.min(8,S.length-k),P=parseInt(S.substring(k,k+R),T);8>R?(R=c(Math.pow(T,R)),N=N.j(R).add(c(P))):(N=N.j(C),N=N.add(c(P)))}return N}var h=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-b(this).m();for(var S=0,T=1,C=0;C<this.g.length;C++){var N=this.i(C);S+=(0<=N?N:4294967296+N)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(v(this))return"-"+b(this).toString(S);for(var T=c(Math.pow(S,6)),C=this,N="";;){var k=D(C,T).g;C=E(C,k.j(T));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=k,w(C))return R+N;for(;6>R.length;)R="0"+R;N=R+N}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=E(this,S),v(S)?-1:w(S)?0:1};function b(S){for(var T=S.g.length,C=[],N=0;N<T;N++)C[N]=~S.g[N];return new o(C,~S.h).add(f)}t.abs=function(){return v(this)?b(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),C=[],N=0,k=0;k<=T;k++){var R=N+(this.i(k)&65535)+(S.i(k)&65535),P=(R>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);N=P>>>16,R&=65535,P&=65535,C[k]=P<<16|R}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(S,T){return S.add(b(T))}t.j=function(S){if(w(this)||w(S))return h;if(v(this))return v(S)?b(this).j(b(S)):b(b(this).j(S));if(v(S))return b(this.j(b(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var T=this.g.length+S.g.length,C=[],N=0;N<2*T;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<S.g.length;k++){var R=this.i(N)>>>16,P=this.i(N)&65535,U=S.i(k)>>>16,ne=S.i(k)&65535;C[2*N+2*k]+=P*ne,x(C,2*N+2*k),C[2*N+2*k+1]+=R*ne,x(C,2*N+2*k+1),C[2*N+2*k+1]+=P*U,x(C,2*N+2*k+1),C[2*N+2*k+2]+=R*U,x(C,2*N+2*k+2)}for(N=0;N<T;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=T;N<2*T;N++)C[N]=0;return new o(C,0)};function x(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function I(S,T){this.g=S,this.h=T}function D(S,T){if(w(T))throw Error("division by zero");if(w(S))return new I(h,h);if(v(S))return T=D(b(S),T),new I(b(T.g),b(T.h));if(v(T))return T=D(S,b(T)),new I(b(T.g),T.h);if(30<S.g.length){if(v(S)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var C=f,N=T;0>=N.l(S);)C=M(C),N=M(N);var k=O(C,1),R=O(N,1);for(N=O(N,2),C=O(C,2);!w(N);){var P=R.add(N);0>=P.l(S)&&(k=k.add(C),R=P),N=O(N,1),C=O(C,1)}return T=E(S,k.j(T)),new I(k,T)}for(k=h;0<=S.l(T);){for(C=Math.max(1,Math.floor(S.m()/T.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),R=c(C),P=R.j(T);v(P)||0<P.l(S);)C-=N,R=c(C),P=R.j(T);w(R)&&(R=f),k=k.add(R),S=E(S,P)}return new I(k,S)}t.A=function(S){return D(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),C=[],N=0;N<T;N++)C[N]=this.i(N)&S.i(N);return new o(C,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),C=[],N=0;N<T;N++)C[N]=this.i(N)|S.i(N);return new o(C,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),C=[],N=0;N<T;N++)C[N]=this.i(N)^S.i(N);return new o(C,this.h^S.h)};function M(S){for(var T=S.g.length+1,C=[],N=0;N<T;N++)C[N]=S.i(N)<<1|S.i(N-1)>>>31;return new o(C,S.h)}function O(S,T){var C=T>>5;T%=32;for(var N=S.g.length-C,k=[],R=0;R<N;R++)k[R]=0<T?S.i(R+C)>>>T|S.i(R+C+1)<<32-T:S.i(R+C);return new o(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ji=o}).apply(typeof g1<"u"?g1:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gP,oc,yP,mh,Ly,vP,wP,_P;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var _=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var V=u[A];if(!(V in _))break e;_=_[V]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var _=0,A=!1,V={next:function(){if(!A&&_<u.length){var j=_++;return{value:m(j,u[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,_){return u.call.apply(u.bind,arguments)}function h(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,A),u.apply(m,V)}}return function(){return u.apply(m,arguments)}}function f(u,m,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,V,j){for(var Q=Array(arguments.length-2),je=2;je<arguments.length;je++)Q[je-2]=arguments[je];return m.prototype[V].apply(A,Q)}}function v(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function b(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(l(A)){const V=u.length||0,j=A.length||0;u.length=V+j;for(let Q=0;Q<j;Q++)u[V+Q]=A[Q]}else u.push(A)}}class E{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(u){return/^[\s\xa0]*$/.test(u)}function I(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function D(u){return D[" "](u),u}D[" "]=function(){};var M=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function O(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function S(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function T(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(_ in A)u[_]=A[_];for(let j=0;j<C.length;j++)_=C[j],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function k(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function R(u){a.setTimeout(()=>{throw u},0)}function P(){var u=B;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class U{constructor(){this.h=this.g=null}add(m,_){const A=ne.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new E(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,L=!1,B=new U,Y=()=>{const u=a.Promise.resolve(void 0);oe=()=>{u.then(G)}};var G=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){R(_)}var m=ne;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}L=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return u}();function Se(u,m){if(ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(M){e:{try{D(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Se.aa.h.call(this)}}w(Se,ee);var le={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Te(u,m,_,A,V){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=V,this.key=++Ce,this.da=this.fa=!1}function Ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u){this.src=u,this.g={},this.h=0}xt.prototype.add=function(u,m,_,A,V){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var Q=be(u,m,A,V);return-1<Q?(m=u[Q],_||(m.fa=!1)):(m=new Te(m,this.src,j,!!A,V),m.fa=_,u.push(m)),m};function ct(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],V=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=V)&&Array.prototype.splice.call(A,V,1),j&&(Ue(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function be(u,m,_,A){for(var V=0;V<u.length;++V){var j=u[V];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==A)return V}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),Ye={};function ut(u,m,_,A,V){if(Array.isArray(m)){for(var j=0;j<m.length;j++)ut(u,m[j],_,A,V);return null}return _=Tl(_),u&&u[pe]?u.K(m,_,c(A)?!!A.capture:!!A,V):ai(u,m,_,!1,A,V)}function ai(u,m,_,A,V,j){if(!m)throw Error("Invalid event type");var Q=c(V)?!!V.capture:!!V,je=li(u);if(je||(u[ve]=je=new xt(u)),_=je.add(m,_,A,Q,j),_.proxy)return _;if(A=El(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)fe||(V=Q),V===void 0&&(V=!1),u.addEventListener(m.toString(),A,V);else if(u.attachEvent)u.attachEvent(Ju(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function El(){function u(_){return m.call(u.src,u.listener,_)}const m=Zp;return u}function dt(u,m,_,A,V){if(Array.isArray(m))for(var j=0;j<m.length;j++)dt(u,m[j],_,A,V);else A=c(A)?!!A.capture:!!A,_=Tl(_),u&&u[pe]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],_=be(j,_,A,V),-1<_&&(Ue(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=be(m,_,A,V)),(_=-1<u?m[u]:null)&&lr(_))}function lr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])ct(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Ju(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=li(m))?(ct(_,u),_.h==0&&(_.src=null,m[ve]=null)):Ue(u)}}}function Ju(u){return u in Ye?Ye[u]:Ye[u]="on"+u}function Zp(u,m){if(u.da)u=!0;else{m=new Se(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&lr(u),u=_.call(A,m)}return u}function li(u){return u=u[ve],u instanceof xt?u:null}var bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(u){return typeof u=="function"?u:(u[bl]||(u[bl]=function(m){return u.handleEvent(m)}),u[bl])}function ht(){J.call(this),this.i=new xt(this),this.M=this,this.F=null}w(ht,J),ht.prototype[pe]=!0,ht.prototype.removeEventListener=function(u,m,_,A){dt(this,u,m,_,A)};function tt(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new ee(m,u);else if(m instanceof ee)m.target=m.target||u;else{var V=m;m=new ee(A,u),N(m,V)}if(V=!0,_)for(var j=_.length-1;0<=j;j--){var Q=m.g=_[j];V=_s(Q,A,!0,m)&&V}if(Q=m.g=u,V=_s(Q,A,!0,m)&&V,V=_s(Q,A,!1,m)&&V,_)for(j=0;j<_.length;j++)Q=m.g=_[j],V=_s(Q,A,!1,m)&&V}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Ue(_[A]);delete u.g[m],u.h--}}this.F=null},ht.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},ht.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function _s(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,j=0;j<m.length;++j){var Q=m[j];if(Q&&!Q.da&&Q.capture==_){var je=Q.listener,It=Q.ha||Q.src;Q.fa&&ct(u.i,Q),V=je.call(It,A)!==!1&&V}}return V&&!A.defaultPrevented}function kr(u,m,_){if(typeof u=="function")_&&(u=f(u,_));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Il(u){u.g=kr(()=>{u.g=null,u.i&&(u.i=!1,Il(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class em extends J{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Il(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(u){J.call(this),this.h=u,this.g={}}w(ci,J);var Sl=[];function Zu(u){O(u.g,function(m,_){this.g.hasOwnProperty(_)&&lr(m)},u),u.g={}}ci.prototype.N=function(){ci.aa.N.call(this),Zu(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=a.JSON.stringify,cr=a.JSON.parse,tm=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function de(){}de.prototype.h=null;function Le(u){return u.h||(u.h=u.i())}function De(){}var kt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rn(){ee.call(this,"d")}w(rn,ee);function ui(){ee.call(this,"c")}w(ui,ee);var Nr={},a_=null;function ed(){return a_=a_||new ht}Nr.La="serverreachability";function l_(u){ee.call(this,Nr.La,u)}w(l_,ee);function Cl(u){const m=ed();tt(m,new l_(m))}Nr.STAT_EVENT="statevent";function c_(u,m){ee.call(this,Nr.STAT_EVENT,u),this.stat=m}w(c_,ee);function Ht(u){const m=ed();tt(m,new c_(m,u))}Nr.Ma="timingevent";function u_(u,m){ee.call(this,Nr.Ma,u),this.size=m}w(u_,ee);function Al(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Pl(){this.g=!0}Pl.prototype.xa=function(){this.g=!1};function ID(u,m,_,A,V,j){u.info(function(){if(u.g)if(j)for(var Q="",je=j.split("&"),It=0;It<je.length;It++){var Pe=je[It].split("=");if(1<Pe.length){var Nt=Pe[0];Pe=Pe[1];var Dt=Nt.split("_");Q=2<=Dt.length&&Dt[1]=="type"?Q+(Nt+"="+Pe+"&"):Q+(Nt+"=redacted&")}}else Q=null;else Q=j;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+m+`
`+_+`
`+Q})}function SD(u,m,_,A,V,j,Q){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+m+`
`+_+`
`+j+" "+Q})}function Ao(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+AD(u,_)+(A?" "+A:"")})}function CD(u,m){u.info(function(){return"TIMEOUT: "+m})}Pl.prototype.info=function(){};function AD(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var V=A[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Q=1;Q<V.length;Q++)V[Q]=""}}}}return xs(_)}catch{return m}}var td={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},d_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nm;function nd(){}w(nd,de),nd.prototype.g=function(){return new XMLHttpRequest},nd.prototype.i=function(){return{}},nm=new nd;function di(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new h_}function h_(){this.i=null,this.g="",this.h=!1}var f_={},rm={};function im(u,m,_){u.L=1,u.v=od(Dr(m)),u.m=_,u.P=!0,p_(u,null)}function p_(u,m){u.F=Date.now(),rd(u),u.A=Dr(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),A_(_.i,"t",A),u.C=0,_=u.j.J,u.h=new h_,u.g=H_(u.j,_?m:null,!u.m),0<u.O&&(u.M=new em(f(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Sl[0]=V.toString()),V=Sl);for(var j=0;j<V.length;j++){var Q=ut(_,V[j],A||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Cl(),ID(u.i,u.u,u.A,u.l,u.R,u.m)}di.prototype.ca=function(u){u=u.target;const m=this.M;m&&Mr(u)==3?m.j():this.Y(u)},di.prototype.Y=function(u){try{if(u==this.g)e:{const Dt=Mr(this.g);var m=this.g.Ba();const ko=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||O_(this.g)))){this.J||Dt!=4||m==7||(m==8||0>=ko?Cl(3):Cl(2)),sm(this);var _=this.g.Z();this.X=_;t:if(m_(this)){var A=O_(this.g);u="";var V=A.length,j=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),Rl(this);var Q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(j&&m==V-1)});A.length=0,this.h.g+=u,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=_==200,SD(this.i,this.u,this.A,this.l,this.R,Dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,It=this.g;if((je=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(je)){var Pe=je;break t}}Pe=null}if(_=Pe)Ao(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,om(this,_);else{this.o=!1,this.s=3,Ht(12),Es(this),Rl(this);break e}}if(this.P){_=!0;let Un;for(;!this.J&&this.C<Q.length;)if(Un=PD(this,Q),Un==rm){Dt==4&&(this.s=4,Ht(14),_=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==f_){this.s=4,Ht(15),Ao(this.i,this.l,Q,"[Invalid Chunk]"),_=!1;break}else Ao(this.i,this.l,Un,null),om(this,Un);if(m_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||Q.length!=0||this.h.h||(this.s=1,Ht(16),_=!1),this.o=this.o&&_,!_)Ao(this.i,this.l,Q,"[Invalid Chunked Response]"),Es(this),Rl(this);else if(0<Q.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),hm(Nt),Nt.M=!0,Ht(11))}}else Ao(this.i,this.l,Q,null),om(this,Q);Dt==4&&Es(this),this.o&&!this.J&&(Dt==4?$_(this.j,this):(this.o=!1,rd(this)))}else HD(this.g),_==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Es(this),Rl(this)}}}catch{}finally{}};function m_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function PD(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?rm:(_=Number(m.substring(_,A)),isNaN(_)?f_:(A+=1,A+_>m.length?rm:(m=m.slice(A,A+_),u.C=A+_,m)))}di.prototype.cancel=function(){this.J=!0,Es(this)};function rd(u){u.S=Date.now()+u.I,g_(u,u.I)}function g_(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Al(f(u.ba,u),m)}function sm(u){u.B&&(a.clearTimeout(u.B),u.B=null)}di.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(CD(this.i,this.A),this.L!=2&&(Cl(),Ht(17)),Es(this),this.s=2,Rl(this)):g_(this,this.S-u)};function Rl(u){u.j.G==0||u.J||$_(u.j,u)}function Es(u){sm(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Zu(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function om(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||am(_.h,u))){if(!u.K&&am(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)hd(_),ud(_);else break e;dm(_),Ht(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=Al(f(_.Za,_),6e3));if(1>=w_(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ts(_,11)}else if((u.K||_.g==u)&&hd(_),!x(m))for(V=_.Da.g.parse(m),m=0;m<V.length;m++){let Pe=V[m];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Nt=Pe[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const Dt=Pe[4];Dt!=null&&(_.Aa=Dt,_.j.info("SVER="+_.Aa));const ko=Pe[5];ko!=null&&typeof ko=="number"&&0<ko&&(A=1.5*ko,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Un=u.g;if(Un){const pd=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pd){var j=A.h;j.g||pd.indexOf("spdy")==-1&&pd.indexOf("quic")==-1&&pd.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(lm(j,j.h),j.h=null))}if(A.D){const fm=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;fm&&(A.ya=fm,$e(A.I,A.D,fm))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var Q=u;if(A.qa=W_(A,A.J?A.ia:null,A.W),Q.K){__(A.h,Q);var je=Q,It=A.L;It&&(je.I=It),je.B&&(sm(je),rd(je)),A.g=Q}else B_(A);0<_.i.length&&dd(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Ts(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ts(_,7):um(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}Cl(4)}catch{}}var RD=class{constructor(u,m){this.g=u,this.map=m}};function y_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function v_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function w_(u){return u.h?1:u.g?u.g.size:0}function am(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function lm(u,m){u.g?u.g.add(m):u.h=m}function __(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}y_.prototype.cancel=function(){if(this.i=x_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function x_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return v(u.i)}function kD(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function ND(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function E_(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=ND(u),A=kD(u),V=A.length,j=0;j<V;j++)m.call(void 0,A[j],_&&_[j],u)}var b_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DD(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),V=null;if(0<=A){var j=u[_].substring(0,A);V=u[_].substring(A+1)}else j=u[_];m(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function bs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof bs){this.h=u.h,id(this,u.j),this.o=u.o,this.g=u.g,sd(this,u.s),this.l=u.l;var m=u.i,_=new Dl;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),T_(this,_),this.m=u.m}else u&&(m=String(u).match(b_))?(this.h=!1,id(this,m[1]||"",!0),this.o=kl(m[2]||""),this.g=kl(m[3]||"",!0),sd(this,m[4]),this.l=kl(m[5]||"",!0),T_(this,m[6]||"",!0),this.m=kl(m[7]||"")):(this.h=!1,this.i=new Dl(null,this.h))}bs.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Nl(m,I_,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Nl(m,I_,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Nl(_,_.charAt(0)=="/"?FD:OD,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Nl(_,LD)),u.join("")};function Dr(u){return new bs(u)}function id(u,m,_){u.j=_?kl(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sd(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function T_(u,m,_){m instanceof Dl?(u.i=m,jD(u.i,u.h)):(_||(m=Nl(m,VD)),u.i=new Dl(m,u.h))}function $e(u,m,_){u.i.set(m,_)}function od(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function kl(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nl(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,MD),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function MD(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var I_=/[#\/\?@]/g,OD=/[#\?:]/g,FD=/[#\?]/g,VD=/[#\?@]/g,LD=/#/g;function Dl(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hi(u){u.g||(u.g=new Map,u.h=0,u.i&&DD(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=Dl.prototype,t.add=function(u,m){hi(this),this.i=null,u=Po(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function S_(u,m){hi(u),m=Po(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function C_(u,m){return hi(u),m=Po(u,m),u.g.has(m)}t.forEach=function(u,m){hi(this),this.g.forEach(function(_,A){_.forEach(function(V){u.call(m,V,A,this)},this)},this)},t.na=function(){hi(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const V=u[A];for(let j=0;j<V.length;j++)_.push(m[A])}return _},t.V=function(u){hi(this);let m=[];if(typeof u=="string")C_(this,u)&&(m=m.concat(this.g.get(Po(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},t.set=function(u,m){return hi(this),this.i=null,u=Po(this,u),C_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function A_(u,m,_){S_(u,m),0<_.length&&(u.i=null,u.g.set(Po(u,m),v(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const j=encodeURIComponent(String(A)),Q=this.V(A);for(A=0;A<Q.length;A++){var V=j;Q[A]!==""&&(V+="="+encodeURIComponent(String(Q[A]))),u.push(V)}}return this.i=u.join("&")};function Po(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function jD(u,m){m&&!u.j&&(hi(u),u.i=null,u.g.forEach(function(_,A){var V=A.toLowerCase();A!=V&&(S_(this,A),A_(this,V,_))},u)),u.j=m}function BD(u,m){const _=new Pl;if(a.Image){const A=new Image;A.onload=g(fi,_,"TestLoadImage: loaded",!0,m,A),A.onerror=g(fi,_,"TestLoadImage: error",!1,m,A),A.onabort=g(fi,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=g(fi,_,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function UD(u,m){const _=new Pl,A=new AbortController,V=setTimeout(()=>{A.abort(),fi(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(V),j.ok?fi(_,"TestPingServer: ok",!0,m):fi(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),fi(_,"TestPingServer: error",!1,m)})}function fi(u,m,_,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(_)}catch{}}function $D(){this.g=new tm}function zD(u,m,_){const A=_||"";try{E_(u,function(V,j){let Q=V;c(V)&&(Q=xs(V)),m.push(A+j+"="+encodeURIComponent(Q))})}catch(V){throw m.push(A+"type="+encodeURIComponent("_badmap")),V}}function ad(u){this.l=u.Ub||null,this.j=u.eb||!1}w(ad,de),ad.prototype.g=function(){return new ld(this.l,this.j)},ad.prototype.i=function(u){return function(){return u}}({});function ld(u,m){ht.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ld,ht),t=ld.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ol(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ml(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;P_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function P_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ml(this):Ol(this),this.readyState==3&&P_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ml(this))},t.Qa=function(u){this.g&&(this.response=u,Ml(this))},t.ga=function(){this.g&&Ml(this)};function Ml(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ol(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Ol(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ld.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function R_(u){let m="";return O(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function cm(u,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=R_(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):$e(u,m,_))}function nt(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(nt,ht);var qD=/^https?$/i,WD=["POST","PUT"];t=nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nm.g(),this.v=this.o?Le(this.o):Le(nm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){k_(this,j);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)_.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())_.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(WD,m,void 0))||A||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Q]of _)this.g.setRequestHeader(j,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{M_(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){k_(this,j)}};function k_(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,N_(u),cd(u)}function N_(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,tt(this,"complete"),tt(this,"abort"),cd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cd(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?D_(this):this.bb())},t.bb=function(){D_(this)};function D_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Mr(u)!=4||u.Z()!=2)){if(u.u&&Mr(u)==4)kr(u.Ea,0,u);else if(tt(u,"readystatechange"),Mr(u)==4){u.h=!1;try{const Q=u.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=Q===0){var V=String(u.D).match(b_)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),A=!qD.test(V?V.toLowerCase():"")}_=A}if(_)tt(u,"complete"),tt(u,"success");else{u.m=6;try{var j=2<Mr(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",N_(u)}}finally{cd(u)}}}}function cd(u,m){if(u.g){M_(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||tt(u,"ready");try{_.onreadystatechange=A}catch{}}}function M_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Mr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),cr(m)}};function O_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function HD(u){const m={};u=(u.g&&2<=Mr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(x(u[A]))continue;var _=k(u[A]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[V]||[];m[V]=j,j.push(_)}S(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fl(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function F_(u){this.Aa=0,this.i=[],this.j=new Pl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fl("baseRetryDelayMs",5e3,u),this.cb=Fl("retryDelaySeedMs",1e4,u),this.Wa=Fl("forwardChannelMaxRetries",2,u),this.wa=Fl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new y_(u&&u.concurrentRequestLimit),this.Da=new $D,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=F_.prototype,t.la=8,t.G=1,t.connect=function(u,m,_,A){Ht(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=W_(this,null,this.W),dd(this)};function um(u){if(V_(u),u.G==3){var m=u.U++,_=Dr(u.I);if($e(_,"SID",u.K),$e(_,"RID",m),$e(_,"TYPE","terminate"),Vl(u,_),m=new di(u,u.j,m),m.L=2,m.v=od(Dr(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=H_(m.j,null),m.g.ea(m.v)),m.F=Date.now(),rd(m)}q_(u)}function ud(u){u.g&&(hm(u),u.g.cancel(),u.g=null)}function V_(u){ud(u),u.u&&(a.clearTimeout(u.u),u.u=null),hd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function dd(u){if(!v_(u.h)&&!u.s){u.s=!0;var m=u.Ga;oe||Y(),L||(oe(),L=!0),B.add(m,u),u.B=0}}function KD(u,m){return w_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Al(f(u.Ga,u,m),z_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new di(this,this.j,u);let j=this.o;if(this.S&&(j?(j=T(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=j_(this,V,m),_=Dr(this.I),$e(_,"RID",u),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Vl(this,_),j&&(this.O?m="headers="+encodeURIComponent(String(R_(j)))+"&"+m:this.m&&cm(_,this.m,j)),lm(this.h,V),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",m),$e(_,"SID","null"),V.T=!0,im(V,_,null)):im(V,_,m),this.G=2}}else this.G==3&&(u?L_(this,u):this.i.length==0||v_(this.h)||L_(this))};function L_(u,m){var _;m?_=m.l:_=u.U++;const A=Dr(u.I);$e(A,"SID",u.K),$e(A,"RID",_),$e(A,"AID",u.T),Vl(u,A),u.m&&u.o&&cm(A,u.m,u.o),_=new di(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=j_(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lm(u.h,_),im(_,A,m)}function Vl(u,m){u.H&&O(u.H,function(_,A){$e(m,A,_)}),u.l&&E_({},function(_,A){$e(m,A,_)})}function j_(u,m,_){_=Math.min(u.i.length,_);var A=u.l?f(u.l.Na,u.l,u):null;e:{var V=u.i;let j=-1;for(;;){const Q=["count="+_];j==-1?0<_?(j=V[0].g,Q.push("ofs="+j)):j=0:Q.push("ofs="+j);let je=!0;for(let It=0;It<_;It++){let Pe=V[It].g;const Nt=V[It].map;if(Pe-=j,0>Pe)j=Math.max(0,V[It].g-100),je=!1;else try{zD(Nt,Q,"req"+Pe+"_")}catch{A&&A(Nt)}}if(je){A=Q.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,A}function B_(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;oe||Y(),L||(oe(),L=!0),B.add(m,u),u.v=0}}function dm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Al(f(u.Fa,u),z_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,U_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Al(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),ud(this),U_(this))};function hm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function U_(u){u.g=new di(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Dr(u.qa);$e(m,"RID","rpc"),$e(m,"SID",u.K),$e(m,"AID",u.T),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(m,"TO",u.ja),$e(m,"TYPE","xmlhttp"),Vl(u,m),u.m&&u.o&&cm(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=od(Dr(m)),_.m=null,_.P=!0,p_(_,u)}t.Za=function(){this.C!=null&&(this.C=null,ud(this),dm(this),Ht(19))};function hd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function $_(u,m){var _=null;if(u.g==m){hd(u),hm(u),u.g=null;var A=2}else if(am(u.h,m))_=m.D,__(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var V=u.B;A=ed(),tt(A,new u_(A,_)),dd(u)}else B_(u);else if(V=m.s,V==3||V==0&&0<m.X||!(A==1&&KD(u,m)||A==2&&dm(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),V){case 1:Ts(u,5);break;case 4:Ts(u,10);break;case 3:Ts(u,6);break;default:Ts(u,2)}}}function z_(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ts(u,m){if(u.j.info("Error code "+m),m==2){var _=f(u.fb,u),A=u.Xa;const V=!A;A=new bs(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||id(A,"https"),od(A),V?BD(A.toString(),_):UD(A.toString(),_)}else Ht(2);u.G=0,u.l&&u.l.sa(m),q_(u),V_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function q_(u){if(u.G=0,u.ka=[],u.l){const m=x_(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function W_(u,m,_){var A=_ instanceof bs?Dr(_):new bs(_);if(A.g!="")m&&(A.g=m+"."+A.g),sd(A,A.s);else{var V=a.location;A=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var j=new bs(null);A&&id(j,A),m&&(j.g=m),V&&sd(j,V),_&&(j.l=_),A=j}return _=u.D,m=u.ya,_&&m&&$e(A,_,m),$e(A,"VER",u.la),Vl(u,A),A}function H_(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new nt(new ad({eb:_})):new nt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function K_(){}t=K_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fd(){}fd.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){ht.call(this),this.g=new F_(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!x(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ro(this)}w(pn,ht),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){um(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=xs(u),u=_);m.i.push(new RD(m.Ya++,u)),m.G==3&&dd(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,um(this.g),delete this.g,pn.aa.N.call(this)};function G_(u){rn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(G_,rn);function Q_(){ui.call(this),this.status=1}w(Q_,ui);function Ro(u){this.g=u}w(Ro,K_),Ro.prototype.ua=function(){tt(this.g,"a")},Ro.prototype.ta=function(u){tt(this.g,new G_(u))},Ro.prototype.sa=function(u){tt(this.g,new Q_)},Ro.prototype.ra=function(){tt(this.g,"b")},fd.prototype.createWebChannel=fd.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,_P=function(){return new fd},wP=function(){return ed()},vP=Nr,Ly={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},td.NO_ERROR=0,td.TIMEOUT=8,td.HTTP_ERROR=6,mh=td,d_.COMPLETE="complete",yP=d_,De.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",ht.prototype.listen=ht.prototype.K,oc=De,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,gP=nt}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});const y1="@firebase/firestore",v1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new gp("@firebase/firestore");function zo(){return oo.logLevel}function q(t,...e){if(oo.logLevel<=xe.DEBUG){const n=e.map(K0);oo.debug(`Firestore (${ml}): ${t}`,...n)}}function Xt(t,...e){if(oo.logLevel<=xe.ERROR){const n=e.map(K0);oo.error(`Firestore (${ml}): ${t}`,...n)}}function Ba(t,...e){if(oo.logLevel<=xe.WARN){const n=e.map(K0);oo.warn(`Firestore (${ml}): ${t}`,...n)}}function K0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xP(t,r,n)}function xP(t,e,n){let r=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xt(r),new Error(r)}function ie(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xP(e,i,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class IB{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ie(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new br;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new br,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new br)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie(typeof r.accessToken=="string",31837,{l:r}),new bB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class SB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ie(this.o===void 0,3512);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new w1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new w1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=PB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function jy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ce(r,i);{const s=EP(),o=RB(s.encode(_1(t,n)),s.encode(_1(e,n)));return o!==0?o:ce(r,i)}}n+=r>65535?2:1}return ce(t.length,e.length)}function _1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function RB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ce(t[n],e[n]);return ce(t.length,e.length)}function Ua(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function TP(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=-62135596800,E1=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*E1);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<x1)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E1}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-x1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Ge(0,0))}static max(){return new ae(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="__name__";class hr{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=hr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ce(e.length,n.length)}static compareSegments(e,n){const r=hr.isNumericId(e),i=hr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?hr.extractNumericId(e).compare(hr.extractNumericId(n)):jy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class Ne extends hr{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const kB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends hr{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return kB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b1}static keyField(){return new Je([b1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Ne.fromString(e))}static fromName(e){return new X(Ne.fromString(e).popFirst(5))}static empty(){return new X(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;class ff{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function By(t){return t.fields.find(e=>e.kind===2)}function Ps(t){return t.fields.filter(e=>e.kind!==2)}ff.UNKNOWN_ID=-1;class gh{constructor(e,n){this.fieldPath=e,this.kind=n}}class cu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new cu(0,Sn.min())}}function NB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Sn(i,X.empty(),e)}function IP(t){return new Sn(t.readTime,t.key,lu)}class Sn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Sn(ae.min(),X.empty(),lu)}static max(){return new Sn(ae.max(),X.empty(),lu)}}function G0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==SP)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="SimpleDb";class _p{static open(e,n,r,i){try{return new _p(n,e.transaction(i,r))}catch(s){throw new Sc(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new br,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Sc(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Q0(r.target.error);this.S.reject(new Sc(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(q(vn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new MB(n)}}class Zi{static delete(e){return q(vn,"Removing database:",e),Ns(TA().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!mp())return!1;if(Zi.F())return!0;const e=wt(),n=Zi.M(e),r=0<n&&n<10,i=AP(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,Zi.M(wt())===12.2&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(q(vn,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Sc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new K($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new K($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Sc(e,o))},i.onupgradeneeded=s=>{q(vn,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${o.version}`);this.B.q(o,i.transaction,s.oldVersion,this.version).next(()=>{q(vn,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=n=>this.$(n)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const a=_p.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.v(),c)).catch(c=>(a.abort(c),F.reject(c))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(q(vn,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function AP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class DB{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Ns(this.K.delete())}}class Sc extends K{constructor(e,n){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ys(t){return t.name==="IndexedDbTransactionError"}class MB{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(q(vn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(q(vn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ns(r)}add(e){return q(vn,"ADD",this.store.name,e,e),Ns(this.store.add(e))}get(e){return Ns(this.store.get(e)).next(n=>(n===void 0&&(n=null),q(vn,"GET",this.store.name,e,n),n))}delete(e){return q(vn,"DELETE",this.store.name,e),Ns(this.store.delete(e))}count(){return q(vn,"COUNT",this.store.name),Ns(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new F((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.Y(s,(a,l)=>{o.push(l)}).next(()=>o)}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new F((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}X(e,n){q(vn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.ee=!1;const i=this.cursor(r);return this.Y(i,(s,o,a)=>a.delete())}te(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.Y(i,n)}ne(e){const n=this.cursor({});return new F((r,i)=>{n.onerror=s=>{const o=Q0(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}Y(e,n){const r=[];return new F((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new DB(a),c=n(a.primaryKey,a.value,l);if(c instanceof F){const d=c.catch(h=>(l.done(),F.reject(h)));r.push(d)}l.isDone?i():l.j===null?a.continue():a.continue(l.j)}}).next(()=>F.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ns(t){return new F((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Q0(r.target.error);n(i)}})}let T1=!1;function Q0(t){const e=Zi.M(wt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new K("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return T1||(T1=!0,setTimeout(()=>{throw r},0)),r}}return t}const Cc="IndexBackfiller";class OB{constructor(e,n){this.asyncQueue=e,this.re=n,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){q(Cc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.re.se();q(Cc,`Documents written: ${n}`)}catch(n){ys(n)?q(Cc,"Ignoring IndexedDB error during index backfill: ",n):await To(n)}await this.ie(6e4)})}}class FB{constructor(e,n){this.localStore=e,this.persistence=n}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.oe(n,e))}oe(e,n){const r=new Set;let i=n,s=!0;return F.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return q(Cc,`Processing collection: ${o}`),this._e(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}_e(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ae(i,s)).next(a=>(q(Cc,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ae(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=IP(s);G0(o,r)>0&&(r=o)}),new Sn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Mn.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=-1;function xp(t){return t==null}function uu(t){return t===0&&1/t==-1/0}function VB(t){return typeof t=="number"&&Number.isInteger(t)&&!uu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="";function zt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=I1(e)),e=LB(t.get(n),e);return I1(e)}function LB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case pf:n+="";break;default:n+=s}}return n}function I1(t){return t+pf+""}function vr(t){const e=t.length;if(ie(e>=2,64408,{path:t}),e===2)return ie(t.charAt(0)===pf&&t.charAt(1)==="",56145,{path:t}),Ne.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf(pf,s);switch((o<0||o>n)&&re(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:re(61167,{path:t})}s=o+2}return new Ne(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="remoteDocuments",Bu="owner",Do="owner",du="mutationQueues",jB="userId",Kn="mutations",S1="batchId",Bs="userMutationsIndex",C1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t,e){return[t,zt(e)]}function PP(t,e,n){return[t,zt(e),n]}const BB={},$a="documentMutations",mf="remoteDocumentsV14",UB=["prefixPath","collectionGroup","readTime","documentId"],vh="documentKeyIndex",$B=["prefixPath","collectionGroup","documentId"],RP="collectionGroupIndex",zB=["collectionGroup","readTime","prefixPath","documentId"],hu="remoteDocumentGlobal",Uy="remoteDocumentGlobalKey",za="targets",kP="queryTargetsIndex",qB=["canonicalId","targetId"],qa="targetDocuments",WB=["targetId","path"],Y0="documentTargetsIndex",HB=["path","targetId"],gf="targetGlobalKey",Ys="targetGlobal",fu="collectionParents",KB=["collectionId","parent"],Wa="clientMetadata",GB="clientId",Ep="bundles",QB="bundleId",bp="namedQueries",YB="name",X0="indexConfiguration",XB="indexId",$y="collectionGroupIndex",JB="collectionGroup",Ac="indexState",ZB=["indexId","uid"],NP="sequenceNumberIndex",eU=["uid","sequenceNumber"],Pc="indexEntries",tU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DP="documentKeyIndex",nU=["indexId","uid","orderedDocumentKey"],Tp="documentOverlays",rU=["userId","collectionPath","documentId"],zy="collectionPathOverlayIndex",iU=["userId","collectionPath","largestBatchId"],MP="collectionGroupOverlayIndex",sU=["userId","collectionGroup","largestBatchId"],J0="globals",oU="name",OP=[du,Kn,$a,Rs,za,Bu,Ys,qa,Wa,hu,fu,Ep,bp],aU=[...OP,Tp],FP=[du,Kn,$a,mf,za,Bu,Ys,qa,Wa,hu,fu,Ep,bp,Tp],VP=FP,Z0=[...VP,X0,Ac,Pc],lU=Z0,LP=[...Z0,J0],cU=LP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends CP{constructor(e,n){super(),this.he=e,this.currentSequenceNumber=n}}function _t(t,e){const n=he(t);return Zi.N(n.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=i??Ct.EMPTY,this.right=s??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P1(this.data.getIterator())}getIteratorFrom(e){return new P1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class P1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new ln([])}unionWith(e){let n=new Ve(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BP("Invalid base64 string: "+s):s}}(e);return new gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const uU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(ie(!!t,39018),typeof t=="string"){let e=0;const n=uU.exec(t);if(ie(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ni(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="server_timestamp",$P="__type__",zP="__previous_value__",qP="__local_write_time__";function ew(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$P])===null||n===void 0?void 0:n.stringValue)===UP}function Ip(t){const e=t.mapValue.fields[zP];return ew(e)?Ip(e):e}function pu(t){const e=ti(t.mapValue.fields[qP].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const yf="(default)";class ao{constructor(e,n){this.projectId=e,this.database=n||yf}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===yf}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="__type__",WP="__max__",Bi={mapValue:{fields:{__type__:{stringValue:WP}}}},nw="__vector__",Ha="value",wh={nullValue:"NULL_VALUE"};function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ew(t)?4:HP(t)?9007199254740991:Sp(t)?10:11:re(28295,{value:t})}function Ar(t,e){if(t===e)return!0;const n=ls(t);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ti(i.timestampValue),a=ti(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ni(i.bytesValue).isEqual(ni(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=He(i.doubleValue),a=He(s.doubleValue);return o===a?uu(o)===uu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ua(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(A1(o)!==A1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ar(o[l],a[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function mu(t,e){return(t.values||[]).find(n=>Ar(n,e))!==void 0}function cs(t,e){if(t===e)return 0;const n=ls(t),r=ls(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),l=He(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return R1(t.timestampValue,e.timestampValue);case 4:return R1(pu(t),pu(e));case 5:return jy(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ni(s),l=ni(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ce(a[c],l[c]);if(d!==0)return d}return ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ce(He(s.latitude),He(o.latitude));return a!==0?a:ce(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},f=o.fields||{},g=(a=h[Ha])===null||a===void 0?void 0:a.arrayValue,w=(l=f[Ha])===null||l===void 0?void 0:l.arrayValue,v=ce(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:k1(g,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Bi.mapValue&&o===Bi.mapValue)return 0;if(s===Bi.mapValue)return 1;if(o===Bi.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=jy(l[h],d[h]);if(f!==0)return f;const g=cs(a[l[h]],c[d[h]]);if(g!==0)return g}return ce(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re(23264,{Pe:n})}}function R1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=ti(t),r=ti(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function k1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=cs(n[i],r[i]);if(s)return s}return ce(n.length,r.length)}function Ka(t){return Wy(t)}function Wy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Wy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Wy(n.fields[o])}`;return i+"}"}(t.mapValue):re(61005,{value:t})}function _h(t){switch(ls(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ip(t);return e?16+_h(e):16;case 5:return 2*t.stringValue.length;case 6:return ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+_h(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return vs(r.fields,(s,o)=>{i+=s.length+_h(o)}),i}(t.mapValue);default:throw re(13486,{value:t})}}function gu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hy(t){return!!t&&"integerValue"in t}function yu(t){return!!t&&"arrayValue"in t}function N1(t){return!!t&&"nullValue"in t}function D1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xh(t){return!!t&&"mapValue"in t}function Sp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tw])===null||n===void 0?void 0:n.stringValue)===nw}function Rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WP}const KP={mapValue:{fields:{[tw]:{stringValue:nw},[Ha]:{arrayValue:{}}}}};function hU(t){return"nullValue"in t?wh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?gu(ao.empty(),X.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Sp(t)?KP:{mapValue:{}}:re(35942,{value:t})}function fU(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?gu(ao.empty(),X.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?KP:"mapValue"in t?Sp(t)?{mapValue:{}}:Bi:re(61959,{value:t})}function M1(t,e){const n=cs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function O1(t,e){const n=cs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Rc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ut(Rc(this.value))}}function GP(t){const e=[];return vs(t.fields,(n,r)=>{const i=new Je([n]);if(xh(r)){const s=GP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new st(e,0,ae.min(),ae.min(),ae.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new st(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new st(e,2,n,ae.min(),ae.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new st(e,3,n,ae.min(),ae.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.position=e,this.inclusive=n}}function F1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=cs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function V1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function pU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{}class Ee extends QP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mU(e,n,r):n==="array-contains"?new vU(e,r):n==="in"?new tR(e,r):n==="not-in"?new wU(e,r):n==="array-contains-any"?new _U(e,r):new Ee(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gU(e,r):new yU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cs(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oe extends QP{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Oe(e,n)}matches(e){return Qa(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Qa(t){return t.op==="and"}function Ky(t){return t.op==="or"}function rw(t){return YP(t)&&Qa(t)}function YP(t){for(const e of t.filters)if(e instanceof Oe)return!1;return!0}function Gy(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+Ka(t.value);if(rw(t))return t.filters.map(e=>Gy(e)).join(",");{const e=t.filters.map(n=>Gy(n)).join(",");return`${t.op}(${e})`}}function XP(t,e){return t instanceof Ee?function(r,i){return i instanceof Ee&&r.op===i.op&&r.field.isEqual(i.field)&&Ar(r.value,i.value)}(t,e):t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&XP(o,i.filters[a]),!0):!1}(t,e):void re(19439)}function JP(t,e){const n=t.filters.concat(e);return Oe.create(n,t.op)}function ZP(t){return t instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(t):t instanceof Oe?function(n){return n.op.toString()+" {"+n.getFilters().map(ZP).join(" ,")+"}"}(t):"Filter"}class mU extends Ee{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class gU extends Ee{constructor(e,n){super(e,"in",n),this.keys=eR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yU extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=eR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class vU extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yu(n)&&mu(n.arrayValue,this.value)}}class tR extends Ee{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class wU extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class _U extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function Qy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xU(t,e,n,r,i,s,o)}function lo(t){const e=he(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ka(r)).join(",")),e.Ie=n}return e.Ie}function Uu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V1(t.startAt,e.startAt)&&V1(t.endAt,e.endAt)}function vf(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function wf(t,e){return t.filters.filter(n=>n instanceof Ee&&n.field.isEqual(e))}function L1(t,e,n){let r=wh,i=!0;for(const s of wf(t,e)){let o=wh,a=!0;switch(s.op){case"<":case"<=":o=hU(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=wh}M1({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];M1({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function j1(t,e,n){let r=Bi,i=!0;for(const s of wf(t,e)){let o=Bi,a=!0;switch(s.op){case">=":case">":o=fU(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Bi}O1({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];O1({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function EU(t,e,n,r,i,s,o,a){return new gl(t,e,n,r,i,s,o,a)}function Cp(t){return new gl(t)}function B1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nR(t){return t.collectionGroup!==null}function kc(t){const e=he(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ve(Je.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new vu(s,r))}),n.has(Je.keyField().canonicalString())||e.Ee.push(new vu(Je.keyField(),r))}return e.Ee}function Vn(t){const e=he(t);return e.de||(e.de=bU(e,kc(t))),e.de}function bU(t,e){if(t.limitType==="F")return Qy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new vu(i.field,s)});const n=t.endAt?new Ga(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ga(t.startAt.position,t.startAt.inclusive):null;return Qy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yy(t,e){const n=t.filters.concat([e]);return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _f(t,e,n){return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ap(t,e){return Uu(Vn(t),Vn(e))&&t.limitType===e.limitType}function rR(t){return`${lo(Vn(t))}|lt:${t.limitType}`}function qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZP(i)).join(", ")}]`),xp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ka(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ka(i)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function $u(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of kc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=F1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,kc(r),i)||r.endAt&&!function(o,a,l){const c=F1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,kc(r),i))}(t,e)}function TU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iR(t){return(e,n)=>{let r=!1;for(const i of kc(t)){const s=IU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function IU(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?cs(l,c):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=new Qe(X.comparator);function xn(){return SU}const sR=new Qe(X.comparator);function ac(...t){let e=sR;for(const n of t)e=e.insert(n.key,n);return e}function oR(t){let e=sR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wr(){return Nc()}function aR(){return Nc()}function Nc(){return new si(t=>t.toString(),(t,e)=>t.isEqual(e))}const CU=new Qe(X.comparator),AU=new Ve(X.comparator);function ye(...t){let e=AU;for(const n of t)e=e.add(n);return e}const PU=new Ve(ce);function RU(){return PU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uu(e)?"-0":e}}function lR(t){return{integerValue:""+t}}function kU(t,e){return VB(e)?lR(e):iw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this._=void 0}}function NU(t,e,n){return t instanceof Ya?function(i,s){const o={fields:{[$P]:{stringValue:UP},[qP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ew(s)&&(s=Ip(s)),s&&(o.fields[zP]=s),{mapValue:o}}(n,e):t instanceof co?uR(t,e):t instanceof Xa?dR(t,e):function(i,s){const o=cR(i,s),a=U1(o)+U1(i.Re);return Hy(o)&&Hy(i.Re)?lR(a):iw(i.serializer,a)}(t,e)}function DU(t,e,n){return t instanceof co?uR(t,e):t instanceof Xa?dR(t,e):n}function cR(t,e){return t instanceof wu?function(r){return Hy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ya extends Pp{}class co extends Pp{constructor(e){super(),this.elements=e}}function uR(t,e){const n=hR(e);for(const r of t.elements)n.some(i=>Ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xa extends Pp{constructor(e){super(),this.elements=e}}function dR(t,e){let n=hR(e);for(const r of t.elements)n=n.filter(i=>!Ar(i,r));return{arrayValue:{values:n}}}class wu extends Pp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function U1(t){return He(t.integerValue||t.doubleValue)}function hR(t){return yu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.field=e,this.transform=n}}function MU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof co&&i instanceof co||r instanceof Xa&&i instanceof Xa?Ua(r.elements,i.elements,Ar):r instanceof wu&&i instanceof wu?Ar(r.Re,i.Re):r instanceof Ya&&i instanceof Ya}(t.transform,e.transform)}class OU{constructor(e,n){this.version=e,this.transformResults=n}}class $t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $t}static exists(e){return new $t(void 0,e)}static updateTime(e){return new $t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rp{}function fR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kp(t.key,$t.none()):new yl(t.key,t.data,$t.none());{const n=t.data,r=Ut.empty();let i=new Ve(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new oi(t.key,r,new ln(i.toArray()),$t.none())}}function FU(t,e,n){t instanceof yl?function(i,s,o){const a=i.value.clone(),l=z1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof oi?function(i,s,o){if(!Eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=z1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(pR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Dc(t,e,n,r){return t instanceof yl?function(s,o,a,l){if(!Eh(s.precondition,o))return a;const c=s.value.clone(),d=q1(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof oi?function(s,o,a,l){if(!Eh(s.precondition,o))return a;const c=q1(s.fieldTransforms,l,o),d=o.data;return d.setAll(pR(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function VU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=cR(r.transform,i||null);s!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,s))}return n||null}function $1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ua(r,i,(s,o)=>MU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yl extends Rp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oi extends Rp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z1(t,e,n){const r=new Map;ie(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,DU(o,a,n[i]))}return r}function q1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,NU(s,o,e))}return r}class kp extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mR extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&FU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=fR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(n,r)=>$1(n,r))&&Ua(this.baseMutations,e.baseMutations,(n,r)=>$1(n,r))}}class aw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ie(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return CU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new aw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lw=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Ie;function jU(t){switch(t){case $.OK:return re(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function gR(t){if(t===void 0)return Xt("GRPC error has no .code"),$.UNKNOWN;switch(t){case ft.OK:return $.OK;case ft.CANCELLED:return $.CANCELLED;case ft.UNKNOWN:return $.UNKNOWN;case ft.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ft.INTERNAL:return $.INTERNAL;case ft.UNAVAILABLE:return $.UNAVAILABLE;case ft.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ft.NOT_FOUND:return $.NOT_FOUND;case ft.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ft.ABORTED:return $.ABORTED;case ft.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ft.DATA_LOSS:return $.DATA_LOSS;default:return re(39323,{code:t})}}(Ie=ft||(ft={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=new Ji([4294967295,4294967295],0);function W1(t){const e=EP().encode(t),n=new mP;return n.update(e),new Uint8Array(n.digest())}function H1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ji([n,r],0),new Ji([i,s],0)]}class cw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lc(`Invalid padding: ${n}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ji.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ji.fromNumber(r)));return i.compare(BU)===1&&(i=new Ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=W1(e),[r,i]=H1(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new cw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=W1(e),[r,i]=H1(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Np(ae.min(),i,new Qe(ce),xn(),ye())}}class zu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class yR{constructor(e,n){this.targetId=e,this.Ce=n}}class vR{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class K1{constructor(){this.Fe=0,this.Me=G1(),this.xe=gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ye(),n=ye(),r=ye();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:s})}}),new zu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=G1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ie(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class UU{constructor(e){this.ze=e,this.je=new Map,this.He=xn(),this.Je=Ud(),this.Ye=Ud(),this.Ze=new Qe(ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(vf(s))if(r===0){const o=new X(s.path);this.tt(n,o,st.newNoDocument(o,ae.min()))}else ie(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ni(r).toUint8Array()}catch(l){if(l instanceof BP)return Ba("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cw(o,i,s)}catch(l){return Ba(l instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&vf(a.target)){const l=new X(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,st.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=ye();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Np(e,n,this.Ze,this.He,r);return this.He=xn(),this.Je=Ud(),this.Ye=Ud(),this.Ze=new Qe(ce),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new K1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ve(ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ve(ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new K1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ud(){return new Qe(X.comparator)}function G1(){return new Qe(X.comparator)}const $U={asc:"ASCENDING",desc:"DESCENDING"},zU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qU={and:"AND",or:"OR"};class WU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xy(t,e){return t.useProto3Json||xp(e)?e:{value:e}}function Ja(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HU(t,e){return Ja(t,e.toTimestamp())}function Zt(t){return ie(!!t,49232),ae.fromTimestamp(function(n){const r=ti(n);return new Ge(r.seconds,r.nanos)}(t))}function uw(t,e){return Jy(t,e).canonicalString()}function Jy(t,e){const n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _R(t){const e=Ne.fromString(t);return ie(PR(e),10190,{key:e.toString()}),e}function xf(t,e){return uw(t.databaseId,e.path)}function Xs(t,e){const n=_R(e);if(n.get(1)!==t.databaseId.projectId)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(bR(n))}function xR(t,e){return uw(t.databaseId,e)}function ER(t){const e=_R(t);return e.length===4?Ne.emptyPath():bR(e)}function Zy(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bR(t){return ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Q1(t,e,n){return{name:xf(t,e),fields:n.value.mapValue.fields}}function KU(t,e,n){const r=Xs(t,e.name),i=Zt(e.updateTime),s=e.createTime?Zt(e.createTime):ae.min(),o=new Ut({mapValue:{fields:e.fields}}),a=st.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function GU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ie(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:gR(c.code);return new K(d,c.message||"")}(o);n=new vR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xs(t,r.document.name),s=Zt(r.document.updateTime),o=r.document.createTime?Zt(r.document.createTime):ae.min(),a=new Ut({mapValue:{fields:r.document.fields}}),l=st.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new bh(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xs(t,r.document),s=r.readTime?Zt(r.readTime):ae.min(),o=st.newNoDocument(i,s),a=r.removedTargetIds||[];n=new bh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xs(t,r.document),s=r.removedTargetIds||[];n=new bh([],s,i,null)}else{if(!("filter"in e))return re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new LU(i,s),a=r.targetId;n=new yR(a,o)}}return n}function Ef(t,e){let n;if(e instanceof yl)n={update:Q1(t,e.key,e.value)};else if(e instanceof kp)n={delete:xf(t,e.key)};else if(e instanceof oi)n={update:Q1(t,e.key,e.data),updateMask:e$(e.fieldMask)};else{if(!(e instanceof mR))return re(16599,{ft:e.type});n={verify:xf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ya)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof co)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wu)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw re(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:HU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re(27497)}(t,e.precondition)),n}function ev(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?$t.updateTime(Zt(s.updateTime)):s.exists!==void 0?$t.exists(s.exists):$t.none()}(e.currentDocument):$t.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ie(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new Ya;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new co(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new Xa(d)}else"increment"in a?l=new wu(o,a.increment):re(16584,{proto:a});const c=Je.fromServerFormat(a.fieldPath);return new sw(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Xs(t,e.update.name),s=new Ut({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new ln(c.map(d=>Je.fromServerFormat(d)))}(e.updateMask);return new oi(i,s,o,n,r)}return new yl(i,s,n,r)}if(e.delete){const i=Xs(t,e.delete);return new kp(i,n)}if(e.verify){const i=Xs(t,e.verify);return new mR(i,n)}return re(1463,{proto:e})}function QU(t,e){return t&&t.length>0?(ie(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Zt(i.updateTime):Zt(s);return o.isEqual(ae.min())&&(o=Zt(s)),new OU(o,i.transformResults||[])}(n,e))):[]}function TR(t,e){return{documents:[xR(t,e.path)]}}function IR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xR(t,i);const s=function(c){if(c.length!==0)return AR(Oe.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Wo(f.field),direction:XU(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function SR(t){let e=ER(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ie(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=CR(h);return f instanceof Oe&&rw(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new vu(Ho(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,xp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new Ga(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new Ga(g,f)}(n.endAt)),EU(e,i,o,s,a,"F",l,c)}function YU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ho(n.unaryFilter.field);return Ee.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ho(n.unaryFilter.field);return Ee.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ho(n.unaryFilter.field);return Ee.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ho(n.unaryFilter.field);return Ee.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ee.create(Ho(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oe.create(n.compositeFilter.filters.map(r=>CR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function XU(t){return $U[t]}function JU(t){return zU[t]}function ZU(t){return qU[t]}function Wo(t){return{fieldPath:t.canonicalString()}}function Ho(t){return Je.fromServerFormat(t.fieldPath)}function AR(t){return t instanceof Ee?function(n){if(n.op==="=="){if(D1(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NAN"}};if(N1(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(D1(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NAN"}};if(N1(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(n.field),op:JU(n.op),value:n.value}}}(t):t instanceof Oe?function(n){const r=n.getFilters().map(i=>AR(i));return r.length===1?r[0]:{compositeFilter:{op:ZU(n.op),filters:r}}}(t):re(54877,{filter:t})}function e$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.wt=e}}function t$(t,e){let n;if(e.document)n=KU(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=X.fromSegments(e.noDocument.path),i=ho(e.noDocument.readTime);n=st.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return re(56709);{const r=X.fromSegments(e.unknownDocument.path),i=ho(e.unknownDocument.version);n=st.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Ge(i[0],i[1]);return ae.fromTimestamp(s)}(e.readTime)),n}function Y1(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:xf(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Ja(s,o.version.toTimestamp()),createTime:Ja(s,o.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:uo(e.version)};else{if(!e.isUnknownDocument())return re(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:uo(e.version)}}return r}function bf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function uo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ho(t){const e=new Ge(t.seconds,t.nanoseconds);return ae.fromTimestamp(e)}function Ds(t,e){const n=(e.baseMutations||[]).map(s=>ev(t.wt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>ev(t.wt,s)),i=Ge.fromMillis(e.localWriteTimeMs);return new ow(e.batchId,i,n,r)}function cc(t){const e=ho(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ho(t.lastLimboFreeSnapshotVersion):ae.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){const o=s.documents.length;return ie(o===1,1966,{count:o}),Vn(Cp(ER(s.documents[0])))}(t.query):function(s){return Vn(SR(s))}(t.query),new qr(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,gt.fromBase64String(t.resumeToken))}function kR(t,e){const n=uo(e.snapshotVersion),r=uo(e.lastLimboFreeSnapshotVersion);let i;i=vf(e.target)?TR(t.wt,e.target):IR(t.wt,e.target).gt;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function NR(t){const e=SR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_f(e,e.limit,"L"):e}function ng(t,e){return new lw(e.largestBatchId,ev(t.wt,e.overlayMutation))}function X1(t,e){const n=e.path.lastSegment();return[t,zt(e.path.popLast()),n]}function J1(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:uo(r.readTime),documentKey:zt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${getBundleMetadata(e,n){return Z1(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ho(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return Z1(e).put(function(i){return{bundleId:i.id,createTime:uo(Zt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return eb(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:NR(s.bundledQuery),readTime:ho(s.readTime)}}(r)})}saveNamedQuery(e,n){return eb(e).put(function(i){return{name:i.name,readTime:uo(Zt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function Z1(t){return _t(t,Ep)}function eb(t){return _t(t,bp)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.serializer=e,this.userId=n}static bt(e,n){const r=n.uid||"";return new Dp(e,r)}getOverlay(e,n){return Gl(e).get(X1(this.userId,n)).next(r=>r?ng(this.serializer,r):null)}getOverlays(e,n){const r=wr();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new lw(n,o);i.push(this.St(e,a))}),F.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(zt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Gl(e).X(zy,a))}),F.waitFor(s)}getOverlaysForCollection(e,n,r){const i=wr(),s=zt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Gl(e).J(zy,o).next(a=>{for(const l of a){const c=ng(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=wr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Gl(e).te({index:MP,range:a},(l,c,d)=>{const h=ng(this.serializer,c);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}St(e,n){return Gl(e).put(function(i,s,o){const[a,l,c]=X1(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ef(i.wt,o.mutation)}}(this.serializer,this.userId,n))}}function Gl(t){return _t(t,Tp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${Dt(e){return _t(e,J0)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?gt.fromUint8Array(r):gt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Dt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(He(e.integerValue));else if("doubleValue"in e){const r=He(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),uu(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=ti(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(ni(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?HP(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):Sp(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):re(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){const r=e.fields||{};this.Mt(n,55);for(const i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;const s=e.fields||{};this.Mt(n,53);const o=Ha,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(He(a)),this.Nt(o,n),this.Ct(s[o],n)}$t(e,n){const r=e.values||[];this.Mt(n,50);for(const i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),X.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}}Ms.Wt=new Ms;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=255;function i$(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function tb(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=i$(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class s${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.zt(r.value),r=n.next();this.jt()}Ht(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Yt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=n.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(e){const n=this.tn(e),r=tb(n);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}rn(e){const n=this.tn(e),r=tb(n);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}sn(){this._n(Oo),this._n(255)}an(){this.un(Oo),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}zt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===Oo?(this._n(Oo),this._n(0)):this._n(n)}Jt(e){const n=255&e;n===0?(this.un(0),this.un(255)):n===Oo?(this.un(Oo),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class o${constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class a${constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Ql{constructor(){this.ln=new s$,this.hn=new o$(this.ln),this.Pn=new a$(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r,i){this.In=e,this.En=n,this.dn=r,this.An=i}Rn(){const e=this.An.length,n=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.An,0),n!==e?r.set([0],this.An.length):++r[r.length-1],new Os(this.In,this.En,this.dn,r)}Vn(e,n,r){return{indexId:this.In,uid:e,arrayValue:Th(this.dn),directionalValue:Th(this.An),orderedDocumentKey:Th(n),documentKey:r.path.toArray()}}mn(e,n,r){const i=this.Vn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function vi(t,e){let n=t.In-e.In;return n!==0?n:(n=nb(t.dn,e.dn),n!==0?n:(n=nb(t.An,e.An),n!==0?n:X.comparator(t.En,e.En)))}function nb(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Th(t){return RA()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function rb(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class ib{constructor(e){this.fn=new Ve((n,r)=>Je.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const n of e.filters){const r=n;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(ie(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const n=By(e);if(n!==void 0&&!this.bn(n))return!1;const r=Ps(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.bn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.fn.size>0){const a=this.fn.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.Sn(a,l)||!this.Dn(this.gn[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.gn.length||!this.Dn(this.gn[o++],a))return!1}return!0}vn(){if(this.yn)return null;let e=new Ve(Je.comparator);const n=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new gh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new gh(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new gh(r.field,r.dir==="asc"?0:1)));return new ff(ff.UNKNOWN_ID,this.collectionId,n,cu.empty())}bn(e){for(const n of this.pn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Dn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){var e,n;if(ie(t instanceof Ee||t instanceof Oe,20012),t instanceof Ee){if(t instanceof tR){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ee.create(t.field,"==",s)))||[];return Oe.create(i,"or")}return t}const r=t.filters.map(i=>DR(i));return Oe.create(r,t.op)}function l$(t){if(t.getFilters().length===0)return[];const e=rv(DR(t));return ie(MR(e),7391),tv(e)||nv(e)?[e]:e.getFilters()}function tv(t){return t instanceof Ee}function nv(t){return t instanceof Oe&&rw(t)}function MR(t){return tv(t)||nv(t)||function(n){if(n instanceof Oe&&Ky(n)){for(const r of n.getFilters())if(!tv(r)&&!nv(r))return!1;return!0}return!1}(t)}function rv(t){if(ie(t instanceof Ee||t instanceof Oe,34018),t instanceof Ee)return t;if(t.filters.length===1)return rv(t.filters[0]);const e=t.filters.map(r=>rv(r));let n=Oe.create(e,t.op);return n=Tf(n),MR(n)?n:(ie(n instanceof Oe,64498),ie(Qa(n),40251),ie(n.filters.length>1,57927),n.filters.reduce((r,i)=>dw(r,i)))}function dw(t,e){let n;return ie(t instanceof Ee||t instanceof Oe,38388),ie(e instanceof Ee||e instanceof Oe,25473),n=t instanceof Ee?e instanceof Ee?function(i,s){return Oe.create([i,s],"and")}(t,e):sb(t,e):e instanceof Ee?sb(e,t):function(i,s){if(ie(i.filters.length>0&&s.filters.length>0,48005),Qa(i)&&Qa(s))return JP(i,s.getFilters());const o=Ky(i)?i:s,a=Ky(i)?s:i,l=o.filters.map(c=>dw(c,a));return Oe.create(l,"or")}(t,e),Tf(n)}function sb(t,e){if(Qa(e))return JP(e,t.getFilters());{const n=e.filters.map(r=>dw(t,r));return Oe.create(n,"or")}}function Tf(t){if(ie(t instanceof Ee||t instanceof Oe,11850),t instanceof Ee)return t;const e=t.getFilters();if(e.length===1)return Tf(e[0]);if(YP(t))return t;const n=e.map(i=>Tf(i)),r=[];return n.forEach(i=>{i instanceof Ee?r.push(i):i instanceof Oe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Oe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(){this.Cn=new hw}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Sn.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Sn.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class hw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="IndexedDbIndexManager",$d=new Uint8Array(0);class u${constructor(e,n){this.databaseId=n,this.Fn=new hw,this.Mn=new si(r=>lo(r),(r,i)=>Uu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Fn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Fn.add(n)});const s={collectionId:r,parent:zt(i)};return ab(e).put(s)}return F.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[TP(n),""],!1,!0);return ab(e).J(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(vr(o.parent))}return r})}addFieldIndex(e,n){const r=Yl(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Vo(e);return s.next(a=>{o.put(J1(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Yl(e),i=Vo(e),s=Fo(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Yl(e),r=Fo(e),i=Vo(e);return n.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,n){return F.forEach(this.xn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new ib(r).vn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Fo(e);let i=!0;const s=new Map;return F.forEach(this.xn(n),o=>this.On(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ye();const a=[];return F.forEach(s,(l,c)=>{q(ob,`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(D=>`${D.fieldPath}:${D.kind}`).join(",")}`}(l)} to execute ${lo(n)}`);const d=function(I,D){const M=By(D);if(M===void 0)return null;for(const O of wf(I,M.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(c,l),h=function(I,D){const M=new Map;for(const O of Ps(D))for(const S of wf(I,O.fieldPath))switch(S.op){case"==":case"in":M.set(O.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return M.set(O.fieldPath.canonicalString(),S.value),Array.from(M.values())}return null}(c,l),f=function(I,D){const M=[];let O=!0;for(const S of Ps(D)){const T=S.kind===0?L1(I,S.fieldPath,I.startAt):j1(I,S.fieldPath,I.startAt);M.push(T.value),O&&(O=T.inclusive)}return new Ga(M,O)}(c,l),g=function(I,D){const M=[];let O=!0;for(const S of Ps(D)){const T=S.kind===0?j1(I,S.fieldPath,I.endAt):L1(I,S.fieldPath,I.endAt);M.push(T.value),O&&(O=T.inclusive)}return new Ga(M,O)}(c,l),w=this.Nn(l,c,f),v=this.Nn(l,c,g),b=this.Bn(l,c,h),E=this.Ln(l.indexId,d,w,f.inclusive,v,g.inclusive,b);return F.forEach(E,x=>r.Z(x,n.limit).next(I=>{I.forEach(D=>{const M=X.fromSegments(D.documentKey);o.has(M)||(o=o.add(M),a.push(M))})}))}).next(()=>a)}return F.resolve(null)})}xn(e){let n=this.Mn.get(e);return n||(e.filters.length===0?n=[e]:n=l$(Oe.create(e.filters,"and")).map(r=>Qy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,n),n)}Ln(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.kn(n[h/c]):$d,g=this.qn(e,f,r[h%c],i),w=this.Qn(e,f,s[h%c],o),v=a.map(b=>this.qn(e,f,b,!0));d.push(...this.createRange(g,w,v))}return d}qn(e,n,r,i){const s=new Os(e,X.empty(),n,r);return i?s:s.Rn()}Qn(e,n,r,i){const s=new Os(e,X.empty(),n,r);return i?s.Rn():s}On(e,n){const r=new ib(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.wn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.xn(n);return F.forEach(i,s=>this.On(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Ve(Je.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}$n(e,n){const r=new Ql;for(const i of Ps(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Tn(i.kind);Ms.Wt.vt(s,o)}return r.cn()}kn(e){const n=new Ql;return Ms.Wt.vt(e,n.Tn(0)),n.cn()}Un(e,n){const r=new Ql;return Ms.Wt.vt(gu(this.databaseId,n),r.Tn(function(s){const o=Ps(s);return o.length===0?0:o[o.length-1].kind}(e))),r.cn()}Bn(e,n,r){if(r===null)return[];let i=[];i.push(new Ql);let s=0;for(const o of Ps(e)){const a=r[s++];for(const l of i)if(this.Kn(n,o.fieldPath)&&yu(a))i=this.Wn(i,o,a);else{const c=l.Tn(o.kind);Ms.Wt.vt(a,c)}}return this.Gn(i)}Nn(e,n,r){return this.Bn(e,n,r.position)}Gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].cn();return n}Wn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Ql;l.seed(a.cn()),Ms.Wt.vt(o,l.Tn(n.kind)),s.push(l)}return s}Kn(e,n){return!!e.filters.find(r=>r instanceof Ee&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Yl(e),i=Vo(e);return(n?r.J($y,IDBKeyRange.bound(n,n)):r.J()).next(s=>{const o=[];return F.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const f=h?new cu(h.sequenceNumber,new Sn(ho(h.readTime),new X(vr(h.documentKey)),h.largestBatchId)):cu.empty(),g=d.fields.map(([w,v])=>new gh(Je.fromServerFormat(w),v));return new ff(d.indexId,d.collectionGroup,g,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ce(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Yl(e),s=Vo(e);return this.zn(e).next(o=>i.J($y,IDBKeyRange.bound(n,n)).next(a=>F.forEach(a,l=>s.put(J1(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return F.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?F.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),F.forEach(a,l=>this.jn(e,i,l).next(c=>{const d=this.Hn(s,l);return c.isEqual(d)?F.resolve():this.Jn(e,s,l,c,d)}))))})}Yn(e,n,r,i){return Fo(e).put(i.Vn(this.uid,this.Un(r,n.key),n.key))}Zn(e,n,r,i){return Fo(e).delete(i.mn(this.uid,this.Un(r,n.key),n.key))}jn(e,n,r){const i=Fo(e);let s=new Ve(vi);return i.te({index:DP,range:IDBKeyRange.only([r.indexId,this.uid,Th(this.Un(r,n))])},(o,a)=>{s=s.add(new Os(r.indexId,n,rb(a.arrayValue),rb(a.directionalValue)))}).next(()=>s)}Hn(e,n){let r=new Ve(vi);const i=this.$n(n,e);if(i==null)return r;const s=By(n);if(s!=null){const o=e.data.field(s.fieldPath);if(yu(o))for(const a of o.arrayValue.values||[])r=r.add(new Os(n.indexId,e.key,this.kn(a),i))}else r=r.add(new Os(n.indexId,e.key,$d,i));return r}Jn(e,n,r,i,s){q(ob,"Updating index entries for document '%s'",n.key);const o=[];return function(l,c,d,h,f){const g=l.getIterator(),w=c.getIterator();let v=Mo(g),b=Mo(w);for(;v||b;){let E=!1,x=!1;if(v&&b){const I=d(v,b);I<0?x=!0:I>0&&(E=!0)}else v!=null?x=!0:E=!0;E?(h(b),b=Mo(w)):x?(f(v),v=Mo(g)):(v=Mo(g),b=Mo(w))}}(i,s,vi,a=>{o.push(this.Yn(e,n,r,a))},a=>{o.push(this.Zn(e,n,r,a))}),F.waitFor(o)}zn(e){let n=1;return Vo(e).te({index:NP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>vi(o,a)).filter((o,a,l)=>!a||vi(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=vi(o,e),l=vi(o,n);if(a===0)i[0]=e.Rn();else if(a>0&&l<0)i.push(o),i.push(o.Rn());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Xn(i[o],i[o+1]))return[];const a=i[o].mn(this.uid,$d,X.empty()),l=i[o+1].mn(this.uid,$d,X.empty());s.push(IDBKeyRange.bound(a,l))}return s}Xn(e,n){return vi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(lb)}getMinOffset(e,n){return F.mapArray(this.xn(n),r=>this.On(e,r).next(i=>i||re(44426))).next(lb)}}function ab(t){return _t(t,fu)}function Fo(t){return _t(t,Pc)}function Yl(t){return _t(t,X0)}function Vo(t){return _t(t,Ac)}function lb(t){ie(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;G0(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Sn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OR=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t,e,n){const r=t.store(Kn),i=t.store($a),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.te({range:o},(d,h,f)=>(a++,f.delete()));s.push(l.next(()=>{ie(a===1,47070,{batchId:n.batchId})}));const c=[];for(const d of n.mutations){const h=PP(e,d.key.path,n.batchId);s.push(i.delete(h)),c.push(d.key)}return F.waitFor(s).next(()=>c)}function If(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw re(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(OR,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);class Mp{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.er={}}static bt(e,n,r,i){ie(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Mp(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wi(e).te({index:Bs,range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ko(e),o=wi(e);return o.add({}).next(a=>{ie(typeof a=="number",49019);const l=new ow(a,n,r,i),c=function(g,w,v){const b=v.baseMutations.map(x=>Ef(g.wt,x)),E=v.mutations.map(x=>Ef(g.wt,x));return{userId:w,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:b,mutations:E}}(this.serializer,this.userId,l),d=[];let h=new Ve((f,g)=>ce(f.canonicalString(),g.canonicalString()));for(const f of i){const g=PP(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(c)),d.push(s.put(g,BB))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.er[a]=l.keys()}),F.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return wi(e).get(n).next(r=>r?(ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ds(this.serializer,r)):null)}tr(e,n){return this.er[n]?F.resolve(this.er[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.er[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return wi(e).te({index:Bs,range:i},(o,a,l)=>{a.userId===this.userId&&(ie(a.batchId>=r,47524,{nr:r}),s=Ds(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Qs;return wi(e).te({index:Bs,range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Qs],[this.userId,Number.POSITIVE_INFINITY]);return wi(e).J(Bs,n).next(r=>r.map(i=>Ds(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=yh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ko(e).te({range:i},(o,a,l)=>{const[c,d,h]=o,f=vr(d);if(c===this.userId&&n.path.isEqual(f))return wi(e).get(h).next(g=>{if(!g)throw re(61480,{rr:o,batchId:h});ie(g.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:g.userId,batchId:h}),s.push(Ds(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ce);const i=[];return n.forEach(s=>{const o=yh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ko(e).te({range:a},(c,d,h)=>{const[f,g,w]=c,v=vr(g);f===this.userId&&s.path.isEqual(v)?r=r.add(w):h.done()});i.push(l)}),F.waitFor(i).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=yh(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ve(ce);return Ko(e).te({range:o},(l,c,d)=>{const[h,f,g]=l,w=vr(f);h===this.userId&&r.isPrefixOf(w)?w.length===i&&(a=a.add(g)):d.done()}).next(()=>this.ir(e,a))}ir(e,n){const r=[],i=[];return n.forEach(s=>{i.push(wi(e).get(s).next(o=>{if(o===null)throw re(35274,{batchId:s});ie(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),r.push(Ds(this.serializer,o))}))}),F.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return FR(e.he,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.sr(n.batchId)}),F.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return F.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ko(e).te({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=vr(s[1]);i.push(l)}else a.done()}).next(()=>{ie(i.length===0,56720,{_r:i.map(s=>s.canonicalString())})})})}containsKey(e,n){return VR(e,this.userId,n)}ar(e){return LR(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Qs,lastStreamToken:""})}}function VR(t,e,n){const r=yh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ko(t).te({range:s,ee:!0},(a,l,c)=>{const[d,h,f]=a;d===e&&h===i&&(o=!0),c.done()}).next(()=>o)}function wi(t){return _t(t,Kn)}function Ko(t){return _t(t,$a)}function LR(t){return _t(t,du)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fo(0)}static lr(){return new fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.hr(e).next(n=>{const r=new fo(n.highestTargetId);return n.highestTargetId=r.next(),this.Pr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(n=>ae.fromTimestamp(new Ge(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.hr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Pr(e,i)))}addTargetData(e,n){return this.Tr(e,n).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(n,r),this.Pr(e,r))))}updateTargetData(e,n){return this.Tr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Lo(e).delete(n.targetId)).next(()=>this.hr(e)).next(r=>(ie(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Lo(e).te((o,a)=>{const l=cc(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>F.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Lo(e).te((r,i)=>{const s=cc(i);n(s)})}hr(e){return ub(e).get(gf).next(n=>(ie(n!==null,2888),n))}Pr(e,n){return ub(e).put(gf,n)}Tr(e,n){return Lo(e).put(kR(this.serializer,n))}Ir(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=lo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Lo(e).te({range:i,index:kP},(o,a,l)=>{const c=cc(a);Uu(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ki(e);return n.forEach(o=>{const a=zt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),F.waitFor(i)}removeMatchingKeys(e,n,r){const i=ki(e);return F.forEach(n,s=>{const o=zt(s.path);return F.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ki(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ki(e);let s=ye();return i.te({range:r,ee:!0},(o,a,l)=>{const c=vr(o[1]),d=new X(c);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=zt(n.path),i=IDBKeyRange.bound([r],[TP(r)],!1,!0);let s=0;return ki(e).te({index:Y0,ee:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}Rt(e,n){return Lo(e).get(n).next(r=>r?cc(r):null)}}function Lo(t){return _t(t,za)}function ub(t){return _t(t,Ys)}function ki(t){return _t(t,qa)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="LruGarbageCollector",jR=1048576;function hb([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class h${constructor(e){this.Er=e,this.buffer=new Ve(hb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){q(db,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ys(n)?q(db,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.mr(3e5)})}}class f${constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Mn.le);const r=new h$(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(cb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cb):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),zo()<=xe.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function UR(t,e){return new f$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n){this.db=e,this.garbageCollector=UR(this,n)}pr(e){const n=this.br(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}yr(e,n){return this.Sr(e,(r,i)=>n(i))}addReference(e,n,r){return zd(e,r)}removeReference(e,n,r){return zd(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return zd(e,n)}Dr(e,n){return function(i,s){let o=!1;return LR(i).ne(a=>VR(i,a,s).next(l=>(l&&(o=!0),F.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,(o,a)=>{if(a<=n){const l=this.Dr(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ae.min()),ki(e).delete(function(h){return[0,zt(h.path)]}(o))))});i.push(l)}}).next(()=>F.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return zd(e,n)}Sr(e,n){const r=ki(e);let i,s=Mn.le;return r.te({index:Y0},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Mn.le&&n(new X(vr(i)),s),s=c,i=l):s=Mn.le}).next(()=>{s!==Mn.le&&n(new X(vr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zd(t,e){return ki(t).put(function(r,i){return{targetId:0,path:zt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.changes=new si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Is(e).put(r)}removeEntry(e,n,r){return Is(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],bf(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.vr(e,r)))}getEntry(e,n){let r=st.newInvalidDocument(n);return Is(e).te({index:vh,range:IDBKeyRange.only(Xl(n))},(i,s)=>{r=this.Cr(n,s)}).next(()=>r)}Fr(e,n){let r={size:0,document:st.newInvalidDocument(n)};return Is(e).te({index:vh,range:IDBKeyRange.only(Xl(n))},(i,s)=>{r={document:this.Cr(n,s),size:If(s)}}).next(()=>r)}getEntries(e,n){let r=xn();return this.Mr(e,n,(i,s)=>{const o=this.Cr(i,s);r=r.insert(i,o)}).next(()=>r)}Or(e,n){let r=xn(),i=new Qe(X.comparator);return this.Mr(e,n,(s,o)=>{const a=this.Cr(s,o);r=r.insert(s,a),i=i.insert(s,If(o))}).next(()=>({documents:r,Nr:i}))}Mr(e,n,r){if(n.isEmpty())return F.resolve();let i=new Ve(mb);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Xl(i.first()),Xl(i.last())),o=i.getIterator();let a=o.getNext();return Is(e).te({index:vh,range:s},(l,c,d)=>{const h=X.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&mb(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.H(Xl(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),bf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Is(e).J(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let d=xn();for(const h of c){const f=this.Cr(X.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&($u(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=xn();const o=pb(n,r),a=pb(n,Sn.max());return Is(e).te({index:RP,range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const h=this.Cr(X.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new g$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return fb(e).get(Uy).next(n=>(ie(!!n,20021),n))}vr(e,n){return fb(e).put(Uy,n)}Cr(e,n){if(n){const r=t$(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ae.min())))return r}return st.newInvalidDocument(e)}}function zR(t){return new m$(t)}class g$ extends $R{constructor(e,n){super(),this.Br=e,this.trackRemovals=n,this.Lr=new si(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ve((s,o)=>ce(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Lr.get(s);if(n.push(this.Br.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=Y1(this.Br.serializer,o);i=i.add(s.path.popLast());const c=If(l);r+=c-a.size,n.push(this.Br.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=Y1(this.Br.serializer,o.convertToNoDocument(ae.min()));n.push(this.Br.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Br.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Br.updateMetadata(e,r)),F.waitFor(n)}getFromCache(e,n){return this.Br.Fr(e,n).next(r=>(this.Lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Br.Or(e,n).next(({documents:r,Nr:i})=>(i.forEach((s,o)=>{this.Lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function fb(t){return _t(t,hu)}function Is(t){return _t(t,mf)}function Xl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pb(t,e){const n=e.documentKey.path.toArray();return[t,bf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mb(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ce(n[s],r[s]),i)return i;return i=ce(n.length,r.length),i||(i=ce(n[n.length-2],r[r.length-2]),i||ce(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Dc(r.mutation,i,ln.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ac();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xn();const o=Nc(),a=function(){return Nc()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof oi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Dc(d.mutation,c,d.mutation.getFieldMask(),Ge.now())):o.set(c.key,ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new y$(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Nc();let i=new Qe((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||ln.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=aR();d.forEach(f=>{if(!s.has(f)){const g=fR(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(wr());let a=lu,l=s;return o.next(c=>F.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ye())).next(d=>({batchId:a,changes:oR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ac();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(h,f){return new gl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,st.newInvalidDocument(d)))});let a=ac();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Dc(d.mutation,c,ln.empty(),Ge.now()),$u(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zt(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:NR(i.bundledQuery),readTime:Zt(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(){this.overlays=new Qe(X.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wr();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=wr(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=wr(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=wr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lw(n,r));let s=this.Qr.get(n);s===void 0&&(s=ye(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.$r=new Ve(Et.Ur),this.Kr=new Ve(Et.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Et(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Et(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new X(new Ne([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new X(new Ne([])),r=new Et(n,e),i=new Et(n,e+1);let s=ye();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return X.comparator(e.key,n.key)||ce(e.Zr,n.Zr)}static Wr(e,n){return ce(e.Zr,n.Zr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ve(Et.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ow(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new Et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Qs:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ce);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new Et(new X(s),0);let a=new Ve(ce);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ie(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Et(n,0),i=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.ii=e,this.docs=function(){return new Qe(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():st.newInvalidDocument(n))}getEntries(e,n){let r=xn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():st.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xn();const o=n.path,a=new X(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||G0(IP(d),r)<=0||(i.has(d.key)||$u(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new b$(this)}getSize(e){return F.resolve(this.size)}}class b$ extends $R{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.persistence=e,this.oi=new si(n=>lo(n),Uu),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this._i=0,this.ai=new fw,this.targetCount=0,this.ui=fo.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new fo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){this.ci={},this.overlays={},this.li=new Mn(0),this.hi=!1,this.hi=!0,this.Pi=new _$,this.referenceDelegate=e(this),this.Ti=new T$(this),this.indexManager=new c$,this.remoteDocumentCache=function(i){return new E$(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new RR(n),this.Ei=new v$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new x$(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new I$(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class I$ extends CP{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.Vi=new fw,this.mi=null}static fi(e){return new Op(e)}get gi(){if(this.mi)return this.mi;throw re(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const i=X.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Sf{constructor(e,n){this.persistence=e,this.yi=new si(r=>zt(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=UR(this,n)}static fi(e,n){return new Sf(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e){this.serializer=e}q(e,n,r,i){const s=new _p("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Bu)}(e),function(l){l.createObjectStore(du,{keyPath:jB}),l.createObjectStore(Kn,{keyPath:S1,autoIncrement:!0}).createIndex(Bs,C1,{unique:!0}),l.createObjectStore($a)}(e),gb(e),function(l){l.createObjectStore(Rs)}(e));let o=F.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(qa),l.deleteObjectStore(za),l.deleteObjectStore(Ys)}(e),gb(e)),o=o.next(()=>function(l){const c=l.store(Ys),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ae.min().toTimestamp(),targetCount:0};return c.put(gf,d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store(Kn).J().next(h=>{l.deleteObjectStore(Kn),l.createObjectStore(Kn,{keyPath:S1,autoIncrement:!0}).createIndex(Bs,C1,{unique:!0});const f=c.store(Kn),g=h.map(w=>f.put(w));return F.waitFor(g)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore(Wa,{keyPath:GB})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.wi(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore(hu)}(e),this.bi(s)))),r<7&&i>=7&&(o=o.next(()=>this.Si(s))),r<8&&i>=8&&(o=o.next(()=>this.Di(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.Ci(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(Ep,{keyPath:QB})})(e),function(l){l.createObjectStore(bp,{keyPath:YB})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore(Tp,{keyPath:rU});c.createIndex(zy,iU,{unique:!1}),c.createIndex(MP,sU,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore(mf,{keyPath:UB});c.createIndex(vh,$B),c.createIndex(RP,zB)}(e)).next(()=>this.Fi(e,s)).next(()=>e.deleteObjectStore(Rs))),r<14&&i>=14&&(o=o.next(()=>this.Mi(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore(X0,{keyPath:XB,autoIncrement:!0}).createIndex($y,JB,{unique:!1}),l.createObjectStore(Ac,{keyPath:ZB}).createIndex(NP,eU,{unique:!1}),l.createObjectStore(Pc,{keyPath:tU}).createIndex(DP,nU,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore(Ac).clear()}).next(()=>{n.objectStore(Pc).clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(J0,{keyPath:oU})})(e)})),r<18&&i>=18&&RA()&&(o=o.next(()=>{n.objectStore(Ac).clear()}).next(()=>{n.objectStore(Pc).clear()})),o}bi(e){let n=0;return e.store(Rs).te((r,i)=>{n+=If(i)}).next(()=>{const r={byteSize:n};return e.store(hu).put(Uy,r)})}wi(e){const n=e.store(du),r=e.store(Kn);return n.J().next(i=>F.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,Qs],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Bs,o).next(a=>F.forEach(a,l=>{ie(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=Ds(this.serializer,l);return FR(e,s.userId,c).next(()=>{})}))}))}Si(e){const n=e.store(qa),r=e.store(Rs);return e.store(Ys).get(gf).next(i=>{const s=[];return r.te((o,a)=>{const l=new Ne(o),c=function(h){return[0,zt(h)]}(l);s.push(n.get(c).next(d=>d?F.resolve():(h=>n.put({targetId:0,path:zt(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>F.waitFor(s))})}Di(e,n){e.createObjectStore(fu,{keyPath:KB});const r=n.store(fu),i=new hw,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:zt(l)})}};return n.store(Rs).te({ee:!0},(o,a)=>{const l=new Ne(o);return s(l.popLast())}).next(()=>n.store($a).te({ee:!0},([o,a,l],c)=>{const d=vr(a);return s(d.popLast())}))}Ci(e){const n=e.store(za);return n.te((r,i)=>{const s=cc(i),o=kR(this.serializer,s);return n.put(o)})}Fi(e,n){const r=n.store(Rs),i=[];return r.te((s,o)=>{const a=n.store(mf),l=function(h){return h.document?new X(Ne.fromString(h.document.name).popFirst(5)):h.noDocument?X.fromSegments(h.noDocument.path):h.unknownDocument?X.fromSegments(h.unknownDocument.path):re(36783)}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>F.waitFor(i))}Mi(e,n){const r=n.store(Kn),i=zR(this.serializer),s=new pw(Op.fi,this.serializer.wt);return r.J().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:ye();Ds(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),F.forEach(a,(l,c)=>{const d=new Qt(c),h=Dp.bt(this.serializer,d),f=s.getIndexManager(d),g=Mp.bt(d,this.serializer,f,s.referenceDelegate);return new qR(i,g,h,f).recalculateAndSaveOverlaysForDocumentKeys(new qy(n,Mn.le),l).next()})})}}function gb(t){t.createObjectStore(qa,{keyPath:WB}).createIndex(Y0,HB,{unique:!0}),t.createObjectStore(za,{keyPath:"targetId"}).createIndex(kP,qB,{unique:!0}),t.createObjectStore(Ys)}const _i="IndexedDbPersistence",rg=18e5,ig=5e3,sg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",C$="main";class mw{constructor(e,n,r,i,s,o,a,l,c,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.xi=s,this.window=o,this.document=a,this.Oi=c,this.Ni=d,this.Bi=h,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=f=>Promise.resolve(),!mw.C())throw new K($.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new p$(this,i),this.Ui=n+C$,this.serializer=new RR(l),this.Ki=new Zi(this.Ui,this.Bi,new S$(this.serializer)),this.Pi=new r$,this.Ti=new d$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zR(this.serializer),this.Ei=new n$,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,d===!1&&Xt(_i,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new K($.FAILED_PRECONDITION,sg);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Mn(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(n=>{n||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(n=>this.isPrimary&&!n?this.Xi(e).next(()=>!1):!!n&&this.es(e).next(()=>!0))).catch(e=>{if(ys(e))return q(_i,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return q(_i,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return Jl(e).get(Do).next(n=>F.resolve(this.ts(n)))}ns(e){return qd(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,rg)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=_t(n,Wa);return r.J().next(i=>{const s=this._s(i,rg),o=i.filter(a=>s.indexOf(a)===-1);return F.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Wi)for(const n of e)this.Wi.removeItem(this.us(n.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?F.resolve(!0):Jl(e).get(Do).next(n=>{if(n!==null&&this.ss(n.leaseTimestampMs,ig)&&!this.cs(n.ownerId)){if(this.ts(n)&&this.networkEnabled)return!0;if(!this.ts(n)){if(!n.allowTabSynchronization)throw new K($.FAILED_PRECONDITION,sg);return!1}}return!(!this.networkEnabled||!this.inForeground)||qd(e).J().next(r=>this._s(r,ig).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&q(_i,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Bu,Wa],e=>{const n=new qy(e,Mn.le);return this.Xi(n).next(()=>this.ns(n))}),this.Ki.close(),this.Ts()}_s(e,n){return e.filter(r=>this.ss(r.updateTimeMs,n)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>qd(e).J().next(n=>this._s(n,rg).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,n){return Mp.bt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new u$(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return Dp.bt(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,n,r){q(_i,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===18?cU:l===17?LP:l===16?lU:l===15?Z0:l===14?VP:l===13?FP:l===12?aU:l===11?OP:void re(60245)}(this.Bi);let o;return this.Ki.runTransaction(e,i,s,a=>(o=new qy(a,this.li?this.li.next():Mn.le),n==="readwrite-primary"?this.Yi(o).next(l=>!!l||this.Zi(o)).next(l=>{if(!l)throw Xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new K($.FAILED_PRECONDITION,SP);return r(o)}).next(l=>this.es(o).next(()=>l)):this.Es(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Es(e){return Jl(e).get(Do).next(n=>{if(n!==null&&this.ss(n.leaseTimestampMs,ig)&&!this.cs(n.ownerId)&&!this.ts(n)&&!(this.Ni||this.allowTabSynchronization&&n.allowTabSynchronization))throw new K($.FAILED_PRECONDITION,sg)})}es(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jl(e).put(Do,n)}static C(){return Zi.C()}Xi(e){const n=Jl(e);return n.get(Do).next(r=>this.ts(r)?(q(_i,"Releasing primary lease."),n.delete(Do)):F.resolve())}ss(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Xt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const n=/(?:Version|Mobile)\/1[456]/;PA()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var n;try{const r=((n=this.Wi)===null||n===void 0?void 0:n.getItem(this.us(e)))!==null;return q(_i,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xt(_i,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jl(t){return _t(t,Bu)}function qd(t){return _t(t,Wa)}function A$(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return PA()?8:AP(wt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new P$;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(zo()<=xe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(zo()<=xe.DEBUG&&q("QueryEngine","Query:",qo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(zo()<=xe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):F.resolve())}ws(e,n){if(B1(n))return F.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_f(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,_f(n,null,"F")):this.Fs(e,c,n,l)}))})))}bs(e,n,r,i){return B1(n)||i.isEqual(ae.min())?F.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(zo()<=xe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qo(n)),this.Fs(e,o,n,NB(i,lu)).next(a=>a))})}vs(e,n){let r=new Ve(iR(e));return n.forEach((i,s)=>{$u(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return zo()<=xe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",qo(n)),this.ys.getDocumentsMatchingQuery(e,n,Sn.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LocalStore",R$=3e8;class k${constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Qe(ce),this.Os=new si(s=>lo(s),Uu),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qR(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function HR(t,e,n,r){return new k$(t,e,n,r)}async function KR(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ye();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function N$(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let g=F.resolve();return f.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(v=>{const b=c.docVersions.get(w);ie(b!==null,48541),v.version.compareTo(b)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GR(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function D$(t,e){const n=he(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(gt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(v,b,E){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=R$?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,g,d)&&a.push(n.Ti.updateTargetData(s,g))});let l=xn(),c=ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(M$(s,o,e.documentUpdates).next(d=>{l=d.qs,c=d.Qs})),!r.isEqual(ae.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(h=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.xs=i,s))}function M$(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(yw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function O$(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qs),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function F$(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function iv(t,e,n){const r=he(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ys(o))throw o;q(yw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function yb(t,e,n){const r=he(t);let i=ae.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=he(l),f=h.Os.get(d);return f!==void 0?F.resolve(h.xs.get(f)):h.Ti.getTargetData(c,d)}(r,o,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:ye())).next(a=>(V$(r,TU(e),a),{documents:a,$s:s})))}function V$(t,e,n){let r=t.Ns.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class vb{constructor(){this.activeTargetIds=RU()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QR{constructor(){this.xo=new vb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new vb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="ConnectivityMonitor";class _b{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){q(wb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){q(wb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=null;function sv(){return Wd===null?Wd=function(){return 268435456+Math.round(2147483648*Math.random())}():Wd++,"0x"+Wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",j$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B${get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===yf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=sv(),a=this.jo(e,n.toUriEncodedString());q(og,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:c}=new URL(a),d=hl(c);return this.Jo(e,a,l,r,d).then(h=>(q(og,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ba(og,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=j$[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class $$ extends B${constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=sv();return new Promise((a,l)=>{const c=new gP;c.setWithCredentials(!0),c.listenOnce(yP.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case mh.NO_ERROR:const h=c.getResponseJson();q(Vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case mh.TIMEOUT:q(Vt,`RPC '${e}' ${o} timed out`),l(new K($.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const f=c.getStatus();if(q(Vt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const v=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(x)>=0?x:$.UNKNOWN}(w.status);l(new K(v,w.message))}else l(new K($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new K($.UNAVAILABLE,"Connection failed."));break;default:re(9055,{h_:e,streamId:o,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{q(Vt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);q(Vt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}I_(e,n,r){const i=sv(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_P(),a=wP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");q(Vt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.E_(h);let f=!1,g=!1;const w=new U$({Zo:b=>{g?q(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(q(Vt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),q(Vt,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},Xo:()=>h.close()}),v=(b,E,x)=>{b.listen(E,I=>{try{x(I)}catch(D){setTimeout(()=>{throw D},0)}})};return v(h,oc.EventType.OPEN,()=>{g||(q(Vt,`RPC '${e}' stream ${i} transport opened.`),w.__())}),v(h,oc.EventType.CLOSE,()=>{g||(g=!0,q(Vt,`RPC '${e}' stream ${i} transport closed`),w.u_(),this.d_(h))}),v(h,oc.EventType.ERROR,b=>{g||(g=!0,Ba(Vt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),w.u_(new K($.UNAVAILABLE,"The operation could not be completed")))}),v(h,oc.EventType.MESSAGE,b=>{var E;if(!g){const x=b.data[0];ie(!!x,16349);const I=x,D=(I==null?void 0:I.error)||((E=I[0])===null||E===void 0?void 0:E.error);if(D){q(Vt,`RPC '${e}' stream ${i} received error:`,D);const M=D.status;let O=function(C){const N=ft[C];if(N!==void 0)return gR(N)}(M),S=D.message;O===void 0&&(O=$.INTERNAL,S="Unknown error status: "+M+" with message "+D.message),g=!0,w.u_(new K(O,S)),h.close()}else q(Vt,`RPC '${e}' stream ${i} received:`,x),w.c_(x)}}),v(a,vP.STAT_EVENT,b=>{b.stat===Ly.PROXY?q(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Ly.NOPROXY&&q(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(){return typeof window<"u"?window:null}function Ih(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){return new WU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="PersistentStream";class XR{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new YR(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Xt(n.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new K($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return q(xb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(q(xb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q$ extends XR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=GU(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Zt(o.readTime):ae.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Zy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=vf(l)?{documents:TR(s,l)}:{query:IR(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wR(s,o.resumeToken);const c=Xy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Ja(s,o.snapshotVersion.toTimestamp());const c=Xy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=YU(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Zy(this.serializer),n.removeTarget=e,this.Q_(n)}}class W$ extends XR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=QU(e.writeResults,e.commitTime),r=Zt(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Zy(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ef(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${}class K$ extends H${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,Jy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K($.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Jy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K($.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class G${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Xt(n),this.ua=!1):q("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="RemoteStore";class Q${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{r.enqueueAndForget(async()=>{Io(this)&&(q(po,"Restarting streams for network reachability change."),await async function(l){const c=he(l);c.da.add(4),await qu(c),c.Va.set("Unknown"),c.da.delete(4),await Vp(c)}(this))})}),this.Va=new G$(r,i)}}async function Vp(t){if(Io(t))for(const e of t.Aa)await e(!0)}async function qu(t){for(const e of t.Aa)await e(!1)}function JR(t,e){const n=he(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),xw(n)?_w(n):vl(n).N_()&&ww(n,e))}function vw(t,e){const n=he(t),r=vl(n);n.Ea.delete(e),r.N_()&&ZR(n,e),n.Ea.size===0&&(r.N_()?r.k_():Io(n)&&n.Va.set("Unknown"))}function ww(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).Z_(e)}function ZR(t,e){t.ma.Ke(e),vl(t).X_(e)}function _w(t){t.ma=new UU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.Va.ca()}function xw(t){return Io(t)&&!vl(t).O_()&&t.Ea.size>0}function Io(t){return he(t).da.size===0}function ek(t){t.ma=void 0}async function Y$(t){t.Va.set("Online")}async function X$(t){t.Ea.forEach((e,n)=>{ww(t,e)})}async function J$(t,e){ek(t),xw(t)?(t.Va.Pa(e),_w(t)):t.Va.set("Unknown")}async function Z$(t,e,n){if(t.Va.set("Online"),e instanceof vR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){q(po,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cf(t,r)}else if(e instanceof bh?t.ma.Xe(e):e instanceof yR?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ae.min()))try{const r=await GR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ma.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ea.get(c);d&&s.Ea.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ea.get(l);if(!d)return;s.Ea.set(l,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),ZR(s,l);const h=new qr(d.target,l,c,d.sequenceNumber);ww(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(po,"Failed to raise snapshot:",r),await Cf(t,r)}}async function Cf(t,e,n){if(!ys(e))throw e;t.da.add(1),await qu(t),t.Va.set("Offline"),n||(n=()=>GR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(po,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Vp(t)})}function tk(t,e){return e().catch(n=>Cf(t,n,e))}async function Wu(t){const e=he(t),n=us(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Qs;for(;ez(e);)try{const i=await O$(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,tz(e,i)}catch(i){await Cf(e,i)}nk(e)&&rk(e)}function ez(t){return Io(t)&&t.Ia.length<10}function tz(t,e){t.Ia.push(e);const n=us(t);n.N_()&&n.ea&&n.ta(e.mutations)}function nk(t){return Io(t)&&!us(t).O_()&&t.Ia.length>0}function rk(t){us(t).start()}async function nz(t){us(t).ia()}async function rz(t){const e=us(t);for(const n of t.Ia)e.ta(n.mutations)}async function iz(t,e,n){const r=t.Ia.shift(),i=aw.from(r,e,n);await tk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Wu(t)}async function sz(t,e){e&&us(t).ea&&await async function(r,i){if(function(o){return jU(o)&&o!==$.ABORTED}(i.code)){const s=r.Ia.shift();us(r).L_(),await tk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Wu(r)}}(t,e),nk(t)&&rk(t)}async function Eb(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),q(po,"RemoteStore received new credentials");const r=Io(n);n.da.add(3),await qu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Vp(n)}async function oz(t,e){const n=he(t);e?(n.da.delete(2),await Vp(n)):e||(n.da.add(2),await qu(n),n.Va.set("Unknown"))}function vl(t){return t.fa||(t.fa=function(n,r,i){const s=he(n);return s.oa(),new q$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:Y$.bind(null,t),n_:X$.bind(null,t),i_:J$.bind(null,t),Y_:Z$.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),xw(t)?_w(t):t.Va.set("Unknown")):(await t.fa.stop(),ek(t))})),t.fa}function us(t){return t.ga||(t.ga=function(n,r,i){const s=he(n);return s.oa(),new W$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:nz.bind(null,t),i_:sz.bind(null,t),na:rz.bind(null,t),ra:iz.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Wu(t)):(await t.ga.stop(),t.Ia.length>0&&(q(po,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ew(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bw(t,e){if(Xt("AsyncQueue",`${e}: ${t}`),ys(t))return new K($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=ac(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.pa=new Qe(X.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):re(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Za{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Za(e,n,va.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class lz{constructor(){this.queries=Tb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=he(n),s=i.queries;i.queries=Tb(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new K($.ABORTED,"Firestore shutting down"))}}function Tb(){return new si(t=>rR(t),Ap)}async function ik(t,e){const n=he(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new az,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=bw(o,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&Tw(n)}async function sk(t,e){const n=he(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cz(t,e){const n=he(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Ma(i)&&(r=!0);o.ba=i}}r&&Tw(n)}function uz(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Tw(t){t.Ca.forEach(e=>{e.next()})}var ov,Ib;(Ib=ov||(ov={})).xa="default",Ib.Cache="cache";class ok{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ov.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.key=e}}class lk{constructor(e){this.key=e}}class dz{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ye(),this.mutatedKeys=ye(),this.Za=iR(e),this.Xa=new va(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new bb,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=$u(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;f&&g?f.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),b=!0):this.ru(f,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.Za(g,l)>0||c&&this.Za(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),b=!0):f&&!g&&(r.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(g?(o=o.add(g),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:a,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,h)=>function(g,w){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Vt:b})}};return v(g)-v(w)}(d.type,h.type)||this.Za(d.doc,h.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Ja;return this.Ja=l,o.length!==0||c?{snapshot:new Za(this.query,e.Xa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new bb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ye(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new lk(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new ak(r))}),n}au(e){this.Ha=e.$s,this.Ya=ye();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Za.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Iw="SyncEngine";class hz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fz{constructor(e){this.key=e,this.cu=!1}}class pz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new si(a=>rR(a),Ap),this.Pu=new Map,this.Tu=new Set,this.Iu=new Qe(X.comparator),this.Eu=new Map,this.du=new fw,this.Au={},this.Ru=new Map,this.Vu=fo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function mz(t,e,n=!0){const r=pk(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await ck(r,e,n,!0),i}async function gz(t,e){const n=pk(t);await ck(n,e,!0,!1)}async function ck(t,e,n,r){const i=await F$(t.localStore,Vn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await yz(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&JR(t.remoteStore,i),a}async function yz(t,e,n,r,i){t.fu=(h,f,g)=>async function(v,b,E,x){let I=b.view.tu(E);I.Cs&&(I=await yb(v.localStore,b.query,!1).then(({documents:S})=>b.view.tu(S,I)));const D=x&&x.targetChanges.get(b.targetId),M=x&&x.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(I,v.isPrimaryClient,D,M);return Cb(v,b.targetId,O.ou),O.snapshot}(t,h,f,g);const s=await yb(t.localStore,e,!0),o=new dz(e,s.$s),a=o.tu(s.documents),l=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Cb(t,n,c.ou);const d=new hz(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),c.snapshot}async function vz(t,e,n){const r=he(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(o=>!Ap(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await iv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vw(r.remoteStore,i.targetId),av(r,i.targetId)}).catch(To)):(av(r,i.targetId),await iv(r.localStore,i.targetId,!0))}async function wz(t,e){const n=he(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vw(n.remoteStore,r.targetId))}async function _z(t,e,n){const r=mk(t);try{const i=await function(o,a){const l=he(o),c=Ge.now(),d=a.reduce((g,w)=>g.add(w.key),ye());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=xn(),v=ye();return l.Bs.getEntries(g,d).next(b=>{w=b,w.forEach((E,x)=>{x.isValidDocument()||(v=v.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(b=>{h=b;const E=[];for(const x of a){const I=VU(x,h.get(x.key).overlayedDocument);I!=null&&E.push(new oi(x.key,I,GP(I.value.mapValue),$t.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,a)}).next(b=>{f=b;const E=b.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,b.batchId,E)})}).then(()=>({batchId:f.batchId,changes:oR(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Au[o.currentUser.toKey()];c||(c=new Qe(ce)),c=c.insert(a,l),o.Au[o.currentUser.toKey()]=c}(r,i.batchId,n),await Hu(r,i.changes),await Wu(r.remoteStore)}catch(i){const s=bw(i,"Failed to persist write");n.reject(s)}}async function uk(t,e){const n=he(t);try{const r=await D$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?ie(o.cu,14607):i.removedDocuments.size>0&&(ie(o.cu,42227),o.cu=!1))}),await Hu(n,r,e)}catch(r){await To(r)}}function Sb(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,o)=>{const a=o.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.Sa)f.Fa(a)&&(c=!0)}),c&&Tw(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xz(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Qe(X.comparator);o=o.insert(s,st.newNoDocument(s,ae.min()));const a=ye().add(s),l=new Np(ae.min(),new Map,new Qe(ce),o,a);await uk(r,l),r.Iu=r.Iu.remove(s),r.Eu.delete(e),Sw(r)}else await iv(r.localStore,e,!1).then(()=>av(r,e,n)).catch(To)}async function Ez(t,e){const n=he(t),r=e.batch.batchId;try{const i=await N$(n.localStore,e);hk(n,r,null),dk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(n,i)}catch(i){await To(i)}}async function bz(t,e,n){const r=he(t);try{const i=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ie(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);hk(r,e,n),dk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hu(r,i)}catch(i){await To(i)}}function dk(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function hk(t,e,n){const r=he(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function av(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||fk(t,r)})}function fk(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(vw(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Sw(t))}function Cb(t,e,n){for(const r of n)r instanceof ak?(t.du.addReference(r.key,e),Tz(t,r)):r instanceof lk?(q(Iw,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||fk(t,r.key)):re(19791,{pu:r})}function Tz(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(q(Iw,"New document in limbo: "+n),t.Tu.add(r),Sw(t))}function Sw(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new X(Ne.fromString(e)),r=t.Vu.next();t.Eu.set(r,new fz(n)),t.Iu=t.Iu.insert(n,r),JR(t.remoteStore,new qr(Vn(Cp(n.path)),r,"TargetPurposeLimboResolution",Mn.le))}}async function Hu(t,e,n){const r=he(t),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{o.push(r.fu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=gw.Rs(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(l,c){const d=he(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(c,f=>F.forEach(f.ds,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>F.forEach(f.As,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!ys(h))throw h;q(yw,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=d.xs.get(f),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);d.xs=d.xs.insert(f,v)}}}(r.localStore,s))}async function Iz(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){q(Iw,"User change. New user:",e.toKey());const r=await KR(n.localStore,e);n.currentUser=e,function(s,o){s.Ru.forEach(a=>{a.forEach(l=>{l.reject(new K($.CANCELLED,o))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hu(n,r.ks)}}function Sz(t,e){const n=he(t),r=n.Eu.get(e);if(r&&r.cu)return ye().add(r.key);{let i=ye();const s=n.Pu.get(e);if(!s)return i;for(const o of s){const a=n.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function pk(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xz.bind(null,e),e.lu.Y_=cz.bind(null,e.eventManager),e.lu.gu=uz.bind(null,e.eventManager),e}function mk(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ez.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bz.bind(null,e),e}class _u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return HR(this.persistence,new WR,e.initialUser,this.serializer)}Su(e){return new pw(Op.fi,this.serializer)}bu(e){return new QR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_u.provider={build:()=>new _u};class Cz extends _u{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ie(this.persistence.referenceDelegate instanceof Sf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BR(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new pw(r=>Sf.fi(r,n),this.serializer)}}class Az extends _u{constructor(e,n,r){super(),this.Fu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Fu.initialize(this,e),await mk(this.Fu.syncEngine),await Wu(this.Fu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Du(e){return HR(this.persistence,new WR,e.initialUser,this.serializer)}vu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new BR(r,e.asyncQueue,n)}Cu(e,n){const r=new FB(n,this.persistence);return new OB(e.asyncQueue,r)}Su(e){const n=A$(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new mw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,z$(),Ih(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new QR}}class Af{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Iz.bind(null,this.syncEngine),await oz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lz}()}createDatastore(e){const n=Fp(e.databaseInfo.databaseId),r=function(s){return new $$(s)}(e.databaseInfo);return function(s,o,a,l){return new K$(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Q$(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Sb(this.syncEngine,n,0),function(){return _b.C()?new _b:new L$}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new pz(i,s,o,a,l,c);return d&&(h.mu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=he(i);q(po,"RemoteStore shutting down."),s.da.add(5),await qu(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Af.provider={build:()=>new Af};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Xt("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class Pz{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=bP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(ds,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(ds,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ag(t,e){t.asyncQueue.verifyOperationInProgress(),q(ds,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ab(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Rz(t);q(ds,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Eb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Eb(e.remoteStore,i)),t._onlineComponents=e}async function Rz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(ds,"Using user provided OfflineComponentProvider");try{await ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ba("Error using user provided cache. Falling back to memory cache: "+n),await ag(t,new _u)}}else q(ds,"Using default OfflineComponentProvider"),await ag(t,new Cz(void 0));return t._offlineComponents}async function yk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(ds,"Using user provided OnlineComponentProvider"),await Ab(t,t._uninitializedComponentsProvider._online)):(q(ds,"Using default OnlineComponentProvider"),await Ab(t,new Af))),t._onlineComponents}function kz(t){return yk(t).then(e=>e.syncEngine)}async function vk(t){const e=await yk(t),n=e.eventManager;return n.onListen=mz.bind(null,e.syncEngine),n.onUnlisten=vz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wz.bind(null,e.syncEngine),n}function Nz(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new gk({next:f=>{d.xu(),o.enqueueAndForget(()=>sk(s,h));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new K($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new K($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new ok(Cp(a.path),d,{includeMetadataChanges:!0,Qa:!0});return ik(s,h)}(await vk(t),t.asyncQueue,e,n,r)),r.promise}function Dz(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new gk({next:f=>{d.xu(),o.enqueueAndForget(()=>sk(s,h)),f.fromCache&&l.source==="server"?c.reject(new K($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new ok(a,d,{includeMetadataChanges:!0,Qa:!0});return ik(s,h)}(await vk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e,n){if(!n)throw new K($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Mz(t,e,n,r){if(e===!0&&r===!0)throw new K($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rb(t){if(!X.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kb(t){if(X.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lp(t);throw new K($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz="firestore.googleapis.com",Nb=!0;class Db{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Oz,this.ssl=Nb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Nb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jR)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TB;switch(r.type){case"firstParty":return new CB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Pb.get(n);r&&(q("ComponentProvider","Removing Datastore"),Pb.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class es extends ws{constructor(e,n,r){super(e,n,Cp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new X(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function xk(t,e,...n){if(t=mt(t),_k("collection","path",e),t instanceof Cw){const r=Ne.fromString(e,...n);return kb(r),new es(t,null,r)}{if(!(t instanceof hn||t instanceof es))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return kb(r),new es(t.firestore,null,r)}}function xu(t,e,...n){if(t=mt(t),arguments.length===1&&(e=bP.newId()),_k("doc","path",e),t instanceof Cw){const r=Ne.fromString(e,...n);return Rb(r),new hn(t,null,new X(r))}{if(!(t instanceof hn||t instanceof es))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return Rb(r),new hn(t.firestore,t instanceof es?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="AsyncQueue";class Ob{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new YR(this,"async_queue_retry"),this.rc=()=>{const r=Ih();r&&q(Mb,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Ih();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Ih();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new br;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ys(e))throw e;q(Mb,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Xt("INTERNAL UNHANDLED ERROR: ",Fb(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=Ew.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&re(47125,{cc:Fb(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Fb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=-1;class wl extends Cw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ob,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ob(e),this._firestoreClient=void 0,await e}}}function Vz(t,e,n){n||(n=yf);const r=bo(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Jr(s,e))return i;throw new K($.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new K($.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jR)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&hl(e.host)&&CA(e.host),r.initialize({options:e,instanceIdentifier:n})}function jp(t){if(t._terminated)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ek(t),t._firestoreClient}function Ek(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new dU(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wk(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Pz(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function bk(t,e){Ba("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Lz(t,Af.provider,{build:r=>new Az(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function Lz(t,e,n){if((t=hs(t,wl))._firestoreClient||t._terminated)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new K($.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Ek(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._byteString=e}static fromBase64String(e){try{return new el(gt.fromBase64String(e))}catch(n){throw new K($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new el(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=/^__.*__$/;class Bz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yl(e,this.data,n,this.fieldTransforms)}}class Tk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ik(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ic:t})}}class Up{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Pf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Ik(this.Ic)&&jz.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Uz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fp(e)}bc(e,n,r,i=!1){return new Up({Ic:e,methodName:n,wc:r,path:Je.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rw(t){const e=t._freezeSettings(),n=Fp(t._databaseId);return new Uz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sk(t,e,n,r,i,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,n,i);Dw("Data must be an object, but it was:",o,r);const a=Ck(r,o);let l,c;if(s.merge)l=new ln(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=lv(e,h,n);if(!o.contains(f))throw new K($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Pk(d,f)||d.push(f)}l=new ln(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Bz(new Ut(a),l,c)}class $p extends Ku{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $p}}function $z(t,e,n){return new Up({Ic:3,wc:e.settings.wc,methodName:t._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kw extends Ku{_toFieldTransform(e){return new sw(e.path,new Ya)}isEqual(e){return e instanceof kw}}class Nw extends Ku{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=$z(this,e,!0),r=this.Sc.map(s=>_l(s,n)),i=new co(r);return new sw(e.path,i)}isEqual(e){return e instanceof Nw&&Jr(this.Sc,e.Sc)}}function zz(t,e,n,r){const i=t.bc(1,e,n);Dw("Data must be an object, but it was:",i,r);const s=[],o=Ut.empty();vs(r,(l,c)=>{const d=Mw(e,l,n);c=mt(c);const h=i.mc(d);if(c instanceof $p)s.push(d);else{const f=_l(c,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new ln(s);return new Tk(o,a,i.fieldTransforms)}function qz(t,e,n,r,i,s){const o=t.bc(1,e,n),a=[lv(e,r,n)],l=[i];if(s.length%2!=0)throw new K($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(lv(e,s[f])),l.push(s[f+1]);const c=[],d=Ut.empty();for(let f=a.length-1;f>=0;--f)if(!Pk(c,a[f])){const g=a[f];let w=l[f];w=mt(w);const v=o.mc(g);if(w instanceof $p)c.push(g);else{const b=_l(w,v);b!=null&&(c.push(g),d.set(g,b))}}const h=new ln(c);return new Tk(d,h,o.fieldTransforms)}function Wz(t,e,n,r=!1){return _l(n,t.bc(r?4:3,e))}function _l(t,e){if(Ak(t=mt(t)))return Dw("Unsupported field value:",e,t),Ck(t,e);if(t instanceof Ku)return function(r,i){if(!Ik(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=_l(a,i.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ge.fromDate(r);return{timestampValue:Ja(i.serializer,s)}}if(r instanceof Ge){const s=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ja(i.serializer,s)}}if(r instanceof Aw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof el)return{bytesValue:wR(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pw)return function(o,a){return{mapValue:{fields:{[tw]:{stringValue:nw},[Ha]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.gc("VectorValues must only contain numeric values.");return iw(a.serializer,c)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Lp(r)}`)}(t,e)}function Ck(t,e){const n={};return jP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(t,(r,i)=>{const s=_l(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ak(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Aw||t instanceof el||t instanceof hn||t instanceof Ku||t instanceof Pw)}function Dw(t,e,n){if(!Ak(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Lp(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function lv(t,e,n){if((e=mt(e))instanceof Bp)return e._internalPath;if(typeof e=="string")return Mw(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hz=new RegExp("[~\\*/\\[\\]]");function Mw(t,e,n){if(e.search(Hz)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bp(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K($.INVALID_ARGUMENT,a+t+l)}function Pk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kz extends Rk{data(){return super.data()}}function zp(t,e){return typeof e=="string"?Mw(t,e):e instanceof Bp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ow{}class Fw extends Ow{}function Qz(t,e,...n){let r=[];e instanceof Ow&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Vw).length,a=s.filter(l=>l instanceof qp).length;if(o>1||o>0&&a>0)throw new K($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qp extends Fw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qp(e,n,r)}_apply(e){const n=this._parse(e);return kk(e._query,n),new ws(e.firestore,e.converter,Yy(e._query,n))}_parse(e){const n=Rw(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Lb(h,d);const w=[];for(const v of h)w.push(Vb(l,s,v));f={arrayValue:{values:w}}}else f=Vb(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Lb(h,d),f=Wz(a,o,h,d==="in"||d==="not-in");return Ee.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yz(t,e,n){const r=e,i=zp("where",t);return qp._create(i,r,n)}class Vw extends Ow{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)kk(o,l),o=Yy(o,l)}(e._query,n),new ws(e.firestore,e.converter,Yy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lw extends Fw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(s,o)}(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new gl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Xz(t,e="asc"){const n=e,r=zp("orderBy",t);return Lw._create(r,n)}class jw extends Fw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jw(e,n,r)}_apply(e){return new ws(e.firestore,e.converter,_f(e._query,this._limit,this._limitType))}}function Jz(t){return jw._create("limit",t,"F")}function Vb(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new K($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nR(e)&&n.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!X.isDocumentKey(r))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gu(t,new X(r))}if(n instanceof hn)return gu(t,n._key);throw new K($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lp(n)}.`)}function Lb(t,e){if(!Array.isArray(t)||t.length===0)throw new K($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Zz{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ha].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>He(o.doubleValue));return new Pw(s)}convertGeoPoint(e){return new Aw(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ip(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=ti(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);ie(PR(r),9688,{name:e});const i=new ao(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||Xt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dk extends Rk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sh extends Dk{data(e={}){return super.data(e)}}class e8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new uc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sh(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Sh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Sh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:t8(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function t8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){t=hs(t,hn);const e=hs(t.firestore,wl);return Nz(jp(e),t._key).then(n=>r8(e,t,n))}class Ok extends Zz{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function n8(t){t=hs(t,ws);const e=hs(t.firestore,wl),n=jp(e),r=new Ok(e);return Gz(t._query),Dz(n,t._query).then(i=>new e8(e,r,t,i))}function Fk(t,e,n){t=hs(t,hn);const r=hs(t.firestore,wl),i=Nk(t.converter,e,n);return Vk(r,[Sk(Rw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$t.none())])}function Vk(t,e){return function(r,i){const s=new br;return r.asyncQueue.enqueueAndForget(async()=>_z(await kz(r),i,s)),s.promise}(jp(t),e)}function r8(t,e,n){const r=n.docs.get(e._key),i=new Ok(t);return new Dk(t,i,e._key,r,new uc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Rw(e)}set(e,n,r){this._verifyNotCommitted();const i=lg(e,this._firestore),s=Nk(i.converter,n,r),o=Sk(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,$t.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=lg(e,this._firestore);let o;return o=typeof(n=mt(n))=="string"||n instanceof Bp?qz(this._dataReader,"WriteBatch.update",s._key,n,r,i):zz(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,$t.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=lg(e,this._firestore);return this._mutations=this._mutations.concat(new kp(n._key,$t.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new K($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lg(t,e){if((t=mt(t)).firestore!==e)throw new K($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function wa(){return new kw("serverTimestamp")}function s8(...t){return new Nw("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t){return jp(t=hs(t,wl)),new i8(t,e=>Vk(t,e))}(function(e,n=!0){(function(i){ml=i})(fl),Sr(new ir("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new wl(new IB(r.getProvider("auth-internal")),new AB(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Fn(y1,v1,e),Fn(y1,v1,"esm2017")})();const Lk="@firebase/installations",Bw="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=1e4,Bk=`w:${Bw}`,Uk="FIS_v2",a8="https://firebaseinstallations.googleapis.com/v1",l8=60*60*1e3,c8="installations",u8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mo=new Eo(c8,u8,d8);function $k(t){return t instanceof sr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk({projectId:t}){return`${a8}/projects/${t}/installations`}function qk(t){return{token:t.token,requestStatus:2,expiresIn:f8(t.expiresIn),creationTime:Date.now()}}async function Wk(t,e){const r=(await e.json()).error;return mo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Hk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function h8(t,{refreshToken:e}){const n=Hk(t);return n.append("Authorization",p8(e)),n}async function Kk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function f8(t){return Number(t.replace("s","000"))}function p8(t){return`${Uk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=zk(t),i=Hk(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Uk,appId:t.appId,sdkVersion:Bk},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Kk(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:qk(c.authToken)}}else throw await Wk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=/^[cdef][\w-]{21}$/,cv="";function v8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=w8(t);return y8.test(n)?n:cv}catch{return cv}}function w8(t){return g8(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Map;function Yk(t,e){const n=Wp(t);Xk(n,e),_8(n,e)}function Xk(t,e){const n=Qk.get(t);if(n)for(const r of n)r(e)}function _8(t,e){const n=x8();n&&n.postMessage({key:t,fid:e}),E8()}let Us=null;function x8(){return!Us&&"BroadcastChannel"in self&&(Us=new BroadcastChannel("[Firebase] FID Change"),Us.onmessage=t=>{Xk(t.data.key,t.data.fid)}),Us}function E8(){Qk.size===0&&Us&&(Us.close(),Us=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="firebase-installations-database",T8=1,go="firebase-installations-store";let cg=null;function Uw(){return cg||(cg=MA(b8,T8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(go)}}})),cg}async function Rf(t,e){const n=Wp(t),i=(await Uw()).transaction(go,"readwrite"),s=i.objectStore(go),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Yk(t,e.fid),e}async function Jk(t){const e=Wp(t),r=(await Uw()).transaction(go,"readwrite");await r.objectStore(go).delete(e),await r.done}async function Hp(t,e){const n=Wp(t),i=(await Uw()).transaction(go,"readwrite"),s=i.objectStore(go),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Yk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(t){let e;const n=await Hp(t.appConfig,r=>{const i=I8(r),s=S8(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===cv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function I8(t){const e=t||{fid:v8(),registrationStatus:0};return Zk(e)}function S8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(mo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=C8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:A8(t)}:{installationEntry:e}}async function C8(t,e){try{const n=await m8(t,e);return Rf(t.appConfig,n)}catch(n){throw $k(n)&&n.customData.serverCode===409?await Jk(t.appConfig):await Rf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function A8(t){let e=await jb(t.appConfig);for(;e.registrationStatus===1;)await Gk(100),e=await jb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await $w(t);return r||n}return e}function jb(t){return Hp(t,e=>{if(!e)throw mo.create("installation-not-found");return Zk(e)})}function Zk(t){return P8(t)?{fid:t.fid,registrationStatus:0}:t}function P8(t){return t.registrationStatus===1&&t.registrationTime+jk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8({appConfig:t,heartbeatServiceProvider:e},n){const r=k8(t,n),i=h8(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Bk,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Kk(()=>fetch(r,a));if(l.ok){const c=await l.json();return qk(c)}else throw await Wk("Generate Auth Token",l)}function k8(t,{fid:e}){return`${zk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(t,e=!1){let n;const r=await Hp(t.appConfig,s=>{if(!eN(s))throw mo.create("not-registered");const o=s.authToken;if(!e&&M8(o))return s;if(o.requestStatus===1)return n=N8(t,e),s;{if(!navigator.onLine)throw mo.create("app-offline");const a=F8(s);return n=D8(t,a),a}});return n?await n:r.authToken}async function N8(t,e){let n=await Bb(t.appConfig);for(;n.authToken.requestStatus===1;)await Gk(100),n=await Bb(t.appConfig);const r=n.authToken;return r.requestStatus===0?zw(t,e):r}function Bb(t){return Hp(t,e=>{if(!eN(e))throw mo.create("not-registered");const n=e.authToken;return V8(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function D8(t,e){try{const n=await R8(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Rf(t.appConfig,r),n}catch(n){if($k(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Jk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Rf(t.appConfig,r)}throw n}}function eN(t){return t!==void 0&&t.registrationStatus===2}function M8(t){return t.requestStatus===2&&!O8(t)}function O8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+l8}function F8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function V8(t){return t.requestStatus===1&&t.requestTime+jk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L8(t){const e=t,{installationEntry:n,registrationPromise:r}=await $w(e);return r?r.catch(console.error):zw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(t,e=!1){const n=t;return await B8(n),(await zw(n,e)).token}async function B8(t){const{registrationPromise:e}=await $w(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t){if(!t||!t.options)throw ug("App Configuration");if(!t.name)throw ug("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ug(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ug(t){return mo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="installations",$8="installations-internal",z8=t=>{const e=t.getProvider("app").getImmediate(),n=U8(e),r=bo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},q8=t=>{const e=t.getProvider("app").getImmediate(),n=bo(e,tN).getImmediate();return{getId:()=>L8(n),getToken:i=>j8(n,i)}};function W8(){Sr(new ir(tN,z8,"PUBLIC")),Sr(new ir($8,q8,"PRIVATE"))}W8();Fn(Lk,Bw);Fn(Lk,Bw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="analytics",H8="firebase_id",K8="origin",G8=60*1e3,Q8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new gp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new Eo("analytics","Analytics",Y8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){if(!t.startsWith(qw)){const e=Tn.create("invalid-gtag-resource",{gtagURL:t});return fn.warn(e.message),""}return t}function nN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function J8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Z8(t,e){const n=J8("firebase-js-sdk-policy",{createScriptURL:X8}),r=document.createElement("script"),i=`${qw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function e7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function t7(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await nN(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){fn.error(a)}t("config",i,s)}async function n7(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await nN(n);for(const l of o){const c=a.find(h=>h.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){fn.error(s)}}function r7(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await n7(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await t7(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){fn.error(a)}}return i}function i7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=r7(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function s7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=30,a7=1e3;class l7{constructor(e={},n=a7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rN=new l7;function c7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function u7(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:c7(r)},s=Q8.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function d7(t,e=rN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Tn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Tn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new p7;return setTimeout(async()=>{a.abort()},G8),iN({appId:r,apiKey:i,measurementId:s},o,a,e)}async function iN(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=rN){var s;const{appId:o,measurementId:a}=t;try{await h7(r,e)}catch(l){if(a)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await u7(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!f7(c)){if(i.deleteThrottleMetadata(o),a)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?qE(n,i.intervalMillis,o7):qE(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,h),fn.debug(`Calling attemptFetch again in ${d} millis`),iN(t,h,r,i)}}function h7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function f7(t){if(!(t instanceof sr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class p7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function m7(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g7(){if(mp())try{await M0()}catch(t){return fn.warn(Tn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fn.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function y7(t,e,n,r,i,s,o){var a;const l=d7(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>fn.error(g)),e.push(l);const c=g7().then(g=>{if(g)return r.getId()}),[d,h]=await Promise.all([l,c]);s7(s)||Z8(s,d.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[K8]="firebase",f.update=!0,h!=null&&(f[H8]=h),i("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.app=e}_delete(){return delete Mc[this.app.options.appId],Promise.resolve()}}let Mc={},Ub=[];const $b={};let dg="dataLayer",w7="gtag",zb,sN,qb=!1;function _7(){const t=[];if(D0()&&t.push("This is a browser extension environment."),kA()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function x7(t,e,n){_7();const r=t.options.appId;if(!r)throw Tn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(Mc[r]!=null)throw Tn.create("already-exists",{id:r});if(!qb){e7(dg);const{wrappedGtag:s,gtagCore:o}=i7(Mc,Ub,$b,dg,w7);sN=s,zb=o,qb=!0}return Mc[r]=y7(t,Ub,$b,e,zb,dg,n),new v7(t)}function E7(t=F0()){t=mt(t);const e=bo(t,kf);return e.isInitialized()?e.getImmediate():b7(t)}function b7(t,e={}){const n=bo(t,kf);if(n.isInitialized()){const i=n.getImmediate();if(Jr(e,n.getOptions()))return i;throw Tn.create("already-initialized")}return n.initialize({options:e})}async function T7(){if(D0()||!kA()||!mp())return!1;try{return await M0()}catch{return!1}}function I7(t,e,n,r){t=mt(t),m7(sN,Mc[t.app.options.appId],e,n,r).catch(i=>fn.error(i))}const Wb="@firebase/analytics",Hb="0.10.16";function S7(){Sr(new ir(kf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return x7(r,i,n)},"PUBLIC")),Sr(new ir("analytics-internal",t,"PRIVATE")),Fn(Wb,Hb),Fn(Wb,Hb,"esm2017");function t(e){try{const n=e.getProvider(kf).getImmediate();return{logEvent:(r,i,s)=>I7(n,r,i,s)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}S7();const C7={apiKey:"AIzaSyBU-evRD3Imtb-zJhOst7WJH1HN6ty16wo",authDomain:"shree-mahalaxmi-foods-products.firebaseapp.com",projectId:"shree-mahalaxmi-foods-products",storageBucket:"shree-mahalaxmi-foods-products.firebasestorage.app",messagingSenderId:"592899536490",appId:"1:592899536490:web:45f248dcb4d8844d447c13",measurementId:"G-NB3PRXHS1G"},A7=()=>{try{const t=c6().length?F0():OA(C7),e=wB(t),n=Vz(t,{cacheSizeBytes:Fz,experimentalAutoDetectLongPolling:!0,experimentalForceLongPolling:!1}),r=(s,o)=>{throw console.error(`Firestore ${s} error:`,o),o};let i;return typeof window<"u"&&T7().then(s=>{s&&(i=E7(t))}).catch(s=>{console.warn("Failed to initialize Analytics:",s)}),typeof window<"u"&&bk(n,{forceOwnership:!0}).catch(s=>{s.code==="failed-precondition"?console.warn("Offline persistence can only be enabled in one tab at a time."):s.code==="unimplemented"?console.warn("This browser does not support offline persistence."):console.warn("Error enabling offline persistence:",s)}),{app:t,auth:e,db:n,analytics:i}}catch(t){throw console.error("Failed to initialize Firebase services:",t),t}},{app:VG,auth:Nf,db:ts,analytics:LG}=A7();typeof window<"u"&&window.addEventListener("unhandledrejection",t=>{var n,r,i,s;const e=t.reason;((r=(n=e==null?void 0:e.code)==null?void 0:n.startsWith)!=null&&r.call(n,"firebase")||(s=(i=e==null?void 0:e.code)==null?void 0:i.startsWith)!=null&&s.call(i,"permission-denied"))&&console.error("Unhandled Firestore error:",e)});const P7=async t=>{try{await bk(t,{forceOwnership:!0}),console.log("Firestore offline persistence enabled")}catch(e){e.code==="failed-precondition"?console.warn("Offline persistence can only be enabled in one tab at a time."):e.code==="unimplemented"?console.warn("This browser does not support offline persistence."):console.error("Error enabling offline persistence:",e)}};typeof window<"u"&&P7(ts);const R7=new jr,k7=async t=>{if(!(t!=null&&t.uid))return console.error("Invalid user object"),null;try{const e=xu(ts,"users",t.uid),n=await Mk(e);if(!n.exists()){const r={uid:t.uid,email:t.email||"",displayName:t.displayName||"",photoURL:t.photoURL||"",createdAt:wa(),updatedAt:wa(),orders:[],cart:[]};return await Fk(e,r,{merge:!0}),r}return n.data()}catch(e){return console.error("Error in checkAndCreateUser:",e),e.code==="unavailable"?(console.warn("Firestore is unavailable. Working in offline mode."),null):(console.error("Error in checkAndCreateUser:",e),null)}},N7=async()=>{try{const t=await A9(Nf,R7);return k7(t.user).catch(console.error),t}catch(t){throw console.error("Error signing in with Google:",t),t}},D7=async()=>{try{await rP(Nf)}catch(t){throw console.error("Error signing out:",t),t}},oN=y.createContext(void 0);function M7({children:t}){const[e,n]=y.useState(null),[r,i]=y.useState(!0);y.useEffect(()=>{const a=l9(Nf,l=>{n(l),i(!1)});return()=>a()},[]);const s=y.useCallback(async()=>{try{await rP(Nf)}catch(a){throw console.error("Error signing out:",a),a}},[]),o=y.useMemo(()=>({currentUser:e,loading:r,isAuthenticated:!!e,signOutUser:s}),[e,r,s]);return p.jsx(oN.Provider,{value:o,children:!r&&t})}function Kp(){const t=y.useContext(oN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const aN="cart",yo=()=>{if(typeof window>"u")return[];const t=localStorage.getItem(aN);return t?JSON.parse(t):[]},xl=t=>{localStorage.setItem(aN,JSON.stringify(t))},O7=async t=>{var e;try{return((e=(await Mk(xu(ts,"users",t))).data())==null?void 0:e.cart)||[]}catch(n){return console.error("Error getting user cart:",n),[]}},Gu=async(t,e)=>{try{const n=xu(ts,"users",e);await Fk(n,{cart:t,updatedAt:wa()},{merge:!0})}catch(n){throw console.error("Error saving cart to Firestore:",n),n}},F7=async t=>{try{const e=yo(),n=await O7(t),r=[...e];return n.forEach(i=>{r.findIndex(o=>o.id===i.id)===-1&&r.push(i)}),xl(r),await Gu(r,t),r}catch(e){return console.error("Error syncing cart:",e),yo()}},V7=async(t,e)=>{const n=t.quantity||1,r=yo(),i=r.findIndex(s=>s.id===t.id);if(i>=0?r[i].quantity+=n:r.push({...t,quantity:n}),xl(r),e)try{await Gu(r,e)}catch(s){console.error("Error updating cart in Firestore:",s)}return[...r]},lN=async(t,e)=>{const n=yo().filter(r=>r.id!==t);if(xl(n),e)try{await Gu(n,e)}catch(r){console.error("Error updating cart in Firestore:",r)}return n},L7=async(t,e,n)=>{if(e<1)return lN(t,n);const r=yo(),i=r.find(s=>s.id===t);if(i&&(i.quantity=e,xl(r),n))try{await Gu(r,n)}catch(s){console.error("Error updating cart in Firestore:",s)}return[...r]},j7=async t=>{if(xl([]),t)try{await Gu([],t)}catch(e){console.error("Error clearing cart in Firestore:",e)}},B7=async(t,e,n)=>{try{if(!t.length)throw new Error("Cart is empty");const r=o8(ts),i=xu(xk(ts,"orders")),s={userId:e,items:t,total:t.reduce((a,l)=>a+l.price*l.quantity,0),status:"pending",shippingAddress:n.shippingAddress,paymentMethod:n.paymentMethod,createdAt:wa(),updatedAt:wa()};r.set(i,s);const o=xu(ts,"users",e);return r.update(o,{orders:s8(i.id),updatedAt:wa()}),r.update(o,{cart:[]}),await r.commit(),xl([]),{success:!0,orderId:i.id}}catch(r){return console.error("Error during checkout:",r),{success:!1,error:r instanceof Error?r.message:"An unknown error occurred"}}},cN=y.createContext(void 0);function U7({children:t}){const[e,n]=y.useState([]),[r,i]=y.useState(!0),{currentUser:s}=Kp();y.useEffect(()=>{(async()=>{try{if(s){const v=await F7(s.uid);n(v)}else{const v=yo();n(v)}}catch(v){console.error("Error loading cart:",v),n(yo())}finally{i(!1)}})()},[s]);const o=y.useCallback(async w=>{const v=await V7({...w,quantity:w.quantity||1},s==null?void 0:s.uid);return n(v),v},[s==null?void 0:s.uid]),a=y.useCallback(async w=>{const v=await lN(w,s==null?void 0:s.uid);return n(v),v},[s==null?void 0:s.uid]),l=y.useCallback(async(w,v)=>{if(v<1)return a(w);const b=await L7(w,v,s==null?void 0:s.uid);return n(b),b},[s==null?void 0:s.uid,a]),c=y.useCallback(async()=>{await j7(s==null?void 0:s.uid),n([])},[s==null?void 0:s.uid]),d=y.useCallback(()=>e.reduce((w,v)=>w+v.price*v.quantity,0),[e]),h=y.useCallback(()=>e.reduce((w,v)=>w+v.quantity,0),[e]),f=y.useCallback(async w=>{if(!s)return{success:!1,error:"User not authenticated"};try{const v=await B7(e,s.uid,w);return v.success&&n([]),v}catch(v){return console.error("Checkout error:",v),{success:!1,error:v instanceof Error?v.message:"An error occurred during checkout"}}},[s,e]),g=y.useMemo(()=>({items:e,loading:r,addToCart:o,removeFromCart:a,updateCartItemQuantity:l,clearCart:c,getCartTotal:d,getCartCount:h,checkout:f}),[e,r,o,a,l,c,d,h,f]);return p.jsx(cN.Provider,{value:g,children:t})}function $7(){const t=y.useContext(cN);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}const z7=g0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),on=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ro:"button";return p.jsx(o,{className:we(z7({variant:e,size:n,className:t})),ref:s,...i})});on.displayName="Button";function Kb(){const[t,e]=y.useState(!1),n=async()=>{try{e(!0),await N7(),Yn({title:"Signed in successfully!",description:"Welcome to Mahalaxmi Foods"})}catch(r){console.error("Error signing in:",r),Yn({title:"Error",description:"Failed to sign in with Google",variant:"destructive"})}finally{e(!1)}};return p.jsxs(on,{onClick:n,disabled:t,className:"w-full bg-white text-gray-800 hover:bg-gray-100 border border-gray-300",children:[t?p.jsx(_V,{className:"mr-2 h-4 w-4 animate-spin"}):p.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",children:p.jsxs("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[p.jsx("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),p.jsx("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),p.jsx("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),p.jsx("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Login"]})}var Ww="Avatar",[q7,jG]=il(Ww),[W7,uN]=q7(Ww),dN=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=y.useState("idle");return p.jsx(W7,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:p.jsx(Re.span,{...r,ref:e})})});dN.displayName=Ww;var hN="AvatarImage",fN=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=uN(hN,n),a=H7(r,s.referrerPolicy),l=Wt(c=>{i(c),o.onImageLoadingStatusChange(c)});return Tr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(Re.img,{...s,ref:e,src:r}):null});fN.displayName=hN;var pN="AvatarFallback",mN=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=uN(pN,n),[o,a]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?p.jsx(Re.span,{...i,ref:e}):null});mN.displayName=pN;function H7(t,e){const[n,r]=y.useState("idle");return Tr(()=>{if(!t){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var gN=dN,yN=fN,vN=mN;const wN=y.forwardRef(({className:t,...e},n)=>p.jsx(gN,{ref:n,className:we("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));wN.displayName=gN.displayName;const _N=y.forwardRef(({className:t,...e},n)=>p.jsx(yN,{ref:n,className:we("aspect-square h-full w-full",t),...e}));_N.displayName=yN.displayName;const xN=y.forwardRef(({className:t,...e},n)=>p.jsx(vN,{ref:n,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));xN.displayName=vN.displayName;var K7=y.createContext(void 0);function EN(t){const e=y.useContext(K7);return t||e||"ltr"}var hg=0;function bN(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Gb()),document.body.insertAdjacentElement("beforeend",t[1]??Gb()),hg++,()=>{hg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hg--}},[])}function Gb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fg="focusScope.autoFocusOnMount",pg="focusScope.autoFocusOnUnmount",Qb={bubbles:!1,cancelable:!0},G7="FocusScope",Hw=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=y.useState(null),c=Wt(i),d=Wt(s),h=y.useRef(null),f=lt(e,v=>l(v)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(I){if(g.paused||!a)return;const D=I.target;a.contains(D)?h.current=D:bi(h.current,{select:!0})},b=function(I){if(g.paused||!a)return;const D=I.relatedTarget;D!==null&&(a.contains(D)||bi(h.current,{select:!0}))},E=function(I){if(document.activeElement===document.body)for(const M of I)M.removedNodes.length>0&&bi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const x=new MutationObserver(E);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),x.disconnect()}}},[r,a,g.paused]),y.useEffect(()=>{if(a){Xb.add(g);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(fg,Qb);a.addEventListener(fg,c),a.dispatchEvent(E),E.defaultPrevented||(Q7(eq(TN(a)),{select:!0}),document.activeElement===v&&bi(a))}return()=>{a.removeEventListener(fg,c),setTimeout(()=>{const E=new CustomEvent(pg,Qb);a.addEventListener(pg,d),a.dispatchEvent(E),E.defaultPrevented||bi(v??document.body,{select:!0}),a.removeEventListener(pg,d),Xb.remove(g)},0)}}},[a,c,d,g]);const w=y.useCallback(v=>{if(!n&&!r||g.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(b&&E){const x=v.currentTarget,[I,D]=Y7(x);I&&D?!v.shiftKey&&E===D?(v.preventDefault(),n&&bi(I,{select:!0})):v.shiftKey&&E===I&&(v.preventDefault(),n&&bi(D,{select:!0})):E===x&&v.preventDefault()}},[n,r,g.paused]);return p.jsx(Re.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});Hw.displayName=G7;function Q7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(bi(r,{select:e}),document.activeElement!==n)return}function Y7(t){const e=TN(t),n=Yb(e,t),r=Yb(e.reverse(),t);return[n,r]}function TN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yb(t,e){for(const n of t)if(!X7(n,{upTo:e}))return n}function X7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function J7(t){return t instanceof HTMLInputElement&&"select"in t}function bi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&J7(t)&&e&&t.select()}}var Xb=Z7();function Z7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Jb(t,e),t.unshift(e)},remove(e){var n;t=Jb(t,e),(n=t[0])==null||n.resume()}}}function Jb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function eq(t){return t.filter(e=>e.tagName!=="A")}function tq(t,e=[]){let n=[];function r(s,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:f,children:g,...w}=h,v=(f==null?void 0:f[t][l])||a,b=y.useMemo(()=>w,Object.values(w));return p.jsx(v.Provider,{value:b,children:g})}function d(h,f){const g=(f==null?void 0:f[t][l])||a,w=y.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,nq(i,...e)]}function nq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var mg="rovingFocusGroup.onEntryFocus",rq={bubbles:!1,cancelable:!0},Gp="RovingFocusGroup",[uv,IN,iq]=d0(Gp),[sq,SN]=tq(Gp,[iq]),[oq,aq]=sq(Gp),CN=y.forwardRef((t,e)=>p.jsx(uv.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(uv.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(lq,{...t,ref:e})})}));CN.displayName=Gp;var lq=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,f=y.useRef(null),g=lt(e,f),w=EN(s),[v=null,b]=tp({prop:o,defaultProp:a,onChange:l}),[E,x]=y.useState(!1),I=Wt(c),D=IN(n),M=y.useRef(!1),[O,S]=y.useState(0);return y.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(mg,I),()=>T.removeEventListener(mg,I)},[I]),p.jsx(oq,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:v,onItemFocus:y.useCallback(T=>b(T),[b]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>S(T=>T-1),[]),children:p.jsx(Re.div,{tabIndex:E||O===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{M.current=!0}),onFocus:se(t.onFocus,T=>{const C=!M.current;if(T.target===T.currentTarget&&C&&!E){const N=new CustomEvent(mg,rq);if(T.currentTarget.dispatchEvent(N),!N.defaultPrevented){const k=D().filter(Z=>Z.focusable),R=k.find(Z=>Z.active),P=k.find(Z=>Z.id===v),ne=[R,P,...k].filter(Boolean).map(Z=>Z.ref.current);RN(ne,d)}}M.current=!1}),onBlur:se(t.onBlur,()=>x(!1))})})}),AN="RovingFocusGroupItem",PN=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=fa(),l=s||a,c=aq(AN,n),d=c.currentTabStopId===l,h=IN(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=c;return y.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),p.jsx(uv.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:p.jsx(Re.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:se(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:se(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:se(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=dq(w,c.orientation,c.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=h().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")E.reverse();else if(v==="prev"||v==="next"){v==="prev"&&E.reverse();const x=E.indexOf(w.currentTarget);E=c.loop?hq(E,x+1):E.slice(x+1)}setTimeout(()=>RN(E))}})})})});PN.displayName=AN;var cq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dq(t,e,n){const r=uq(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cq[r]}function RN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function hq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fq=CN,pq=PN,mq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jo=new WeakMap,Hd=new WeakMap,Kd={},gg=0,kN=function(t){return t&&(t.host||kN(t.parentNode))},gq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},yq=function(t,e,n,r){var i=gq(e,Array.isArray(t)?t:[t]);Kd[n]||(Kd[n]=new WeakMap);var s=Kd[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var g=f.getAttribute(r),w=g!==null&&g!=="false",v=(jo.get(f)||0)+1,b=(s.get(f)||0)+1;jo.set(f,v),s.set(f,b),o.push(f),v===1&&w&&Hd.set(f,!0),b===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",f,E)}})};return d(e),a.clear(),gg++,function(){o.forEach(function(h){var f=jo.get(h)-1,g=s.get(h)-1;jo.set(h,f),s.set(h,g),f||(Hd.has(h)||h.removeAttribute(r),Hd.delete(h)),g||h.removeAttribute(n)}),gg--,gg||(jo=new WeakMap,jo=new WeakMap,Hd=new WeakMap,Kd={})}},NN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=mq(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),yq(r,i,n,"aria-hidden")):function(){return null}},Ch="right-scroll-bar-position",Ah="width-before-scroll-bar",vq="with-scroll-bars-hidden",wq="--removed-body-scroll-bar-size";function yg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _q(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var xq=typeof window<"u"?y.useLayoutEffect:y.useEffect,Zb=new WeakMap;function Eq(t,e){var n=_q(null,function(r){return t.forEach(function(i){return yg(i,r)})});return xq(function(){var r=Zb.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||yg(a,null)}),s.forEach(function(a){i.has(a)||yg(a,o)})}Zb.set(n,t)},[t]),n}function bq(t){return t}function Tq(t,e){e===void 0&&(e=bq);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function Iq(t){t===void 0&&(t={});var e=Tq(null);return e.options=yr({async:!0,ssr:!1},t),e}var DN=function(t){var e=t.sideCar,n=Fu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,yr({},n))};DN.isSideCarExport=!0;function Sq(t,e){return t.useMedium(e),DN}var MN=Iq(),vg=function(){},Qp=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:vg,onWheelCapture:vg,onTouchMoveCapture:vg}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,g=t.noIsolation,w=t.inert,v=t.allowPinchZoom,b=t.as,E=b===void 0?"div":b,x=t.gapMode,I=Fu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=f,M=Eq([n,e]),O=yr(yr({},I),i);return y.createElement(y.Fragment,null,d&&y.createElement(D,{sideCar:MN,removeScrollBar:c,shards:h,noIsolation:g,inert:w,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:x}),o?y.cloneElement(y.Children.only(a),yr(yr({},O),{ref:M})):y.createElement(E,yr({},O,{className:l,ref:M}),a))});Qp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qp.classNames={fullWidth:Ah,zeroRight:Ch};var Cq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Aq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Cq();return e&&t.setAttribute("nonce",e),t}function Pq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Rq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Aq())&&(Pq(e,n),Rq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Nq=function(){var t=kq();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ON=function(){var t=Nq(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Dq={left:0,top:0,right:0,gap:0},wg=function(t){return parseInt(t||"",10)||0},Mq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[wg(n),wg(r),wg(i)]},Oq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Dq;var e=Mq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Fq=ON(),_a="data-scroll-locked",Vq=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(_a,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ch,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ah,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ch," .").concat(Ch,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ah," .").concat(Ah,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_a,`] {
    `).concat(wq,": ").concat(a,`px;
  }
`)},eT=function(){var t=parseInt(document.body.getAttribute(_a)||"0",10);return isFinite(t)?t:0},Lq=function(){y.useEffect(function(){return document.body.setAttribute(_a,(eT()+1).toString()),function(){var t=eT()-1;t<=0?document.body.removeAttribute(_a):document.body.setAttribute(_a,t.toString())}},[])},jq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Lq();var s=y.useMemo(function(){return Oq(i)},[i]);return y.createElement(Fq,{styles:Vq(s,!e,i,n?"":"!important")})},dv=!1;if(typeof window<"u")try{var Gd=Object.defineProperty({},"passive",{get:function(){return dv=!0,!0}});window.addEventListener("test",Gd,Gd),window.removeEventListener("test",Gd,Gd)}catch{dv=!1}var Bo=dv?{passive:!1}:!1,Bq=function(t){return t.tagName==="TEXTAREA"},FN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Bq(t)&&n[e]==="visible")},Uq=function(t){return FN(t,"overflowY")},$q=function(t){return FN(t,"overflowX")},tT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=VN(t,r);if(i){var s=LN(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},qq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VN=function(t,e){return t==="v"?Uq(e):$q(e)},LN=function(t,e){return t==="v"?zq(e):qq(e)},Wq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Hq=function(t,e,n,r,i){var s=Wq(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,f=0;do{var g=LN(t,a),w=g[0],v=g[1],b=g[2],E=v-b-s*w;(w||E)&&VN(t,a)&&(h+=E,f+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(c=!0),c},Qd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nT=function(t){return[t.deltaX,t.deltaY]},rT=function(t){return t&&"current"in t?t.current:t},Kq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Gq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Qq=0,Uo=[];function Yq(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(Qq++)[0],s=y.useState(ON)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=_6([t.lockRef.current],(t.shards||[]).map(rT),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var E=Qd(v),x=n.current,I="deltaX"in v?v.deltaX:x[0]-E[0],D="deltaY"in v?v.deltaY:x[1]-E[1],M,O=v.target,S=Math.abs(I)>Math.abs(D)?"h":"v";if("touches"in v&&S==="h"&&O.type==="range")return!1;var T=tT(S,O);if(!T)return!0;if(T?M=S:(M=S==="v"?"h":"v",T=tT(S,O)),!T)return!1;if(!r.current&&"changedTouches"in v&&(I||D)&&(r.current=M),!M)return!0;var C=r.current||M;return Hq(C,b,v,C==="h"?I:D,!0)},[]),l=y.useCallback(function(v){var b=v;if(!(!Uo.length||Uo[Uo.length-1]!==s)){var E="deltaY"in b?nT(b):Qd(b),x=e.current.filter(function(M){return M.name===b.type&&(M.target===b.target||b.target===M.shadowParent)&&Kq(M.delta,E)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var I=(o.current.shards||[]).map(rT).filter(Boolean).filter(function(M){return M.contains(b.target)}),D=I.length>0?a(b,I[0]):!o.current.noIsolation;D&&b.cancelable&&b.preventDefault()}}},[]),c=y.useCallback(function(v,b,E,x){var I={name:v,delta:b,target:E,should:x,shadowParent:Xq(E)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(D){return D!==I})},1)},[]),d=y.useCallback(function(v){n.current=Qd(v),r.current=void 0},[]),h=y.useCallback(function(v){c(v.type,nT(v),v.target,a(v,t.lockRef.current))},[]),f=y.useCallback(function(v){c(v.type,Qd(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return Uo.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Bo),document.addEventListener("touchmove",l,Bo),document.addEventListener("touchstart",d,Bo),function(){Uo=Uo.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Bo),document.removeEventListener("touchmove",l,Bo),document.removeEventListener("touchstart",d,Bo)}},[]);var g=t.removeScrollBar,w=t.inert;return y.createElement(y.Fragment,null,w?y.createElement(s,{styles:Gq(i)}):null,g?y.createElement(jq,{gapMode:t.gapMode}):null)}function Xq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Jq=Sq(MN,Yq);var Kw=y.forwardRef(function(t,e){return y.createElement(Qp,yr({},t,{ref:e,sideCar:Jq}))});Kw.classNames=Qp.classNames;var hv=["Enter"," "],Zq=["ArrowDown","PageUp","Home"],jN=["ArrowUp","PageDown","End"],eW=[...Zq,...jN],tW={ltr:[...hv,"ArrowRight"],rtl:[...hv,"ArrowLeft"]},nW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qu="Menu",[Eu,rW,iW]=d0(Qu),[So,BN]=il(Qu,[iW,lp,SN]),Yp=lp(),UN=SN(),[sW,Co]=So(Qu),[oW,Yu]=So(Qu),$N=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=Yp(e),[l,c]=y.useState(null),d=y.useRef(!1),h=Wt(s),f=EN(i);return y.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),p.jsx(K4,{...a,children:p.jsx(sW,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:p.jsx(oW,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};$N.displayName=Qu;var aW="MenuAnchor",Gw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Yp(n);return p.jsx(HC,{...i,...r,ref:e})});Gw.displayName=aW;var Qw="MenuPortal",[lW,zN]=So(Qw,{forceMount:void 0}),qN=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Co(Qw,e);return p.jsx(lW,{scope:e,forceMount:n,children:p.jsx(Pr,{present:n||s.open,children:p.jsx(ep,{asChild:!0,container:i,children:r})})})};qN.displayName=Qw;var Ln="MenuContent",[cW,Yw]=So(Ln),WN=y.forwardRef((t,e)=>{const n=zN(Ln,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Co(Ln,t.__scopeMenu),o=Yu(Ln,t.__scopeMenu);return p.jsx(Eu.Provider,{scope:t.__scopeMenu,children:p.jsx(Pr,{present:r||s.open,children:p.jsx(Eu.Slot,{scope:t.__scopeMenu,children:o.modal?p.jsx(uW,{...i,ref:e}):p.jsx(dW,{...i,ref:e})})})})}),uW=y.forwardRef((t,e)=>{const n=Co(Ln,t.__scopeMenu),r=y.useRef(null),i=lt(e,r);return y.useEffect(()=>{const s=r.current;if(s)return NN(s)},[]),p.jsx(Xw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),dW=y.forwardRef((t,e)=>{const n=Co(Ln,t.__scopeMenu);return p.jsx(Xw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Xw=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:g,disableOutsideScroll:w,...v}=t,b=Co(Ln,n),E=Yu(Ln,n),x=Yp(n),I=UN(n),D=rW(n),[M,O]=y.useState(null),S=y.useRef(null),T=lt(e,S,b.onContentChange),C=y.useRef(0),N=y.useRef(""),k=y.useRef(0),R=y.useRef(null),P=y.useRef("right"),U=y.useRef(0),ne=w?Kw:y.Fragment,Z=w?{as:ro,allowPinchZoom:!0}:void 0,oe=B=>{var pe,Ce;const Y=N.current+B,G=D().filter(Te=>!Te.disabled),J=document.activeElement,ee=(pe=G.find(Te=>Te.ref.current===J))==null?void 0:pe.textValue,fe=G.map(Te=>Te.textValue),Se=bW(fe,Y,ee),le=(Ce=G.find(Te=>Te.textValue===Se))==null?void 0:Ce.ref.current;(function Te(Ue){N.current=Ue,window.clearTimeout(C.current),Ue!==""&&(C.current=window.setTimeout(()=>Te(""),1e3))})(Y),le&&setTimeout(()=>le.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),bN();const L=y.useCallback(B=>{var G,J;return P.current===((G=R.current)==null?void 0:G.side)&&IW(B,(J=R.current)==null?void 0:J.area)},[]);return p.jsx(cW,{scope:n,searchRef:N,onItemEnter:y.useCallback(B=>{L(B)&&B.preventDefault()},[L]),onItemLeave:y.useCallback(B=>{var Y;L(B)||((Y=S.current)==null||Y.focus(),O(null))},[L]),onTriggerLeave:y.useCallback(B=>{L(B)&&B.preventDefault()},[L]),pointerGraceTimerRef:k,onPointerGraceIntentChange:y.useCallback(B=>{R.current=B},[]),children:p.jsx(ne,{...Z,children:p.jsx(Hw,{asChild:!0,trapped:i,onMountAutoFocus:se(s,B=>{var Y;B.preventDefault(),(Y=S.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:p.jsx(Du,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:g,children:p.jsx(fq,{asChild:!0,...I,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:O,onEntryFocus:se(l,B=>{E.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(KC,{role:"menu","aria-orientation":"vertical","data-state":a2(b.open),"data-radix-menu-content":"",dir:E.dir,...x,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:se(v.onKeyDown,B=>{const G=B.target.closest("[data-radix-menu-content]")===B.currentTarget,J=B.ctrlKey||B.altKey||B.metaKey,ee=B.key.length===1;G&&(B.key==="Tab"&&B.preventDefault(),!J&&ee&&oe(B.key));const fe=S.current;if(B.target!==fe||!eW.includes(B.key))return;B.preventDefault();const le=D().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);jN.includes(B.key)&&le.reverse(),xW(le)}),onBlur:se(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(C.current),N.current="")}),onPointerMove:se(t.onPointerMove,bu(B=>{const Y=B.target,G=U.current!==B.clientX;if(B.currentTarget.contains(Y)&&G){const J=B.clientX>U.current?"right":"left";P.current=J,U.current=B.clientX}}))})})})})})})});WN.displayName=Ln;var hW="MenuGroup",Jw=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Re.div,{role:"group",...r,ref:e})});Jw.displayName=hW;var fW="MenuLabel",HN=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Re.div,{...r,ref:e})});HN.displayName=fW;var Df="MenuItem",iT="menu.itemSelect",Xp=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=y.useRef(null),o=Yu(Df,t.__scopeMenu),a=Yw(Df,t.__scopeMenu),l=lt(e,s),c=y.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const f=new CustomEvent(iT,{bubbles:!0,cancelable:!0});h.addEventListener(iT,g=>r==null?void 0:r(g),{once:!0}),h0(h,f),f.defaultPrevented?c.current=!1:o.onClose()}};return p.jsx(KN,{...i,ref:l,disabled:n,onClick:se(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),c.current=!0},onPointerUp:se(t.onPointerUp,h=>{var f;c.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:se(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||hv.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Xp.displayName=Df;var KN=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Yw(Df,n),a=UN(n),l=y.useRef(null),c=lt(e,l),[d,h]=y.useState(!1),[f,g]=y.useState("");return y.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[s.children]),p.jsx(Eu.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:p.jsx(pq,{asChild:!0,...a,focusable:!r,children:p.jsx(Re.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:se(t.onPointerMove,bu(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,bu(w=>o.onItemLeave(w))),onFocus:se(t.onFocus,()=>h(!0)),onBlur:se(t.onBlur,()=>h(!1))})})})}),pW="MenuCheckboxItem",GN=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return p.jsx(ZN,{scope:t.__scopeMenu,checked:n,children:p.jsx(Xp,{role:"menuitemcheckbox","aria-checked":Mf(n)?"mixed":n,...i,ref:e,"data-state":e_(n),onSelect:se(i.onSelect,()=>r==null?void 0:r(Mf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});GN.displayName=pW;var QN="MenuRadioGroup",[mW,gW]=So(QN,{value:void 0,onValueChange:()=>{}}),YN=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Wt(r);return p.jsx(mW,{scope:t.__scopeMenu,value:n,onValueChange:s,children:p.jsx(Jw,{...i,ref:e})})});YN.displayName=QN;var XN="MenuRadioItem",JN=y.forwardRef((t,e)=>{const{value:n,...r}=t,i=gW(XN,t.__scopeMenu),s=n===i.value;return p.jsx(ZN,{scope:t.__scopeMenu,checked:s,children:p.jsx(Xp,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":e_(s),onSelect:se(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});JN.displayName=XN;var Zw="MenuItemIndicator",[ZN,yW]=So(Zw,{checked:!1}),e2=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=yW(Zw,n);return p.jsx(Pr,{present:r||Mf(s.checked)||s.checked===!0,children:p.jsx(Re.span,{...i,ref:e,"data-state":e_(s.checked)})})});e2.displayName=Zw;var vW="MenuSeparator",t2=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});t2.displayName=vW;var wW="MenuArrow",n2=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Yp(n);return p.jsx(GC,{...i,...r,ref:e})});n2.displayName=wW;var _W="MenuSub",[BG,r2]=So(_W),dc="MenuSubTrigger",i2=y.forwardRef((t,e)=>{const n=Co(dc,t.__scopeMenu),r=Yu(dc,t.__scopeMenu),i=r2(dc,t.__scopeMenu),s=Yw(dc,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),p.jsx(Gw,{asChild:!0,...c,children:p.jsx(KN,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":a2(n.open),...t,ref:Zf(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,bu(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(t.onPointerLeave,bu(h=>{var g,w;d();const f=(g=n.content)==null?void 0:g.getBoundingClientRect();if(f){const v=(w=n.content)==null?void 0:w.dataset.side,b=v==="right",E=b?-5:5,x=f[b?"left":"right"],I=f[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+E,y:h.clientY},{x,y:f.top},{x:I,y:f.top},{x:I,y:f.bottom},{x,y:f.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,h=>{var g;const f=s.searchRef.current!=="";t.disabled||f&&h.key===" "||tW[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});i2.displayName=dc;var s2="MenuSubContent",o2=y.forwardRef((t,e)=>{const n=zN(Ln,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Co(Ln,t.__scopeMenu),o=Yu(Ln,t.__scopeMenu),a=r2(s2,t.__scopeMenu),l=y.useRef(null),c=lt(e,l);return p.jsx(Eu.Provider,{scope:t.__scopeMenu,children:p.jsx(Pr,{present:r||s.open,children:p.jsx(Eu.Slot,{scope:t.__scopeMenu,children:p.jsx(Xw,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:se(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),f=nW[o.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});o2.displayName=s2;function a2(t){return t?"open":"closed"}function Mf(t){return t==="indeterminate"}function e_(t){return Mf(t)?"indeterminate":t?"checked":"unchecked"}function xW(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function EW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function bW(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=EW(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function TW(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function IW(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return TW(n,e)}function bu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var SW=$N,CW=Gw,AW=qN,PW=WN,RW=Jw,kW=HN,NW=Xp,DW=GN,MW=YN,OW=JN,FW=e2,VW=t2,LW=n2,jW=i2,BW=o2,t_="DropdownMenu",[UW,UG]=il(t_,[BN]),nn=BN(),[$W,l2]=UW(t_),c2=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=nn(e),c=y.useRef(null),[d=!1,h]=tp({prop:i,defaultProp:s,onChange:o});return p.jsx($W,{scope:e,triggerId:fa(),triggerRef:c,contentId:fa(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:a,children:p.jsx(SW,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};c2.displayName=t_;var u2="DropdownMenuTrigger",d2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=l2(u2,n),o=nn(n);return p.jsx(CW,{asChild:!0,...o,children:p.jsx(Re.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Zf(e,s.triggerRef),onPointerDown:se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});d2.displayName=u2;var zW="DropdownMenuPortal",h2=t=>{const{__scopeDropdownMenu:e,...n}=t,r=nn(e);return p.jsx(AW,{...r,...n})};h2.displayName=zW;var f2="DropdownMenuContent",p2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=l2(f2,n),s=nn(n),o=y.useRef(!1);return p.jsx(PW,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:se(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});p2.displayName=f2;var qW="DropdownMenuGroup",WW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(RW,{...i,...r,ref:e})});WW.displayName=qW;var HW="DropdownMenuLabel",m2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(kW,{...i,...r,ref:e})});m2.displayName=HW;var KW="DropdownMenuItem",g2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(NW,{...i,...r,ref:e})});g2.displayName=KW;var GW="DropdownMenuCheckboxItem",y2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(DW,{...i,...r,ref:e})});y2.displayName=GW;var QW="DropdownMenuRadioGroup",YW=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(MW,{...i,...r,ref:e})});YW.displayName=QW;var XW="DropdownMenuRadioItem",v2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(OW,{...i,...r,ref:e})});v2.displayName=XW;var JW="DropdownMenuItemIndicator",w2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(FW,{...i,...r,ref:e})});w2.displayName=JW;var ZW="DropdownMenuSeparator",_2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(VW,{...i,...r,ref:e})});_2.displayName=ZW;var eH="DropdownMenuArrow",tH=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(LW,{...i,...r,ref:e})});tH.displayName=eH;var nH="DropdownMenuSubTrigger",x2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(jW,{...i,...r,ref:e})});x2.displayName=nH;var rH="DropdownMenuSubContent",E2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nn(n);return p.jsx(BW,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E2.displayName=rH;var iH=c2,sH=d2,oH=h2,b2=p2,T2=m2,I2=g2,S2=y2,C2=v2,A2=w2,P2=_2,R2=x2,k2=E2;const aH=iH,lH=sH,cH=y.forwardRef(({className:t,inset:e,children:n,...r},i)=>p.jsxs(R2,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,p.jsx(yC,{className:"ml-auto h-4 w-4"})]}));cH.displayName=R2.displayName;const uH=y.forwardRef(({className:t,...e},n)=>p.jsx(k2,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));uH.displayName=k2.displayName;const N2=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(oH,{children:p.jsx(b2,{ref:r,sideOffset:e,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));N2.displayName=b2.displayName;const fv=y.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(I2,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));fv.displayName=I2.displayName;const dH=y.forwardRef(({className:t,children:e,checked:n,...r},i)=>p.jsxs(S2,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(A2,{children:p.jsx(yV,{className:"h-4 w-4"})})}),e]}));dH.displayName=S2.displayName;const hH=y.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(C2,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(A2,{children:p.jsx(wV,{className:"h-2 w-2 fill-current"})})}),e]}));hH.displayName=C2.displayName;const D2=y.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(T2,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));D2.displayName=T2.displayName;const pv=y.forwardRef(({className:t,...e},n)=>p.jsx(P2,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));pv.displayName=P2.displayName;function sT({user:t}){var n;const e=async()=>{try{await D7()}catch(r){console.error("Error signing out:",r)}};return p.jsxs(aH,{children:[p.jsx(lH,{asChild:!0,children:p.jsx(on,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:p.jsx(wN,{className:"h-8 w-8",children:t.photoURL?p.jsx(_N,{src:t.photoURL,alt:t.displayName||"User"}):p.jsx(xN,{children:t.displayName?t.displayName.charAt(0).toUpperCase():(n=t.email)==null?void 0:n.charAt(0).toUpperCase()})})})}),p.jsxs(N2,{className:"w-56",align:"end",forceMount:!0,children:[p.jsx(D2,{className:"font-normal",children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium leading-none",children:t.displayName||"User"}),p.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),p.jsx(pv,{}),p.jsx(fv,{asChild:!0,children:p.jsxs(V5,{to:"/orders",className:"flex items-center w-full",children:[p.jsx(Jc,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"My Orders"})]})}),p.jsx(pv,{}),p.jsxs(fv,{onClick:e,children:[p.jsx(xV,{className:"mr-2 h-4 w-4"}),p.jsx("span",{children:"Log out"})]})]})]})}const oT=[{name:"Home",href:"#hero"},{name:"Products",href:"#products"},{name:"About",href:"#about"},{name:"Contact",href:"#contact"}];function fH({onCartClick:t}){const[e,n]=y.useState(!1),{currentUser:r,loading:i}=Kp(),{getCartCount:s}=$7(),o=s();return p.jsxs("nav",{className:"w-full bg-[#F9F7F1] sticky top-0 z-50 shadow-lg rounded-b-2xl flex items-center justify-center px-4 md:px-8 py-2 border-b-4 border-[#FF6B35] font-sans relative",children:[p.jsxs("div",{className:"lg:hidden w-full flex items-center justify-between gap-x-4",children:[p.jsx("div",{className:"pl-2",children:p.jsx("button",{onClick:()=>n(!e),className:"p-2","aria-label":e?"Close menu":"Open menu",children:e?p.jsx(sl,{className:"h-6 w-6 text-[#2F2F2F]"}):p.jsx(EV,{className:"h-6 w-6 text-[#2F2F2F]"})})}),p.jsx("div",{className:"text-lg font-playfair text-[#FF6B35] font-bold px-2",style:{letterSpacing:"0.02em"},children:p.jsx("a",{href:"#hero",className:"hover:text-[#D7263D] transition-colors duration-150",children:"Shree Mahalaxmi Food Products"})}),p.jsxs("div",{className:"flex items-center gap-2 pr-2",children:[p.jsxs("button",{onClick:t,className:"relative p-2 text-[#2F2F2F] hover:text-[#D7263D] transition-colors","aria-label":"View cart",children:[p.jsx(Jc,{className:"h-5 w-5"}),o>0&&p.jsx("span",{className:"absolute -top-1 -right-1 bg-[#D7263D] text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:o>9?"9+":o})]}),i?p.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}):r?p.jsx(sT,{user:r}):p.jsx(Kb,{})]})]}),p.jsxs("div",{className:"hidden lg:flex w-full items-center justify-between relative overflow-x-auto",children:[p.jsx("div",{children:p.jsx("div",{className:"text-xl md:text-2xl font-playfair text-[#FF6B35] font-bold",style:{letterSpacing:"0.02em"},children:p.jsx("a",{href:"#hero",className:"hover:text-[#D7263D] transition-colors duration-150",children:"Shree Mahalaxmi Food Products"})})}),p.jsx("ul",{className:"flex items-center gap-6 xl:gap-8 text-base xl:text-lg font-medium absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:oT.map(a=>p.jsx("li",{children:p.jsx("a",{href:a.href,className:"hover:text-[#D7263D] transition-colors duration-150 text-[#2F2F2F]",children:a.name})},a.name))}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("button",{onClick:t,className:"relative p-2 text-[#2F2F2F] hover:text-[#D7263D] transition-colors","aria-label":`View cart (${o} items)`,children:[p.jsx(Jc,{className:"h-6 w-6"}),o>0&&p.jsx("span",{className:"absolute -top-1 -right-1 bg-[#D7263D] text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:o>9?"9+":o})]}),i?p.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 animate-pulse"}):r?p.jsx(sT,{user:r}):p.jsx(Kb,{})]})]}),e&&p.jsx("div",{className:"lg:hidden absolute top-full left-0 w-full bg-[#F9F7F1] shadow-lg rounded-b-2xl border-b-4 border-[#FF6B35] py-4",children:p.jsx("ul",{className:"flex flex-col items-center gap-4",children:oT.map(a=>p.jsx("li",{children:p.jsx("a",{href:a.href,className:"text-lg font-medium text-[#2F2F2F] hover:text-[#D7263D] transition-colors",onClick:()=>n(!1),children:a.name})},a.name))})})]})}function pH({onShop:t}){return p.jsx("section",{id:"hero",className:"relative w-full flex flex-col items-center justify-center h-screen bg-gradient-to-br from-[#F9F7F1] via-[#FF6B35]/5 to-[#F9F7F1] text-[#2F2F2F] overflow-hidden text-center mx-auto",children:p.jsxs("div",{className:"relative z-20 text-center max-w-4xl mx-auto px-4 flex flex-col items-center justify-center h-full -mt-20",children:[p.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-playfair font-bold mb-8 text-[#2F2F2F] mx-auto text-center","data-aos":"fade-down","data-aos-delay":"200",children:"Tradition in Every Taste"}),p.jsx("p",{className:"text-xl md:text-2xl mb-10 text-[#2F2F2F]/90 max-w-2xl mx-auto text-center","data-aos":"fade-up","data-aos-delay":"400",children:"Experience the rich flavors of traditional Indian masalas, carefully crafted to elevate your culinary creations."}),p.jsx("button",{onClick:t,className:"bg-[#FF6B35] text-[#F9F7F1] px-10 py-4 rounded-full text-xl font-bold transition-all duration-300 hover:bg-[#D7263D] hover:scale-105 shadow-lg mx-auto block","data-aos":"zoom-in","data-aos-delay":"600",children:"Shop Now"})]})})}function aT({product:t,onAddToCart:e,onViewProduct:n}){const[r,i]=H.useState(t.image);return p.jsxs("div",{className:"bg-[#F9F7F1] rounded-3xl border-2 border-[#FF6B35]/20 flex flex-col transition-all duration-300 hover:scale-105 group relative overflow-hidden cursor-pointer",onClick:()=>n(t),children:[p.jsxs("div",{className:"relative overflow-hidden",children:[p.jsx("img",{src:r,alt:`Masala product: ${t.title}`,className:"h-56 w-full object-cover bg-[#F9F7F1] transition-transform duration-300 group-hover:scale-110",onError:()=>i("/placeholder.svg")}),t.badge&&p.jsx("span",{className:"absolute top-3 left-3 bg-[#6FBF73] text-white text-xs font-semibold px-3 py-1 rounded-full z-10 uppercase tracking-widest transition-transform duration-300 group-hover:scale-110",children:t.badge})]}),p.jsxs("div",{className:"flex-1 flex flex-col gap-2 p-5",children:[p.jsx("h3",{className:"font-playfair text-xl font-bold mb-1 group-hover:text-[#FF6B35] text-[#2F2F2F] transition-colors duration-300",children:t.title}),p.jsx("p",{className:"text-sm text-[#2F2F2F] mb-2 leading-tight transition-opacity duration-300 group-hover:opacity-80",children:t.description}),p.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[p.jsxs("span",{className:"text-lg font-bold text-[#FF6B35] transition-transform duration-300 group-hover:scale-110",children:["",t.price.toFixed(2)]}),p.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),e(t)},className:"px-4 py-1 rounded-full bg-[#D7263D] text-[#F9F7F1] font-bold transition-all duration-300 hover:bg-[#FF6B35] hover:scale-110 border-2 border-[#D7263D] hover:border-[#FF6B35]","aria-label":`Add ${t.title} to cart`,children:"Add to Cart"})]})]})]})}var n_="Dialog",[M2,$G]=il(n_),[mH,or]=M2(n_),O2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c=!1,d]=tp({prop:r,defaultProp:i,onChange:s});return p.jsx(mH,{scope:e,triggerRef:a,contentRef:l,contentId:fa(),titleId:fa(),descriptionId:fa(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};O2.displayName=n_;var F2="DialogTrigger",gH=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=or(F2,n),s=lt(e,i.triggerRef);return p.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":s_(i.open),...r,ref:s,onClick:se(t.onClick,i.onOpenToggle)})});gH.displayName=F2;var r_="DialogPortal",[yH,V2]=M2(r_,{forceMount:void 0}),L2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=or(r_,e);return p.jsx(yH,{scope:e,forceMount:n,children:y.Children.map(r,o=>p.jsx(Pr,{present:n||s.open,children:p.jsx(ep,{asChild:!0,container:i,children:o})}))})};L2.displayName=r_;var Of="DialogOverlay",j2=y.forwardRef((t,e)=>{const n=V2(Of,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=or(Of,t.__scopeDialog);return s.modal?p.jsx(Pr,{present:r||s.open,children:p.jsx(vH,{...i,ref:e})}):null});j2.displayName=Of;var vH=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=or(Of,n);return p.jsx(Kw,{as:ro,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(Re.div,{"data-state":s_(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),vo="DialogContent",B2=y.forwardRef((t,e)=>{const n=V2(vo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=or(vo,t.__scopeDialog);return p.jsx(Pr,{present:r||s.open,children:s.modal?p.jsx(wH,{...i,ref:e}):p.jsx(_H,{...i,ref:e})})});B2.displayName=vo;var wH=y.forwardRef((t,e)=>{const n=or(vo,t.__scopeDialog),r=y.useRef(null),i=lt(e,n.contentRef,r);return y.useEffect(()=>{const s=r.current;if(s)return NN(s)},[]),p.jsx(U2,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:se(t.onFocusOutside,s=>s.preventDefault())})}),_H=y.forwardRef((t,e)=>{const n=or(vo,t.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return p.jsx(U2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),U2=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=or(vo,n),l=y.useRef(null),c=lt(e,l);return bN(),p.jsxs(p.Fragment,{children:[p.jsx(Hw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(Du,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":s_(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(xH,{titleId:a.titleId}),p.jsx(bH,{contentRef:l,descriptionId:a.descriptionId})]})]})}),i_="DialogTitle",$2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=or(i_,n);return p.jsx(Re.h2,{id:i.titleId,...r,ref:e})});$2.displayName=i_;var z2="DialogDescription",q2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=or(z2,n);return p.jsx(Re.p,{id:i.descriptionId,...r,ref:e})});q2.displayName=z2;var W2="DialogClose",H2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=or(W2,n);return p.jsx(Re.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>i.onOpenChange(!1))})});H2.displayName=W2;function s_(t){return t?"open":"closed"}var K2="DialogTitleWarning",[zG,G2]=kF(K2,{contentName:vo,titleName:i_,docsSlug:"dialog"}),xH=({titleId:t})=>{const e=G2(K2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},EH="DialogDescriptionWarning",bH=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${G2(EH).contentName}}.`;return y.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},TH=O2,IH=L2,Q2=j2,Y2=B2,X2=$2,J2=q2,SH=H2;const CH=TH,AH=IH,Z2=y.forwardRef(({className:t,...e},n)=>p.jsx(Q2,{ref:n,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Z2.displayName=Q2.displayName;const eD=y.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(AH,{children:[p.jsx(Z2,{}),p.jsxs(Y2,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(SH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(sl,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eD.displayName=Y2.displayName;const PH=y.forwardRef(({className:t,...e},n)=>p.jsx(X2,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));PH.displayName=X2.displayName;const tD=y.forwardRef(({className:t,...e},n)=>p.jsx(J2,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));tD.displayName=J2.displayName;function nD({rating:t,onChange:e,readonly:n=!1}){const r=Array.from({length:5},(i,s)=>s+1);return p.jsx("div",{className:"flex items-center gap-1",children:r.map(i=>p.jsx("button",{type:"button",onClick:()=>e==null?void 0:e(i),disabled:n,className:`text-xl ${n?"cursor-default":"cursor-pointer"}`,children:i<=t?p.jsx("span",{className:"text-[#FF6B35]",children:""}):p.jsx("span",{className:"text-[#FF6B35]/30",children:""})},i))})}function RH({onSubmit:t,onCancel:e}){const[n,r]=y.useState({name:"",rating:5,comment:""}),[i,s]=y.useState(!1),o=async a=>{if(a.preventDefault(),!(!n.name.trim()||!n.comment.trim())){s(!0);try{await t(n),r({name:"",rating:5,comment:""})}catch(l){console.error("Error submitting review:",l)}finally{s(!1)}}};return p.jsxs("form",{onSubmit:o,className:"bg-[#F9F7F1] p-6 rounded-xl shadow-lg border-2 border-[#FF6B35]/20",children:[p.jsx("h3",{className:"text-2xl font-playfair font-bold mb-4 text-[#2F2F2F]",children:"Write a Review"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[#2F2F2F] mb-1",children:"Your Name"}),p.jsx("input",{type:"text",id:"name",required:!0,value:n.name,onChange:a=>r(l=>({...l,name:a.target.value})),className:"w-full px-4 py-2 rounded-lg border border-[#6FBF73] focus:outline-none focus:ring-2 focus:ring-[#FF6B35] bg-white text-[#2F2F2F]"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-[#2F2F2F] mb-1",children:"Rating"}),p.jsx(nD,{rating:n.rating,onChange:a=>r(l=>({...l,rating:a}))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-[#2F2F2F] mb-1",children:"Your Review"}),p.jsx("textarea",{id:"comment",required:!0,value:n.comment,onChange:a=>r(l=>({...l,comment:a.target.value})),rows:4,className:"w-full px-4 py-2 rounded-lg border border-[#6FBF73] focus:outline-none focus:ring-2 focus:ring-[#FF6B35] bg-white text-[#2F2F2F] resize-none",placeholder:"Share your experience with our products..."})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-[#D7263D] text-[#F9F7F1] py-2 rounded-full font-bold hover:bg-[#FF6B35] transition-colors duration-200 disabled:opacity-50",children:i?"Submitting...":"Submit Review"}),p.jsx("button",{type:"button",onClick:e,disabled:i,className:"px-6 py-2 rounded-full border-2 border-[#FF6B35] text-[#2F2F2F] hover:bg-[#FF6B35]/10 transition-colors duration-200 disabled:opacity-50",children:"Cancel"})]})]})]})}function kH({review:t}){const e=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return p.jsxs("div",{className:"bg-[#F9F7F1] p-4 rounded-xl shadow-lg border-2 border-[#FF6B35]/20",children:[p.jsxs("div",{className:"flex items-start justify-between gap-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-bold text-lg text-[#2F2F2F] mb-1",children:t.userName}),p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(nD,{rating:t.rating,readonly:!0}),p.jsx("span",{className:"text-sm text-[#FF6B35] font-medium",children:e(t.createdAt)})]}),p.jsx("p",{className:"text-[#2F2F2F] text-sm leading-relaxed",children:t.comment})]}),t.verified&&p.jsx("span",{className:"bg-[#6FBF73] text-white text-xs px-2 py-1 rounded-full font-medium",children:"Verified Purchase"})]}),t.response&&p.jsx("div",{className:"mt-3 pl-4 border-l-2 border-[#FF6B35]",children:p.jsxs("p",{className:"text-sm text-[#2F2F2F]",children:[p.jsx("span",{className:"font-semibold text-[#FF6B35]",children:"Response from Shree Mahalaxmi:"}),p.jsx("br",{}),t.response]})})]})}function NH({reviews:t}){if(!(t!=null&&t.length))return p.jsx("div",{className:"text-center py-8 text-gray-500",children:"No reviews yet. Be the first to review!"});const e=t.reduce((n,r)=>n+r.rating,0)/t.length;return p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"text-4xl font-bold text-brand-gold",children:e.toFixed(1)}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"text-sm text-gray-500",children:["Based on ",t.length," review",t.length!==1?"s":""]}),p.jsx("div",{className:"h-2 bg-gray-100 rounded-full mt-2",children:p.jsx("div",{className:"h-full bg-brand-gold rounded-full",style:{width:`${e/5*100}%`}})})]})]})}),p.jsx("div",{className:"space-y-4",children:t.map(n=>p.jsx(kH,{review:n},n.id))})]})}function DH({product:t,open:e,onClose:n,onAddToCart:r,reviews:i,onAddReview:s}){if(!t)return null;const[o,a]=H.useState(t.image),[l,c]=y.useState(1),[d,h]=y.useState(!1),f=()=>{r(t,l),c(1)},g=w=>{s({rating:w.rating,comment:w.comment,userName:w.name}),h(!1)};return p.jsx(CH,{open:e,onOpenChange:n,children:p.jsxs(eD,{className:`w-full h-[100dvh] max-w-full max-h-[100dvh] p-0 animate-scale-in rounded-none shadow-none border-0 mx-0 bg-[#F9F7F1]
        sm:max-w-4xl sm:h-[90vh] sm:!rounded-[25px] sm:overflow-hidden sm:shadow-2xl sm:border sm:border-[#FF6B35] sm:mx-4 sm:p-0`,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:[p.jsxs(tD,{className:"sr-only",children:["Product details and reviews for ",t.title]}),p.jsxs("div",{className:"relative h-full flex flex-col min-h-0 w-full overflow-y-auto sm:overflow-visible",style:{maxHeight:"100dvh"},children:[p.jsx("button",{onClick:n,className:"absolute top-2 right-2 md:top-4 md:right-4 z-10 bg-[#F9F7F1]/80 hover:bg-[#F9F7F1] rounded-full p-2 transition-colors",children:p.jsx(sl,{className:"h-4 w-4 md:h-5 md:w-5 text-[#2F2F2F]"})}),p.jsxs("div",{className:"flex-1 min-h-0 h-full flex flex-col lg:grid lg:grid-cols-[1fr_1.5fr] gap-0",children:[p.jsxs("div",{className:"relative h-64 sm:h-80 lg:h-[32rem] lg:min-h-[32rem] lg:max-h-[32rem] w-full lg:w-auto flex-shrink-0 bg-[#F9F7F1]",children:[p.jsx("div",{className:"w-full h-full flex items-center justify-center",children:p.jsx("img",{src:o,alt:`Masala product: ${t.title}`,className:"max-w-full max-h-full object-contain",onError:()=>a("/placeholder.svg")})}),t.badge&&p.jsx("span",{className:"absolute top-2 left-2 md:top-4 md:left-4 bg-[#6FBF73] text-[#F9F7F1] text-xs md:text-sm font-semibold px-2 md:px-4 py-1 md:py-2 rounded-full shadow-lg uppercase tracking-widest",children:t.badge})]}),p.jsxs("div",{className:"flex flex-col h-full min-h-0 bg-[#F9F7F1] lg:border-l border-[#FF6B35]/20",children:[p.jsxs("div",{className:"p-4 md:p-6 border-b border-[#FF6B35]/20 flex-shrink-0",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-playfair font-bold text-[#2F2F2F] mb-4",children:t.title}),p.jsx("p",{className:"text-sm md:text-base text-[#2F2F2F]/80 leading-relaxed mb-6",children:t.description}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"text-2xl md:text-3xl font-bold text-[#FF6B35]",children:["",t.price.toFixed(2)]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:"font-semibold text-[#2F2F2F] text-sm md:text-base",children:"Perfect for:"}),p.jsxs("ul",{className:"text-[#2F2F2F]/80 space-y-1 text-sm md:text-base",children:[p.jsx("li",{children:" Traditional Indian cooking"}),p.jsx("li",{children:" Adding authentic flavors to any dish"}),p.jsx("li",{children:" Creating restaurant-quality meals at home"})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),c(Math.max(1,l-1))},className:"w-8 h-8 flex items-center justify-center rounded-full bg-[#D7263D] text-[#F9F7F1] font-bold hover:bg-[#FF6B35] transition-colors",children:"-"}),p.jsx("span",{className:"w-12 text-center font-bold text-[#2F2F2F]",children:l}),p.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),c(l+1)},className:"w-8 h-8 flex items-center justify-center rounded-full bg-[#D7263D] text-[#F9F7F1] font-bold hover:bg-[#FF6B35] transition-colors",children:"+"})]}),p.jsx("button",{onClick:f,className:"w-auto px-6 py-2 bg-[#D7263D] hover:bg-[#FF6B35] text-[#F9F7F1] font-bold rounded-xl transition-all duration-300 shadow-lg text-sm md:text-base touch-manipulation",children:"Add to Cart"})]})]})]}),p.jsxs("div",{className:"flex-1 min-h-0 p-4 md:p-6 sm:overflow-y-auto overflow-y-visible",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"text-xl font-bold text-[#2F2F2F]",children:"Reviews"}),p.jsx("button",{onClick:()=>h(!0),className:"text-[#D7263D] hover:text-[#FF6B35] font-medium transition-colors",children:"Write a Review"})]}),d?p.jsx(RH,{onSubmit:g,onCancel:()=>h(!1)}):p.jsx(NH,{reviews:i.filter(w=>w.productId===t.id)})]})]})]})]})]})})}const lT=[{id:"masala-1",title:"Pure Turmeric Powder",description:"A bold blend of roasted spicescoriander, cumin, cardamomperfect for any meal.",price:11.99,image:"/images/mahalaxmi-products.jpg",badge:"bestseller"},{id:"masala-2",title:" onion powder",description:"Smoky paprika, garlic, ginger; adds instant heat and depth to grilled dishes.",price:13.49,image:"https://images.unsplash.com/photo-1615485500704-8e990f9900f7?auto=format&fit=crop&w=800&q=80",badge:"NEW"},{id:"masala-3",title:"banana powder",description:"Sweet-tart, tangy, and aromatic masala for fruit, salads, or street-snack magic.",price:9.95,image:"https://images.unsplash.com/photo-1618160702438-9b02ab6515c9?auto=format&fit=crop&w=800&q=80"},{id:"masala-4",title:"apple powder",description:"Aromatic, creamy, expertly balanced for restaurant-style curries at home.",price:12.99,image:"https://images.unsplash.com/photo-1631515243349-e0cb75fb8d3a?auto=format&fit=crop&w=800&q=80"},{id:"masala-5",title:"tomato powder",description:"The perfect gift: try all five masalas in tasting tins. Limited time only!",price:44,image:"https://images.unsplash.com/photo-1596040033229-a9821ebd058d?auto=format&fit=crop&w=800&q=80",badge:"Popular"}];function MH({onAddToCart:t,reviews:e,onAddReview:n}){const[r,i]=H.useState(null),[s,o]=H.useState(!1),[a,l]=H.useState(0),[c,d]=H.useState(!1),h=H.useRef(null),f=x=>{i(x),o(!0)},g=()=>{o(!1),i(null)},w=x=>{console.log("ProductsGrid: Handling review for product",r==null?void 0:r.id,x),r&&n(r.id,x)},v=()=>{h.current&&h.current.scrollBy({left:-304,behavior:"smooth"})},b=()=>{h.current&&h.current.scrollBy({left:304,behavior:"smooth"})},E=()=>{if(h.current){const{scrollLeft:x,scrollWidth:I,clientWidth:D}=h.current;l(x),d(x>=I-D-5)}};return H.useEffect(()=>{const x=h.current;if(x)return E(),x.addEventListener("scroll",E),window.addEventListener("resize",E),x.scrollLeft=0,()=>{x.removeEventListener("scroll",E),window.removeEventListener("resize",E)}},[]),p.jsxs(p.Fragment,{children:[p.jsx("section",{id:"products",className:"w-full bg-[#F0F8FF] py-12 md:py-20 px-4",children:p.jsxs("div",{className:"container mx-auto max-w-7xl",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-playfair font-bold text-[#FFA500] text-center mb-8 md:mb-10 border-none no-underline","data-aos":"fade-down",children:"Our Masala Collection"}),p.jsxs("div",{className:"md:hidden relative",children:[p.jsx("button",{onClick:v,className:"absolute -left-4 top-1/2 -translate-y-1/2 z-10 bg-white text-[#FF6B35] rounded-full p-2 shadow-lg transition-all duration-200 hover:scale-110",style:{display:a>5?"flex":"none"},children:p.jsx(vV,{className:"h-6 w-6"})}),p.jsx("button",{onClick:b,className:"absolute -right-4 top-1/2 -translate-y-1/2 z-10 bg-white text-[#FF6B35] rounded-full p-2 shadow-lg transition-all duration-200 hover:scale-110",style:{display:c?"none":"flex"},children:p.jsx(yC,{className:"h-6 w-6"})}),p.jsx("div",{ref:h,className:"flex w-full gap-4 overflow-x-auto scrollbar-hide py-4 px-2 snap-x snap-mandatory",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:lT.map((x,I)=>p.jsx("div",{"data-aos":"fade-up","data-aos-delay":I*100,className:"flex-shrink-0 w-72 snap-center",children:p.jsx(aT,{product:x,onAddToCart:t,onViewProduct:f})},x.id))})]}),p.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:lT.map((x,I)=>p.jsx("div",{"data-aos":"fade-up","data-aos-delay":I*100,children:p.jsx(aT,{product:x,onAddToCart:t,onViewProduct:f})},x.id))})]})}),p.jsx(DH,{product:r,open:s,onClose:g,onAddToCart:t,reviews:e,onAddReview:w})]})}const OH=t=>typeof t=="string"?t:t.title,cT=t=>typeof t=="number"?t:t.price,FH=t=>typeof t=="string"?t:t.image;function VH({open:t,items:e=[],onUpdateQty:n,onRemove:r,onClose:i,onCheckout:s,loading:o=!1}){const[a,l]=y.useState(!1),{toast:c}=qS(),d=y.useRef([]),[h,f]=y.useState(null),[g,w]=y.useState(t),v=()=>e.reduce((S,T)=>S+cT(T.product)*T.quantity,0),b=()=>e.reduce((S,T)=>S+T.quantity,0),E=async()=>{l(!0);try{await s(),c({title:"Order placed successfully!",description:"Your order has been received and is being processed."}),i()}catch(S){console.error("Checkout error:",S),c({title:"Error",description:"There was an error processing your order. Please try again.",variant:"destructive"})}finally{l(!1)}},x=(S,T)=>{T<1||n(S,T)},I=S=>{r(S)};y.useEffect(()=>{t?w(!0):setTimeout(()=>w(!1),350)},[t]),y.useEffect(()=>{if(e.length>d.current.length){const S=e.find(T=>!d.current.some(C=>C.product.id===T.product.id&&C.quantity===T.quantity));S&&(f(S.product.id),setTimeout(()=>f(null),800))}d.current=[...e]},[e]);const D=S=>{S.target===S.currentTarget&&i()};if(y.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!g&&!t)return null;const M=v(),O=b();return!t&&e.length>0?p.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 w-full bg-[#FF6B35] border-2 border-[#FF6B35] rounded-none shadow-lg flex justify-between items-center px-3 md:px-4 py-2 animate-fade-in cursor-pointer hover:scale-105 transition duration-200 md:left-1/2 md:-translate-x-1/2 md:max-w-sm md:rounded-xl",onClick:()=>w(!0),"aria-label":"Open cart",tabIndex:0,role:"button",children:[p.jsxs("span",{className:"font-bold text-white text-sm md:text-base",children:[O," item",O!==1?"s":""]}),p.jsxs("span",{className:"text-white font-playfair font-bold text-lg",children:["",M.toFixed(2)]}),p.jsx("svg",{className:"ml-1",width:"20",height:"20",fill:"none",children:p.jsx("path",{d:"M6 8l4 4 4-4",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}):p.jsx("div",{className:`fixed inset-0 z-50 bg-black/50 transition-opacity duration-300 ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:D,children:p.jsx("div",{className:`fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`,children:p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[p.jsx("h2",{className:"text-lg font-bold",children:"Your Cart"}),p.jsx(on,{variant:"ghost",size:"icon",onClick:i,className:"rounded-full p-1 text-gray-500 hover:bg-gray-100","aria-label":"Close cart",children:p.jsx(sl,{className:"h-6 w-6"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.length===0?p.jsxs("div",{className:"flex h-full flex-col items-center justify-center text-gray-500 p-6 text-center",children:[p.jsx(Jc,{className:"mb-4 h-16 w-16 text-gray-300"}),p.jsx("p",{className:"mb-2 text-lg font-medium text-gray-700",children:"Your cart is empty"}),p.jsx("p",{className:"mb-6 text-sm text-gray-500",children:"Looks like you haven't added anything to your cart yet"}),p.jsx(on,{variant:"outline",onClick:i,className:"border-[#FF6B35] text-[#FF6B35] hover:bg-[#FFF5F0] hover:border-[#FF8C5A]",children:"Continue Shopping"})]}):p.jsx("div",{className:"space-y-4",children:e.map(S=>{const T=OH(S.product),C=cT(S.product),N=FH(S.product),k=S.product.id;return p.jsxs("div",{className:`flex items-center gap-4 rounded-lg border p-4 transition-all ${h===k?"bg-green-50":"bg-white"}`,children:[N?p.jsx("img",{src:N,alt:T,className:"h-16 w-16 rounded-md object-cover"}):p.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-md bg-gray-100",children:p.jsx(Jc,{className:"h-6 w-6 text-gray-400"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-medium",children:T}),p.jsxs("p",{className:"text-sm text-gray-500",children:["",C.toFixed(2)]}),p.jsxs("div",{className:"mt-2 flex items-center",children:[p.jsx(on,{variant:"outline",size:"icon",onClick:()=>x(k,S.quantity-1),className:"h-6 w-6 rounded-r-none border-r-0",disabled:S.quantity<=1,children:p.jsx(bV,{className:"h-3 w-3"})}),p.jsx("div",{className:"flex h-6 w-8 items-center justify-center border border-gray-300 text-sm",children:S.quantity}),p.jsx(on,{variant:"outline",size:"icon",onClick:()=>x(k,S.quantity+1),className:"h-6 w-6 rounded-l-none border-l-0",children:p.jsx(TV,{className:"h-3 w-3"})})]})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsxs("span",{className:"font-medium",children:["",(C*S.quantity).toFixed(2)]}),p.jsx(on,{variant:"ghost",size:"sm",onClick:()=>I(k),className:"h-auto p-0 text-sm text-red-500 hover:bg-transparent hover:text-red-700",children:"Remove"})]})]},k)})})}),e.length>0&&p.jsxs("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:[p.jsxs("div",{className:"mb-4 flex justify-between text-lg font-semibold",children:[p.jsx("span",{className:"text-gray-800",children:"Subtotal"}),p.jsxs("span",{className:"text-gray-900",children:["",M.toFixed(2)]})]}),p.jsx("p",{className:"mb-4 text-sm text-gray-500 text-center",children:"Shipping & taxes calculated at checkout"}),p.jsx(on,{onClick:E,disabled:a,className:"w-full bg-[#D7263D] hover:bg-[#FF6B35] text-white font-medium py-3 text-base transition-colors duration-200",children:a?p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Proceed to Checkout"})]})]})})})}function LH(){return p.jsx("section",{id:"about",className:"py-24 bg-[#F0F8FF]",children:p.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col items-center px-5",children:[p.jsxs("h2",{className:"text-4xl font-playfair font-bold text-gray-800 mb-6 text-center","data-aos":"fade-down",children:["About ",p.jsx("span",{className:"text-[#D7263D]",children:"Us"})]}),p.jsx("p",{className:"text-lg mb-6 text-center max-w-2xl text-gray-800","data-aos":"fade-up","data-aos-delay":"200",children:"Spicy Masala is on a mission to bring India's legendary spice magic to modern kitchens. Our founder, inspired by a century-old family recipe, started blending small batches in their NYC apartment in 2021. From classic garam masala to bold contemporary twists, every blend is freshly ground, ethically sourced, and shipped with care. We believe in joyful, flavorful, no-shortcut cookingnow just a click away."}),p.jsxs("div",{className:"flex flex-row justify-center space-x-5 mt-4","data-aos":"fade-up","data-aos-delay":"400",children:[p.jsx("span",{className:"bg-[#FFA500] text-white px-5 py-2 rounded-full font-bold text-md animate-scale-in hover:bg-[#B2F2BB] hover:text-gray-800 transition-colors duration-200 border-2 border-[#FFA500]",children:"Vegan"}),p.jsx("span",{className:"bg-[#FFA500] text-white px-5 py-2 rounded-full font-bold text-md animate-scale-in hover:bg-[#B2F2BB] hover:text-gray-800 transition-colors duration-200 border-2 border-[#FFA500]",children:"No Additives"}),p.jsx("span",{className:"bg-[#FFA500] text-white px-5 py-2 rounded-full font-bold text-md animate-scale-in hover:bg-[#B2F2BB] hover:text-gray-800 transition-colors duration-200 border-2 border-[#FFA500]",children:"100% Fresh"})]})]})})}class Xu{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const jH=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},At={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:jH()},o_=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},BH=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=o_(t);At.publicKey=n.publicKey,At.blockHeadless=n.blockHeadless,At.storageProvider=n.storageProvider,At.blockList=n.blockList,At.limitRate=n.limitRate,At.origin=n.origin||e},rD=async(t,e,n={})=>{const r=await fetch(At.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new Xu(r.status,i);if(r.ok)return s;throw s},iD=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},UH=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},sD=t=>t.webdriver||!t.languages||t.languages.length===0,oD=()=>new Xu(451,"Unavailable For Headless Browser"),$H=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},zH=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},qH=(t,e)=>t instanceof FormData?t.get(e):t[e],aD=(t,e)=>{if(zH(t))return!1;$H(t.list,t.watchVariable);const n=qH(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},lD=()=>new Xu(403,"Forbidden"),WH=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},HH=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},cD=async(t,e,n)=>{if(!e.throttle||!n)return!1;WH(e.throttle,e.id);const r=e.id||t;return await HH(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},uD=()=>new Xu(429,"Too Many Requests"),KH=async(t,e,n,r)=>{const i=o_(r),s=i.publicKey||At.publicKey,o=i.blockHeadless||At.blockHeadless,a=i.storageProvider||At.storageProvider,l={...At.blockList,...i.blockList},c={...At.limitRate,...i.limitRate};return o&&sD(navigator)?Promise.reject(oD()):(iD(s,t,e),UH(n),n&&aD(l,n)?Promise.reject(lD()):await cD(location.pathname,c,a)?Promise.reject(uD()):rD("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},GH=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},QH=t=>typeof t=="string"?document.querySelector(t):t,YH=async(t,e,n,r)=>{const i=o_(r),s=i.publicKey||At.publicKey,o=i.blockHeadless||At.blockHeadless,a=At.storageProvider||i.storageProvider,l={...At.blockList,...i.blockList},c={...At.limitRate,...i.limitRate};if(o&&sD(navigator))return Promise.reject(oD());const d=QH(n);iD(s,t,e),GH(d);const h=new FormData(d);return aD(l,h)?Promise.reject(lD()):await cD(location.pathname,c,a)?Promise.reject(uD()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",s),rD("/api/v1.0/email/send-form",h))},uT={init:BH,send:KH,sendForm:YH,EmailJSResponseStatus:Xu},XH="service_q9z4isp",JH="template_j0upuvs",ZH="0DnCEAKe0hTLOZZS0";function eK(){const[t,e]=y.useState({name:"",email:"",message:""}),[n,r]=y.useState(!1),i=o=>{e(a=>({...a,[o.target.name]:o.target.value}))},s=async o=>{if(o.preventDefault(),!t.name||!t.email||!t.message){Yn({title:"Please fill all fields.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){Yn({title:"Invalid email address",description:"Please enter a valid email address.",variant:"destructive"});return}r(!0);try{uT.init(ZH),await uT.send(XH,JH,{from_name:t.name,from_email:t.email,to_email:"shreemahalaxmi.product@gmail.com",message:t.message,reply_to:t.email}),Yn({title:"Thank you!",description:"Your message has been sent. We'll get back to you soon!"}),e({name:"",email:"",message:""})}catch(l){console.error("Error sending email:",l),Yn({title:"Error",description:"Failed to send message. Please try again later.",variant:"destructive"})}finally{r(!1)}};return p.jsx("section",{id:"contact",className:"py-24 bg-gradient-to-b from-[#F9F7F1] to-white",children:p.jsxs("div",{className:"max-w-2xl mx-auto px-5",children:[p.jsx("h2",{className:"text-4xl font-playfair font-bold text-gray-800 mb-12 text-center","data-aos":"fade-down",children:"Contact Us"}),p.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8","data-aos":"fade-up","data-aos-delay":"200",children:p.jsxs("form",{onSubmit:s,className:"space-y-6",children:[p.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:i,placeholder:"Your Name",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#FFA500] focus:border-transparent outline-none transition-all bg-white placeholder-gray-400",required:!0}),p.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:i,placeholder:"Your Email",className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#FFA500] focus:border-transparent outline-none transition-all bg-white placeholder-gray-400",required:!0}),p.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:i,placeholder:"Your Message",rows:5,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#FFA500] focus:border-transparent outline-none transition-all bg-white placeholder-gray-400 resize-none",required:!0}),p.jsx("button",{type:"submit",disabled:n,className:"w-full bg-[#D7263D] text-white py-4 rounded-lg font-semibold hover:bg-[#FF6B35] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Sending...":"Send Message"})]})})]})})}function tK(){return p.jsx("div",{className:"w-full",children:p.jsx("div",{className:"relative w-full h-[120px] rounded-lg overflow-hidden border-2 border-[#FF6B35]/20",children:p.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3888.5965966906644!2d77.61844427381561!3d12.934474915760927!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bae15270d1e0ebf%3A0x4c4b1c12c0a1a0a0!2sShree%20Mahalaxmi%20Food%20Products!5e0!3m2!1sen!2sin!4v1709410000000!5m2!1sen!2sin",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})})}const nK=[{q:["what is masala","what are masalas","what do you sell","products","spices","do you have spice blends"],a:"We specialize in premium spice blendsmasalas like Garam Masala, Tandoori Fire, Mango Chaat, Butter Chicken mix, and our exclusive sampler set."},{q:["where are you located","location","address","where can i find you","headquarters"],a:"We are based in Bangalore, India. Shop online or pick up at our flagship location!"},{q:["do you ship","delivery","how to order","can I order online","online order","shipping"],a:"Yes, we ship across India. Just select your favorite masalas and proceed to checkoutfast, safe delivery guaranteed!"},{q:["payment","accepted payments","cash","card","upi","how do i pay"],a:"You can pay via card, UPI, and other secure payment methods at checkout."},{q:["contact","how can i contact","support","help","customer care","email"],a:"You can reach us anytime using the contact form on this website, or via our customer care email: hello@spicymasala.co.in."},{q:["about","who are you","about this company","history","background"],a:"Spicy Masala: We blend tradition with innovation to bring bold, kitchen-ready masalas for every home. Crafted in Bangalore, trusted across India."},{q:["do you have gift packs","sampler","gift","tasting set","combo","assortment"],a:"Yes! Try our Super Sampler Set, a perfect gift for any culinary enthusiast."}];function rK(t){if(!t)return"How can I help you with our masalas?";const e=t.toLowerCase();for(const n of nK)if(n.q.some(r=>e.includes(r)))return n.a;return e.includes("hi")||e.includes("hello")||e.includes("hey")?"Hello!  Ask me anything about our masalas, shipping, or products.":"Sorry, I can only help with questions about our kitchen masalas, products, and orders!"}function iK(){const[t,e]=y.useState(!1),[n,r]=y.useState(""),[i,s]=y.useState([{sender:"bot",text:"Namaste! Ask me anything about our masala shop or products."}]),o=y.useRef(null);y.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[i,t]);function a(l){if(l&&l.preventDefault(),!n.trim())return;const c=n.trim();s(d=>[...d,{sender:"user",text:c}]),setTimeout(()=>{s(d=>[...d,{sender:"bot",text:rK(c)}])},400),r("")}return p.jsx(p.Fragment,{children:p.jsx("div",{className:"fixed z-50 bottom-10 right-4 md:bottom-8 md:right-10",style:{pointerEvents:"auto"},children:t?p.jsxs("div",{className:"w-80 max-w-[90vw] bg-[#F9F7F1] shadow-2xl rounded-2xl border-2 border-[#FF6B35] flex flex-col animate-fade-in",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-[#FF6B35] rounded-t-2xl bg-[#FF6B35]",children:[p.jsxs("div",{className:"flex items-center gap-2 text-[#F9F7F1] font-bold",children:[p.jsx(hE,{size:20}),p.jsx("span",{children:"Masala Bot"})]}),p.jsx("button",{className:"text-[#F9F7F1] hover:text-[#2F2F2F] transition-colors duration-200",onClick:()=>e(!1),"aria-label":"Close chat",tabIndex:0,children:p.jsx(sl,{size:22})})]}),p.jsx("div",{ref:o,className:"flex flex-col gap-2 p-3 overflow-y-auto min-h-[180px] max-h-64 text-sm",children:i.map((l,c)=>p.jsx("div",{className:`flex ${l.sender==="bot"?"justify-start":"justify-end"}`,children:p.jsx("div",{className:`${l.sender==="bot"?"bg-[#6FBF73] text-[#F9F7F1] rounded-br-md rounded-t-xl":"bg-[#FF6B35] text-[#F9F7F1] rounded-bl-md rounded-t-xl"} px-3 py-2 rounded-xl shadow-sm max-w-[90%]`,children:l.text})},c))}),p.jsxs("form",{className:"flex items-center gap-2 border-t border-[#FF6B35] p-2",onSubmit:a,children:[p.jsx("input",{type:"text",value:n,onChange:l=>r(l.target.value),onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&a(l)},placeholder:"Ask a masala question",className:"flex-1 px-3 py-2 rounded-lg border border-[#FF6B35] focus:outline-none focus:ring-2 focus:ring-[#FF6B35] text-[#2F2F2F] text-[1rem] bg-white",maxLength:100,"aria-label":"Type your question"}),p.jsx("button",{type:"submit",className:"p-2 text-[#D7263D] hover:text-[#FF6B35] rounded-full transition-colors duration-200","aria-label":"Send",children:p.jsx(IV,{size:20})})]})]}):p.jsxs("button",{className:"flex items-center gap-2 p-3 rounded-full shadow-xl bg-[#D7263D] hover:bg-[#FF6B35] text-[#F9F7F1] transition-colors duration-200","aria-label":"Ask Masala Bot",onClick:()=>e(!0),children:[p.jsx(hE,{})," ",p.jsx("span",{className:"hidden md:inline",children:"Chat"})]})})})}const _g=768;function sK(){const[t,e]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${_g-1}px)`),r=()=>{e(window.innerWidth<_g)};return n.addEventListener("change",r),e(window.innerWidth<_g),()=>n.removeEventListener("change",r)},[]),!!t}const dT="spicy-masala-cart",hT="spicy-masala-reviews",fT=[{id:"review-1",productId:"masala-1",userName:"Priya Sharma",rating:5,comment:"Absolutely amazing! This garam masala transformed my cooking. The aroma is incredible and it tastes just like my grandmother's blend.",createdAt:"2024-06-10T10:30:00Z"},{id:"review-2",productId:"masala-1",userName:"Raj Patel",rating:4,comment:"Great quality spices. Very authentic taste. Will definitely order again!",createdAt:"2024-06-08T15:45:00Z"},{id:"review-3",productId:"masala-2",userName:"Sarah Johnson",rating:5,comment:"Perfect for tandoori dishes! The smoky flavor is exactly what I was looking for. Highly recommended.",createdAt:"2024-06-12T09:20:00Z"},{id:"review-4",productId:"masala-3",userName:"Amit Kumar",rating:4,comment:"Love this on fruit salads! Adds such a unique and delicious flavor. Kids love it too.",createdAt:"2024-06-05T14:15:00Z"}];function oK(t){const[e,n]=y.useState([]);y.useEffect(()=>{const a=localStorage.getItem(dT);a&&n(JSON.parse(a))},[]),y.useEffect(()=>{localStorage.setItem(dT,JSON.stringify(e))},[e]);function r(a,l=1){n(d=>{const h=d.findIndex(g=>g.product.id===a.id);if(h<0)return[...d,{product:a,quantity:l}];const f=[...d];return f[h].quantity+=l,f});const c=l===1?`${a.title} added to cart!`:`${l}x ${a.title} added to cart!`;Yn({title:"Added to Cart! ",description:c,className:"bg-[#6FBF73] border-[#6FBF73] text-white cursor-pointer hover:bg-[#5A9F5E] transition-colors",duration:3e3,onClick:()=>t(!0)})}function i(a,l){n(c=>c.map(d=>d.product.id===a?{...d,quantity:Math.max(1,l)}:d))}function s(a){n(l=>{const c=l.find(h=>h.product.id===a),d=l.filter(h=>h.product.id!==a);return c&&Yn({title:"Removed from Cart",description:`${c.product.title} removed from cart`,className:"bg-[#D7263D] border-[#D7263D] text-white cursor-pointer hover:bg-[#B91C3A] transition-colors",duration:3e3,onClick:()=>t(!0)}),d})}function o(){n([]),Yn({title:"Order Placed! ",description:"Thank you for your order. We'll process it soon!",className:"bg-[#FF6B35] border-[#FF6B35] text-white cursor-pointer hover:bg-[#E55A2B] transition-colors",duration:3e3,onClick:()=>t(!0)})}return{cart:e,addItem:r,updateQty:i,remove:s,clear:o}}function aK(){const[t,e]=y.useState(fT);return y.useEffect(()=>{const r=localStorage.getItem(hT);if(r)try{const i=JSON.parse(r);e(i),console.log("Loaded reviews from localStorage:",i)}catch(i){console.error("Error parsing stored reviews:",i),e(fT)}else console.log("No stored reviews found, using initial reviews")},[]),y.useEffect(()=>{try{localStorage.setItem(hT,JSON.stringify(t)),console.log("Saved reviews to localStorage:",t)}catch(r){console.error("Error saving reviews to localStorage:",r)}},[t]),{reviews:t,addReview:(r,i)=>{console.log("useReviews: Adding review for product",r,i);const s={id:`review-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,productId:r,...i,createdAt:new Date().toISOString()};e(o=>{const a=[...o,s];return console.log("Updated reviews:",a),a})}}}const lK=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(!1),i=oK(e),s=aK(),o=sK();function a(){var d;window.scrollTo({top:((d=document.getElementById("products"))==null?void 0:d.offsetTop)||500,behavior:"smooth"})}function l(){r(!0),Yn({title:"Processing Order...",description:"Please wait while we process your order",className:"bg-[#FF6B35] border-[#FF6B35] text-white cursor-pointer hover:bg-[#E55A2B] transition-colors",duration:3e3,onClick:()=>e(!0)}),setTimeout(()=>{r(!1),i.clear(),e(!1)},1200)}const c=()=>{e(!t)};return p.jsxs("div",{className:"min-h-screen bg-brand-cream font-sans antialiased flex flex-col",children:[p.jsx(fH,{cartCount:i.cart.reduce((d,h)=>d+h.quantity,0),onCartClick:c}),p.jsxs("main",{className:"flex-1",children:[p.jsx(pH,{onShop:a}),p.jsx(MH,{onAddToCart:i.addItem,reviews:s.reviews,onAddReview:s.addReview}),p.jsx(LH,{}),p.jsx(eK,{})]}),p.jsx("footer",{className:"w-full text-white pt-16 pb-8 px-4 md:px-8",style:{background:"linear-gradient(90deg, #1A2634 50%, #274472 100%)"},children:p.jsxs("div",{className:"container-fluid mx-auto grid grid-cols-1 md:grid-cols-4 gap-8 text-center md:text-left",children:[p.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[p.jsx("h3",{className:"text-2xl font-playfair font-bold text-[#FFA500] mb-2",children:"Shree Mahalaxmi"}),p.jsx("div",{className:"w-24 h-12 bg-white/10 rounded-lg mb-4 flex items-center justify-center text-xs text-white/50",children:"LOGO"}),p.jsx("p",{className:"text-sm text-white/70",children:"Authentic Indian spices, crafted with tradition and love. Taste the difference in every meal."}),p.jsxs("p",{className:"text-xs text-white/50 mt-auto pt-8",children:[" ",new Date().getFullYear()," Shree Mahalaxmi Food Products. All Rights Reserved."]})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("h4",{className:"text-lg font-bold uppercase tracking-wider text-[#FFA500] mb-4",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2 text-sm mb-6",children:[p.jsx("li",{children:p.jsx("a",{href:"#hero",className:"hover:text-[#FFA500] transition-colors",children:"Home"})}),p.jsx("li",{children:p.jsx("a",{href:"#products",className:"hover:text-[#FFA500] transition-colors",children:"Products"})}),p.jsx("li",{children:p.jsx("a",{href:"#about",className:"hover:text-[#FFA500] transition-colors",children:"About Us"})}),p.jsx("li",{children:p.jsx("a",{href:"#contact",className:"hover:text-[#FFA500] transition-colors",children:"Contact"})})]}),p.jsx("h4",{className:"text-lg font-bold uppercase tracking-wider text-[#FFA500] mb-4",children:"Contact Us"}),p.jsxs("div",{className:"text-sm text-center text-white/70",children:[p.jsxs("p",{children:["123 Spice Market Street,",p.jsx("br",{}),"Bangalore, Karnataka 560001"]}),p.jsx("p",{className:"mt-2",children:"+91 98765 43210"})]})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("h4",{className:"text-lg font-bold uppercase tracking-wider text-[#FFA500] mb-4",children:"Certification"}),p.jsxs("div",{className:"bg-white/10 rounded-lg p-4 flex flex-col items-center gap-3",children:[p.jsx("img",{src:"/images/fssai.jpg",alt:"FSSAI Certified",className:"w-24 h-24 object-contain"}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-sm font-semibold text-white",children:"FSSAI Certified"}),p.jsx("p",{className:"text-xs text-white/70",children:"License No: 12345678901234"})]})]})]}),p.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[p.jsx("h4",{className:"text-lg font-bold uppercase tracking-wider text-[#FFA500] mb-4",children:"Location"}),p.jsx("div",{className:"w-full max-w-sm h-48 bg-gray-800 rounded-2xl overflow-hidden shadow-2xl",children:p.jsx(tK,{})})]})]})}),p.jsx(VH,{open:t,items:i.cart,onUpdateQty:i.updateQty,onRemove:i.remove,onClose:()=>e(!t),onCheckout:l,loading:n}),!(o&&(t||i.cart.length>0))&&p.jsx(iK,{})]})},cK=()=>{const t=dl();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},dD=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));dD.displayName="Card";const hD=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));hD.displayName="CardHeader";const fD=y.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));fD.displayName="CardTitle";const pD=y.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));pD.displayName="CardDescription";const mD=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));mD.displayName="CardContent";const uK=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));uK.displayName="CardFooter";const gD=y.forwardRef(({className:t,...e},n)=>p.jsx("div",{className:"relative w-full overflow-auto",children:p.jsx("table",{ref:n,className:we("w-full caption-bottom text-sm",t),...e})}));gD.displayName="Table";const yD=y.forwardRef(({className:t,...e},n)=>p.jsx("thead",{ref:n,className:we("[&_tr]:border-b",t),...e}));yD.displayName="TableHeader";const vD=y.forwardRef(({className:t,...e},n)=>p.jsx("tbody",{ref:n,className:we("[&_tr:last-child]:border-0",t),...e}));vD.displayName="TableBody";const dK=y.forwardRef(({className:t,...e},n)=>p.jsx("tfoot",{ref:n,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));dK.displayName="TableFooter";const mv=y.forwardRef(({className:t,...e},n)=>p.jsx("tr",{ref:n,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));mv.displayName="TableRow";const hc=y.forwardRef(({className:t,...e},n)=>p.jsx("th",{ref:n,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));hc.displayName="TableHead";const fc=y.forwardRef(({className:t,...e},n)=>p.jsx("td",{ref:n,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));fc.displayName="TableCell";const hK=y.forwardRef(({className:t,...e},n)=>p.jsx("caption",{ref:n,className:we("mt-4 text-sm text-muted-foreground",t),...e}));hK.displayName="TableCaption";const fK=g0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pK({className:t,variant:e,...n}){return p.jsx("div",{className:we(fK({variant:e}),t),...n})}function ar(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function wo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const wD=6048e5,mK=864e5;let gK={};function Jp(){return gK}function Tu(t,e){var a,l,c,d;const n=Jp(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=ar(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ff(t){return Tu(t,{weekStartsOn:1})}function _D(t){const e=ar(t),n=e.getFullYear(),r=wo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Ff(r),s=wo(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Ff(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function pT(t){const e=ar(t);return e.setHours(0,0,0,0),e}function mT(t){const e=ar(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function yK(t,e){const n=pT(t),r=pT(e),i=+n-mT(n),s=+r-mT(r);return Math.round((i-s)/mK)}function vK(t){const e=_D(t),n=wo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ff(n)}function wK(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _K(t){if(!wK(t)&&typeof t!="number")return!1;const e=ar(t);return!isNaN(Number(e))}function xK(t){const e=ar(t),n=wo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const EK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bK=(t,e,n)=>{let r;const i=EK[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const TK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},IK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},SK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CK={date:xg({formats:TK,defaultWidth:"full"}),time:xg({formats:IK,defaultWidth:"full"}),dateTime:xg({formats:SK,defaultWidth:"full"})},AK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PK=(t,e,n,r)=>AK[t];function Zl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const RK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},VK={ordinalNumber:FK,era:Zl({values:RK,defaultWidth:"wide"}),quarter:Zl({values:kK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zl({values:NK,defaultWidth:"wide"}),day:Zl({values:DK,defaultWidth:"wide"}),dayPeriod:Zl({values:MK,defaultWidth:"wide",formattingValues:OK,defaultFormattingWidth:"wide"})};function ec(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?jK(a,h=>h.test(o)):LK(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function LK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function jK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function BK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const UK=/^(\d+)(th|st|nd|rd)?/i,$K=/\d+/i,zK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qK={any:[/^b/i,/^(a|c)/i]},WK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HK={any:[/1/i,/2/i,/3/i,/4/i]},KK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZK={ordinalNumber:BK({matchPattern:UK,parsePattern:$K,valueCallback:t=>parseInt(t,10)}),era:ec({matchPatterns:zK,defaultMatchWidth:"wide",parsePatterns:qK,defaultParseWidth:"any"}),quarter:ec({matchPatterns:WK,defaultMatchWidth:"wide",parsePatterns:HK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ec({matchPatterns:KK,defaultMatchWidth:"wide",parsePatterns:GK,defaultParseWidth:"any"}),day:ec({matchPatterns:QK,defaultMatchWidth:"wide",parsePatterns:YK,defaultParseWidth:"any"}),dayPeriod:ec({matchPatterns:XK,defaultMatchWidth:"any",parsePatterns:JK,defaultParseWidth:"any"})},eG={code:"en-US",formatDistance:bK,formatLong:CK,formatRelative:PK,localize:VK,match:ZK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tG(t){const e=ar(t);return yK(e,xK(e))+1}function nG(t){const e=ar(t),n=+Ff(e)-+vK(e);return Math.round(n/wD)+1}function xD(t,e){var d,h,f,g;const n=ar(t),r=n.getFullYear(),i=Jp(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(f=i.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=wo(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Tu(o,e),l=wo(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Tu(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function rG(t,e){var a,l,c,d;const n=Jp(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=xD(t,e),s=wo(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Tu(s,e)}function iG(t,e){const n=ar(t),r=+Tu(n,e)-+rG(n,e);return Math.round(r/wD)+1}function Me(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Me(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Me(n+1,2)},d(t,e){return Me(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Me(t.getHours()%12||12,e.length)},H(t,e){return Me(t.getHours(),e.length)},m(t,e){return Me(t.getMinutes(),e.length)},s(t,e){return Me(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Me(i,e.length)}},$o={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xi.y(t,e)},Y:function(t,e,n,r){const i=xD(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Me(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Me(s,e.length)},R:function(t,e){const n=_D(t);return Me(n,e.length)},u:function(t,e){const n=t.getFullYear();return Me(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Me(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Me(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Me(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=iG(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Me(i,e.length)},I:function(t,e,n){const r=nG(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Me(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xi.d(t,e)},D:function(t,e,n){const r=tG(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Me(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Me(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Me(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Me(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=$o.noon:r===0?i=$o.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=$o.evening:r>=12?i=$o.afternoon:r>=4?i=$o.morning:i=$o.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Me(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Me(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xi.s(t,e)},S:function(t,e){return xi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vT(r);case"XXXX":case"XX":return ks(r);case"XXXXX":case"XXX":default:return ks(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vT(r);case"xxxx":case"xx":return ks(r);case"xxxxx":case"xxx":default:return ks(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yT(r,":");case"OOOO":default:return"GMT"+ks(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yT(r,":");case"zzzz":default:return"GMT"+ks(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Me(r,e.length)},T:function(t,e,n){const r=t.getTime();return Me(r,e.length)}};function yT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Me(s,2)}function vT(t,e){return t%60===0?(t>0?"-":"+")+Me(Math.abs(t)/60,2):ks(t,e)}function ks(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Me(Math.trunc(r/60),2),s=Me(r%60,2);return n+i+e+s}const wT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ED=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},sG=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return wT(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",wT(r,e)).replace("{{time}}",ED(i,e))},oG={p:ED,P:sG},aG=/^D+$/,lG=/^Y+$/,cG=["D","DD","YY","YYYY"];function uG(t){return aG.test(t)}function dG(t){return lG.test(t)}function hG(t,e,n){const r=fG(t,e,n);if(console.warn(r),cG.includes(t))throw new RangeError(r)}function fG(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gG=/^'([^]*?)'?$/,yG=/''/g,vG=/[a-zA-Z]/;function wG(t,e,n){var d,h,f,g;const r=Jp(),i=r.locale??eG,s=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,a=ar(t);if(!_K(a))throw new RangeError("Invalid time value");let l=e.match(mG).map(w=>{const v=w[0];if(v==="p"||v==="P"){const b=oG[v];return b(w,i.formatLong)}return w}).join("").match(pG).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:_G(w)};if(gT[v])return{isToken:!0,value:w};if(v.match(vG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const v=w.value;(dG(v)||uG(v))&&hG(v,e,String(t));const b=gT[v[0]];return b(a,v,i.localize,c)}).join("")}function _G(t){const e=t.match(gG);return e?e[1].replace(yG,"'"):t}function xG(){const{currentUser:t}=Kp(),[e,n]=y.useState([]),[r,i]=y.useState(!0),[s,o]=y.useState(null),a=y.useCallback(async()=>{if(!(t!=null&&t.uid)){i(!1);return}i(!0),o(null);try{const c=Qz(xk(ts,"orders"),Yz("userId","==",t.uid),Xz("createdAt","desc"),Jz(50)),h=(await n8(c)).docs.map(f=>{var w;const g=f.data();return(w=g.createdAt)!=null&&w.toDate&&(g.createdAt=Ge.fromDate(new Date(g.createdAt.toDate()))),{id:f.id,...g}});n(h)}catch(c){console.error("Error fetching orders:",c),o("Failed to load orders. Please try again."),console.error("Failed to load orders")}finally{i(!1)}},[t]);y.useEffect(()=>{a()},[a]);const l=c=>{const h={pending:{label:"Pending",variant:"bg-yellow-100 text-yellow-800"},processing:{label:"Processing",variant:"bg-blue-100 text-blue-800"},shipped:{label:"Shipped",variant:"bg-purple-100 text-purple-800"},delivered:{label:"Delivered",variant:"bg-green-100 text-green-800"},cancelled:{label:"Cancelled",variant:"bg-red-100 text-red-800"}}[c]||{label:c,variant:"bg-gray-100 text-gray-800"};return p.jsx(pK,{className:h.variant,children:h.label})};return r?p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#FF6B35]"}),p.jsx("p",{children:"Loading your orders..."})]}):s?p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[p.jsx("p",{className:"text-red-500",children:s}),p.jsx("button",{onClick:a,className:"px-4 py-2 bg-[#FF6B35] text-white rounded hover:bg-[#E55A28] transition-colors",children:"Retry"})]}):t?e.length===0?p.jsx("div",{className:"container mx-auto px-4 py-8",children:p.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[p.jsx("h1",{className:"text-3xl font-bold mb-4",children:"My Orders"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't placed any orders yet."}),p.jsx(on,{onClick:()=>window.location.href="/",children:"Continue Shopping"})]})}):p.jsx("div",{className:"container mx-auto px-4 py-8",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsx("h1",{className:"text-3xl font-bold mb-8",children:"My Orders"}),p.jsx("div",{className:"space-y-6",children:e.map(c=>p.jsxs(dD,{className:"overflow-hidden",children:[p.jsx(hD,{className:"bg-gray-50",children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[p.jsxs("div",{children:[p.jsxs(fD,{className:"text-lg",children:["Order #",c.id.substring(0,8).toUpperCase()]}),p.jsxs(pD,{className:"mt-1",children:["Placed on ",wG(c.createdAt.toDate(),"MMMM d, yyyy")]})]}),p.jsx("div",{className:"mt-2 md:mt-0",children:l(c.status)})]})}),p.jsxs(mD,{className:"p-0",children:[p.jsxs(gD,{children:[p.jsx(yD,{children:p.jsxs(mv,{children:[p.jsx(hc,{className:"w-[300px]",children:"Product"}),p.jsx(hc,{children:"Price"}),p.jsx(hc,{children:"Quantity"}),p.jsx(hc,{className:"text-right",children:"Total"})]})}),p.jsx(vD,{children:c.items.map(d=>p.jsxs(mv,{children:[p.jsx(fc,{className:"font-medium",children:p.jsxs("div",{className:"flex items-center space-x-4",children:[d.image&&p.jsx("img",{src:d.image,alt:d.name,className:"w-16 h-16 object-cover rounded"}),p.jsx("span",{children:d.name})]})}),p.jsxs(fc,{children:["",d.price.toFixed(2)]}),p.jsx(fc,{children:d.quantity}),p.jsxs(fc,{className:"text-right",children:["",(d.price*d.quantity).toFixed(2)]})]},d.id))})]}),p.jsx("div",{className:"border-t p-4 flex justify-end",children:p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Order Total"}),p.jsxs("div",{className:"text-xl font-bold",children:["",c.total.toFixed(2)]}),p.jsxs("div",{className:"mt-4 space-x-2",children:[p.jsx(on,{variant:"outline",size:"sm",className:"mr-2",children:"View Details"}),c.status==="pending"&&p.jsx(on,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",children:"Cancel Order"}),c.status==="delivered"&&p.jsx(on,{variant:"outline",size:"sm",children:"Buy Again"})]})]})})]})]},c.id))})]})}):p.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Please sign in to view your orders"}),p.jsx(on,{onClick:()=>window.location.href="/login",children:"Sign In"})]})}var bD={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(QD,function(){return function(n){function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return n[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=n,r.c=i,r.p="dist/",r(0)}([function(n,r,i){function s(U){return U&&U.__esModule?U:{default:U}}var o=Object.assign||function(U){for(var ne=1;ne<arguments.length;ne++){var Z=arguments[ne];for(var oe in Z)Object.prototype.hasOwnProperty.call(Z,oe)&&(U[oe]=Z[oe])}return U},a=i(1),l=(s(a),i(6)),c=s(l),d=i(7),h=s(d),f=i(8),g=s(f),w=i(9),v=s(w),b=i(10),E=s(b),x=i(11),I=s(x),D=i(14),M=s(D),O=[],S=!1,T={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},C=function(){var U=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(U&&(S=!0),S)return O=(0,I.default)(O,T),(0,E.default)(O,T.once),O},N=function(){O=(0,M.default)(),C()},k=function(){O.forEach(function(U,ne){U.node.removeAttribute("data-aos"),U.node.removeAttribute("data-aos-easing"),U.node.removeAttribute("data-aos-duration"),U.node.removeAttribute("data-aos-delay")})},R=function(U){return U===!0||U==="mobile"&&v.default.mobile()||U==="phone"&&v.default.phone()||U==="tablet"&&v.default.tablet()||typeof U=="function"&&U()===!0},P=function(U){T=o(T,U),O=(0,M.default)();var ne=document.all&&!window.atob;return R(T.disable)||ne?k():(T.disableMutationObserver||g.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),T.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",T.easing),document.querySelector("body").setAttribute("data-aos-duration",T.duration),document.querySelector("body").setAttribute("data-aos-delay",T.delay),T.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?C(!0):T.startEvent==="load"?window.addEventListener(T.startEvent,function(){C(!0)}):document.addEventListener(T.startEvent,function(){C(!0)}),window.addEventListener("resize",(0,h.default)(C,T.debounceDelay,!0)),window.addEventListener("orientationchange",(0,h.default)(C,T.debounceDelay,!0)),window.addEventListener("scroll",(0,c.default)(function(){(0,E.default)(O,T.once)},T.throttleDelay)),T.disableMutationObserver||g.default.ready("[data-aos]",N),O)};n.exports={init:P,refresh:C,refreshHard:N}},function(n,r){},,,,,function(n,r){(function(i){function s(R,P,U){function ne(ve){var Ye=fe,ut=Se;return fe=Se=void 0,Ue=ve,pe=R.apply(ut,Ye)}function Z(ve){return Ue=ve,Ce=setTimeout(B,P),xt?ne(ve):pe}function oe(ve){var Ye=ve-Te,ut=ve-Ue,ai=P-Ye;return ct?N(ai,le-ut):ai}function L(ve){var Ye=ve-Te,ut=ve-Ue;return Te===void 0||Ye>=P||Ye<0||ct&&ut>=le}function B(){var ve=k();return L(ve)?Y(ve):void(Ce=setTimeout(B,oe(ve)))}function Y(ve){return Ce=void 0,be&&fe?ne(ve):(fe=Se=void 0,pe)}function G(){Ce!==void 0&&clearTimeout(Ce),Ue=0,fe=Te=Se=Ce=void 0}function J(){return Ce===void 0?pe:Y(k())}function ee(){var ve=k(),Ye=L(ve);if(fe=arguments,Se=this,Te=ve,Ye){if(Ce===void 0)return Z(Te);if(ct)return Ce=setTimeout(B,P),ne(Te)}return Ce===void 0&&(Ce=setTimeout(B,P)),pe}var fe,Se,le,pe,Ce,Te,Ue=0,xt=!1,ct=!1,be=!0;if(typeof R!="function")throw new TypeError(f);return P=d(P)||0,a(U)&&(xt=!!U.leading,ct="maxWait"in U,le=ct?C(d(U.maxWait)||0,P):le,be="trailing"in U?!!U.trailing:be),ee.cancel=G,ee.flush=J,ee}function o(R,P,U){var ne=!0,Z=!0;if(typeof R!="function")throw new TypeError(f);return a(U)&&(ne="leading"in U?!!U.leading:ne,Z="trailing"in U?!!U.trailing:Z),s(R,P,{leading:ne,maxWait:P,trailing:Z})}function a(R){var P=typeof R>"u"?"undefined":h(R);return!!R&&(P=="object"||P=="function")}function l(R){return!!R&&(typeof R>"u"?"undefined":h(R))=="object"}function c(R){return(typeof R>"u"?"undefined":h(R))=="symbol"||l(R)&&T.call(R)==w}function d(R){if(typeof R=="number")return R;if(c(R))return g;if(a(R)){var P=typeof R.valueOf=="function"?R.valueOf():R;R=a(P)?P+"":P}if(typeof R!="string")return R===0?R:+R;R=R.replace(v,"");var U=E.test(R);return U||x.test(R)?I(R.slice(2),U?2:8):b.test(R)?g:+R}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},f="Expected a function",g=NaN,w="[object Symbol]",v=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,x=/^0o[0-7]+$/i,I=parseInt,D=(typeof i>"u"?"undefined":h(i))=="object"&&i&&i.Object===Object&&i,M=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,O=D||M||Function("return this")(),S=Object.prototype,T=S.toString,C=Math.max,N=Math.min,k=function(){return O.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){(function(i){function s(k,R,P){function U(be){var ve=ee,Ye=fe;return ee=fe=void 0,Te=be,le=k.apply(Ye,ve)}function ne(be){return Te=be,pe=setTimeout(L,R),Ue?U(be):le}function Z(be){var ve=be-Ce,Ye=be-Te,ut=R-ve;return xt?C(ut,Se-Ye):ut}function oe(be){var ve=be-Ce,Ye=be-Te;return Ce===void 0||ve>=R||ve<0||xt&&Ye>=Se}function L(){var be=N();return oe(be)?B(be):void(pe=setTimeout(L,Z(be)))}function B(be){return pe=void 0,ct&&ee?U(be):(ee=fe=void 0,le)}function Y(){pe!==void 0&&clearTimeout(pe),Te=0,ee=Ce=fe=pe=void 0}function G(){return pe===void 0?le:B(N())}function J(){var be=N(),ve=oe(be);if(ee=arguments,fe=this,Ce=be,ve){if(pe===void 0)return ne(Ce);if(xt)return pe=setTimeout(L,R),U(Ce)}return pe===void 0&&(pe=setTimeout(L,R)),le}var ee,fe,Se,le,pe,Ce,Te=0,Ue=!1,xt=!1,ct=!0;if(typeof k!="function")throw new TypeError(h);return R=c(R)||0,o(P)&&(Ue=!!P.leading,xt="maxWait"in P,Se=xt?T(c(P.maxWait)||0,R):Se,ct="trailing"in P?!!P.trailing:ct),J.cancel=Y,J.flush=G,J}function o(k){var R=typeof k>"u"?"undefined":d(k);return!!k&&(R=="object"||R=="function")}function a(k){return!!k&&(typeof k>"u"?"undefined":d(k))=="object"}function l(k){return(typeof k>"u"?"undefined":d(k))=="symbol"||a(k)&&S.call(k)==g}function c(k){if(typeof k=="number")return k;if(l(k))return f;if(o(k)){var R=typeof k.valueOf=="function"?k.valueOf():k;k=o(R)?R+"":R}if(typeof k!="string")return k===0?k:+k;k=k.replace(w,"");var P=b.test(k);return P||E.test(k)?x(k.slice(2),P?2:8):v.test(k)?f:+k}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},h="Expected a function",f=NaN,g="[object Symbol]",w=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,E=/^0o[0-7]+$/i,x=parseInt,I=(typeof i>"u"?"undefined":d(i))=="object"&&i&&i.Object===Object&&i,D=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,M=I||D||Function("return this")(),O=Object.prototype,S=O.toString,T=Math.max,C=Math.min,N=function(){return M.Date.now()};n.exports=s}).call(r,function(){return this}())},function(n,r){function i(d){var h=void 0,f=void 0;for(h=0;h<d.length;h+=1)if(f=d[h],f.dataset&&f.dataset.aos||f.children&&i(f.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!s()}function a(d,h){var f=window.document,g=s(),w=new g(l);c=h,w.observe(f.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(d){d&&d.forEach(function(h){var f=Array.prototype.slice.call(h.addedNodes),g=Array.prototype.slice.call(h.removedNodes),w=f.concat(g);if(i(w))return c()})}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){};r.default={isSupported:o,ready:a}},function(n,r){function i(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function f(g,w){for(var v=0;v<w.length;v++){var b=w[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,w,v){return w&&f(g.prototype,w),v&&f(g,v),g}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=function(){function f(){i(this,f)}return o(f,[{key:"phone",value:function(){var g=s();return!(!a.test(g)&&!l.test(g.substr(0,4)))}},{key:"mobile",value:function(){var g=s();return!(!c.test(g)&&!d.test(g.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),f}();r.default=new h},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o,a,l){var c=o.node.getAttribute("data-aos-once");a>o.position?o.node.classList.add("aos-animate"):typeof c<"u"&&(c==="false"||!l&&c!=="true")&&o.node.classList.remove("aos-animate")},s=function(o,a){var l=window.pageYOffset,c=window.innerHeight;o.forEach(function(d,h){i(d,c+l,a)})};r.default=s},function(n,r,i){function s(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=s(o),l=function(c,d){return c.forEach(function(h,f){h.node.classList.add("aos-init"),h.position=(0,a.default)(h.node,d.offset)}),c};r.default=l},function(n,r,i){function s(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(13),a=s(o),l=function(c,d){var h=0,f=0,g=window.innerHeight,w={offset:c.getAttribute("data-aos-offset"),anchor:c.getAttribute("data-aos-anchor"),anchorPlacement:c.getAttribute("data-aos-anchor-placement")};switch(w.offset&&!isNaN(w.offset)&&(f=parseInt(w.offset)),w.anchor&&document.querySelectorAll(w.anchor)&&(c=document.querySelectorAll(w.anchor)[0]),h=(0,a.default)(c).top,w.anchorPlacement){case"top-bottom":break;case"center-bottom":h+=c.offsetHeight/2;break;case"bottom-bottom":h+=c.offsetHeight;break;case"top-center":h+=g/2;break;case"bottom-center":h+=g/2+c.offsetHeight;break;case"center-center":h+=g/2+c.offsetHeight/2;break;case"top-top":h+=g;break;case"bottom-top":h+=c.offsetHeight+g;break;case"center-top":h+=c.offsetHeight/2+g}return w.anchorPlacement||w.offset||isNaN(d)||(f=d),h+f};r.default=l},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){for(var o=0,a=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)o+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),a+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:a,left:o}};r.default=i},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(o){return{node:o}})};r.default=i}])})})(bD);var EG=bD.exports;const bG=gv(EG);class _T extends y.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:p.jsxs("div",{className:"text-center max-w-md",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),p.jsx("p",{className:"mb-4",children:"We're having trouble loading this page. Please try refreshing."}),p.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Refresh Page"})]})}):this.props.children}}const TG=new Dj({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),IG=()=>{const{currentUser:t,loading:e}=Kp();return e?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#FF6B35]"})}):t?p.jsx(I5,{}):p.jsx(T5,{to:"/",replace:!0})},SG=()=>(y.useEffect(()=>{console.log("App mounted");try{bG.init({duration:1e3,once:!0,easing:"ease-in-out"})}catch(t){console.error("AOS initialization error:",t)}},[]),p.jsx(_T,{children:p.jsx(Oj,{client:TG,children:p.jsxs(uj,{children:[p.jsx(aL,{}),p.jsx(FL,{}),p.jsx(M5,{children:p.jsx("div",{className:"min-h-screen flex flex-col",children:p.jsx(_T,{children:p.jsxs(C5,{children:[p.jsx(sc,{path:"/",element:p.jsx(lK,{})}),p.jsx(sc,{element:p.jsx(IG,{}),children:p.jsx(sc,{path:"/orders",element:p.jsx(xG,{})})}),p.jsx(sc,{path:"*",element:p.jsx(cK,{})})]})})})})]})})})),TD=document.getElementById("root");if(!TD)throw new Error("Failed to find the root element");try{zS(TD).render(p.jsx(M7,{children:p.jsx(U7,{children:p.jsx(SG,{})})}))}catch(t){console.error("Failed to render the app:",t),document.body.innerHTML=`
    <div style="padding: 2rem; font-family: system-ui, sans-serif; max-width: 800px; margin: 0 auto;">
      <h1>Something went wrong</h1>
      <p>We're having trouble loading the application. Please try refreshing the page.</p>
      <p>If the problem persists, please contact support.</p>
      <p>Error details: ${t instanceof Error?t.message:String(t)}</p>
    </div>
  `}
//# sourceMappingURL=index-fzmmguWE.js.map
